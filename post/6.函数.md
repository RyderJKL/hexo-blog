# 函数

---

title: Python(6)-函数
date: 2016-04-12 22:35
tags: ['Python基础']
toc: true
categories: technology

## 0x00 函数定义和声明

---

Python 中使用关键字 `def` 而不是 `function` 来定义(define)函数，同时也可以在定义函数时进行参数的初始化:

```python
def function (a = 1, b = 3 ,c = 4):
    print a,b,c

function()
# 运行结果:
1,3,4
```

## 0x01 函数参数传递

---

### 值传递(也叫位置传递)

```python
def function(a=1, b=3, c=4):
    print a,b,c
function(4,5,6)
# 运行结果:
4,5,6
```

对于基本类型的变量，变量传递给函数后，函数或在内存中复制一个新的变量，从而不影响原来变量的值。我们称此为 **值传递**

### 指针传递

```python
b = [1,2,3]
def chang_list(b):
        b[0] = b[0]+1
        return b
print chang_list(b)
print b
运行结果:
2,2,3
```

对于表来说，表传递给函数的是一个指针，指针指向序列在内存中的位置，在函数中对表的操作将在原有内存中进行，从而影响原有变量。我们称此为 **指针传递**。

### 关键字传递(keyword)

```python
def function(a=1, b=3, c=4):
    print a, b, c
function(b=10, a=100, c=99)
运行结果:
100,10,99
```

**关键字(keyword)传递** 是根据每个参数的名字传递参数。关键字并不用遵守位置的对应关系

### 包裹传递(packing)

```python
def f(*name):
    print type(name)
    print name
f(1, 2, 3)
f(4,5,6,7)
运行结果:
<type 'tuple'>
(1, 2, 3)
(4,5,6,7)
 ```
有时我们在定义函数式时并不知道调用的时候会传递多少个参数，这时，包裹(packing)位置传递，或者包裹关键字就很好了.

如上我们进行了两次函数调用，在 `f` 函数的参数列表里，所有的参数均被 `name` 收集，根据位置合成一个元组(tuple),这就是 **包裹传递**

## 0x02 函数和文件

---

```python
from sys import argv
# 从sys库中导入argv模块
script,input_file=argv
#参数传递
def print_all(f):
	print f.read()
#读取所有文件内容并打印到屏幕
def rewind(f):
	f.seek(0)
#将文件指针重新定位到开头，这样做的好处是不用再重新打开文件

def print_a_line(line_count,f):
	print line_count,f.readline()
#打印输出第一行
current_file=open(input_file)

print_all(current_file)

rewind(current_file)

current_line=1
print_a_line(current_line,current_file)

current_line=2
print_a_line(current_line,current_file)

current_line=3
print_a_line(current_line,current_file)
```

## 0x04 函数的返回值

---

```python
def secret_formula(started):
	jelly_beans=started*500
	jars=jelly_beans/1000
	crates=jars/100
	return jelly_beans,jars,crates
start_point=100000
beans,jars,crates=secret_formula(start_point)

print "with a starting point of:%d" % start_point
print "we'd have %d beans,%d jars,and %d crates." % (beans,jars,crates)

start_point=start_point/10

print "we can also do that this way:"
print "we'd have %d beans,%d jars,and %d crates." % secret_formula(start_point)
```

