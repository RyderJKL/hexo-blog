---
title: 第五章-开关机命令
date: 2016-02-27 12:48:52
tags: ['鸟哥的Linux读书笔记基础篇']
toc: true
categories: technology


---

不同于windows在Linux的运行环境下， 若不正常关机，则可能造成文件系统的毁损， 所以正常情况下，要关机时需要注意底下几件事：

如果要看目前有谁在在线，可以下达命令:
```
$ who
```
而如果要看网络的联机状态，可以下达命令:
```
$ netstat -a
```
而要看背景运行的程序可以运行命令:
```
$ ps-aux
```
使用这些命令可以让你稍微了解主机目前的使用状态！当然啰，就可以让你判断是否可以关机了 （这些命令在后面Linux常用命令中会提及喔！）
#####正确的关机命令与使用:
 * 将数据同步写入硬盘中的命令： 
           ```
           $ sync
           ```
        但现在 shutdown/reboot/halt 等等命令均已经在关机前进行了 sync 这个工具的呼叫.
  *  惯用的关机命令： shutdown
   * 可以自由选择关机模式：是要关机、重新启动或进入单人操作模式均可；
   * 可以配置关机时间: 可以配置成现在立刻关机, 也可以配置某一个特定的时间才关机。
   * 可以自定义关机信息：在关机之前，可以将自己配置的信息传送给在线 user 。
   * 可以仅发出警告信息：有时有可能你要进行一些测试，而不想让其他的使用者干扰， 或者是明白的告诉使用者某段时间要注意一下！这个时候可以使用 shutdown 来吓一吓使用者，但却不是真的要关机啦.
   * 可以选择是否要 fsck 检查文件系统
		
      _[root@www ~]# :shutdown [-t 秒] [-arkhncfF] 时间 [警告信息] _

      <a>选项与参数： 
     -t:-t 后面加秒数，亦即『过几秒后关机』的意思 
     -k:不要真的关机，只是发送警告信息出去！ 
     -r:将系统的服务停掉之后就重新启动(常用) 
     -h:将系统的服务停掉后，立即关机。 (常用) 
     -n:经过 init 程序，直接以 shutdown 的功能来关机 
     -f:关机并启动之后，强制略过 fsck 的磁盘检查 
     -F:系统重新启动之后，强制进行 fsck 的磁盘检查 
     -c:取消已经在进行的 shutdown 命令内容。 </a>

 * 重新启动，关机： reboot, halt, poweroff
>在linux中只有root才能执行shutdown，reboot命令

##### 切换运行等级:init 
其实Linux共有七种运行等级， 七种等级的意义我们在后面会再谈到。本章你只要知道底下四种运行等级就好了：
   * run level 0：关机
   * run level 3：纯文本模式
   * run level 5：含有图形接口模式
   * run level 6：重新启动


