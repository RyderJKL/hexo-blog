# 字符串格式化

title: Python(1)-字符串格式化
date: 2016-03-25 21:24
tags: ['Python基础']
toc: true
categories: technology

## 0x00

单(')引号与双引号("")并无明显区别，三引号(''')或者(""")【两者并无明显区别】中的字符可以换行输入文本

## 0x01 Numbers and Math

每种程序语言都有自己的数字和数学表示方法，下面是Python中的数学符号:

* __+__ plus  加号
* __-__ minus  减号
* __/__ slash  斜杠/求模
* __*__ asterisk  星号/乘号
* __%__ percent 模运算中的求余
* __<__ less-than
* __>__ greater-than
* __<=__ less-than-equal
* __>=__ greater-than-equal

## 0x02 Variables and Names (变量和命名)

首先需要知道的是Python中并没有常量的概念，python中的数的类型有五种:int,long,float,bool,complex（复数），在编程中变量不过是一个名字，由于程序员们糟糕的记忆，才需要给变量区名，以便区分它们！

## 0x03 Python转义字符(Escape Sequences)

ESCAPE|作用
:---:|:---:
\\\|Backslash(\)
\\'|SIngle-quote(')
\"|Double-quote(")
\a|ASCII bell(BEL)
\b|ASCII backspace(BS)
\f|ASCII formfeed(FF) 跳页
\n|ASCII linefeed(LF) 换行
\r|Carriage Return(CR) 回车
\t|Horizontal Tab (TAB) 水平制表符
\v|Vertical Tab(VT) 垂直制表符

## 0x04 模板 "%"

格式化字符串时，Python使用一个字符串作为模板，模板中有格式符，这些格式符为真是值预留位置，并说明真实数值应该呈现的格式，Pyhon使用一个tuple将多个值传递给模板，每个值对应一个字符:

```python
print("i'm %s. i'm %d year old" % ("onejustone", 3))
```

还可以使用词典来传递真实值

```python
print("i'm % (name)s. i'm %(age)d year old" % { 'name': 'onejustone', 'age':3})
```

## 0x05 格式符

* __%s__ 字符串(采用str()的显示)
* __%r__ 字符串(采用repr()的显示)
* __%c__ 单个字符
* __%b__ 二进制
* __%d__ 十进制
* __%i__ 十进制
* __%o__ 八进制
* __%x__ 十六进制
* __%e__ 指数(基底为e)
* __%E__ 指数(基底为E)
* __%f__ 浮点数
* __%F__ 浮点数
* __%g__ 指数(e)或者浮点数(根据长度自动显示)
* __%G__ 指数(E)或者浮点数(根据长度自动显示)
* __%%__ 字符"%"

## 0x06 格式字符串的语法

__ %[(name)] [flags] [width].[precision] typecode __

(name)为名，flags可以__+__表示右对齐, __-__表示左对齐, __' '__为一个空格表示在正数的左侧填充一个空格, 或者__0__表示使用0填充. width表示显示的宽度，precision表示小数点后精度。

如:

```python
print("%+10x" % 10)
        +a
print("%04d" % 5)
0005
print("%6.3f" % 2.4)
 2.400
```

对于width，precision为两个整数，还可以利用__“*”__，来动态代入这个两个量:

```python
 print("%*.*f" %(8, 5, 5.999))
 5.99900
```

!> "%s"和"%r"的区别

在使用“%r”时表示输出自然语言字符串(英文)，使用reper()方法处理对象，而%s使用str()方法处理对象:

* 它们对数字的处理方式都是相同的:

```python
print "this number is %d." % 22
print 'this number is %s.'  % 22
print 'this number is %r.'  % 22
this number is 22.
```

* 但以下则不一样

```python
text='i am %d years old.' % 22
print 'i said:%s' % text
i said:i am 22 years old.
print 'i said:%r' % text
i said:'i am 22 years old.'
```

r对其处理的文本加了单引号

* 再来

```python
import datetime
d=datetime.date.today()
print '%s' % d
2016-03-28
print '%r' % d
datetime.date(2016, 3, 28)
```

可见 `%r` 打印时可以重现其所代表的对象 (`rper()`)

```python
formatter='%r %r %r %r
print formatter % (formatter,formatter,formatter,formatter)
'%r %r %r %r' '%r %r %r %r' '%r %r %r %r' '%r %r %r %r'
```

当然，在实际应用中%r更多的作用是用来调试和校验运行代码的哦！

