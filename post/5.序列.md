# 序列-列表-元组

title: Pyhton(5)-序列:列表和元组
date: 2016-04-24 20:59
tags: ['Python基础']
toc: true
categories: technology

## 0x00 序列

__sequence(序列)__ 是一组有顺序的对象的集合。
序列有两种: __tuple__（元组;也翻译为定值表）和 __list__ (列表)

```python
s1 =（1,2,3,'love',5.6,False）
s2 = [True,5,'smile']
# s1 是一个 tuple，s2是一个 list
```

`tuple` 和 `list` 的主要区别在于，一旦建立，`tuple` 的各个元素不可再更改，而 `list` 的元素可以再更改

一个序列作为另一序列的元素(嵌套列表):

```python
s3 = [1,[3,4,5]]
```

## 0x01 序列的引用

### 基本引用

序列元素的下标从0开始:

```python
print s1[0]
print s3[1][2]
```

### 范围引用

基本格式: __[下限:上限:步长 ]__

__注意在引用的时候，如果写明上限，那么这个上限本身不包括在内__

```python
rint s1[:5]             # 从开始到下标4 （下标5的元素 不包括在内）
rint s1[2:]             # 从下标2到最后
rint s1[0:5:2]          # 从下标0到下标4 (下标5不包括在内)，每隔2取一个元素 （下标为0，2，4的元素）
rint s1[2:0:-1]         # 从下标2到下标1
尾部元素引用
rint s1[-1]             # 序列最后一个元素
rint s1[-3]             # 序列倒数第三个元素
```

## 0x02 列表应用

因为列表的元素是可变的，除了能对列表进行索引，切片，等操作，还能进行追加，插入，删除操作

### 列表赋值

值得注意的是当使用一个列表向另一个列表赋值时

```python
a = [1,2,3,4]
b = a
b[1] = 1000
print a,b
[1, 1000, 3, 4] [1, 1000, 3, 4] #可以看到列表a的值也发生了改变
# 如何赋值?可以这个样
b = a[:] #生成一个新的列表在赋值给b
```

### 列表的解析

一种由原生列表创建新列表的简洁方法

```python
#生成值为{x**2:属于{1...9]的列表}
list = []
for x in range(1,10):
  list.append(x**2)
print list
[1, 4, 9, 16, 25, 36, 49, 64, 81]
#一行代码实现
list = [x**2 for x in range(1,10)]
print list
[1, 4, 9, 16, 25, 36, 49, 64, 81]
```

对于元组而言，由于其元素不可变，因此，`索引`，`切片[:]`, `len()` 等均可用，但是，`append`，`extend`，`del` 等不可用。

__ 可以使用元组作为列表的元素，从而保证列表内容不会被改变 __

### 元组的双向赋值

```python
a = (1,2,34,4,'a')
b = ('a','b','c','d')
a,b = b,a
print a,b
('a', 'b', 'c', 'd') (1, 2, 34, 4, 'a')
```

## 0x03 可用于序列的内建函数(built-in function)

### 适用于列表，元组，字符串的方法

`S` 为一个序列

```python
len(S)      #返回序列中的元素个数
min(S)     #返回序列中最小元素
max(S)    #返回序列中最大元素
all(S)       #返回,True,如果所有元素都为Ture的话
any(S)     #返回,True,如果任意一元素为True的话
```

### 适用于表和元组

下面主要是查询功能，不改变序列本身，适用于表和元组

```python
sum(S)        #返回序列中所有元素的和
#x为元素值，i为索引(元素在序列中的位置)
S.count(x)    #返回x在s中出现的次数
S.index(x)    #返回x在s中第一次出现的下标
```

###　仅仅使用于表

__ 下列方法只适用于表，因为元组的不可变更 __

`l1`, `l2` 均为一个表

```python
l1.extend(l2)        #在表l1的末尾添加表l2的所有元素
l1.append(x)        #在l1的末尾添加x元素
l1.sort()               #对l1的元素进行排序
l1.reverse()          #对l1中元素逆序
l1.pop()               #删除表中的最后一个元素，并返回删除的元素
del l[i]                 #删除该元素
```

以上这些方法都是在原来的表的上进行操作，会对原来的表产生影响，而不是返回一个新表

### 下面是适用于字符串的方法

__ 在 python 中字符串是一种特殊的元组__ ，但是字符串(`string`)类有一些方法是可以改变字符串的，不过这些方法本质不是对原有字符进行操作，而是删除原有字符串，再建立一个新的字符串，因此并不与元组的特点相矛盾！

以下，str 为一个字符串，sub 为 str 的一个子字符串，s 为一个序列，其它的元素都是字符串，width 为一个整数，用于说明新生成字符串的宽度！

```python
str.count(sub)        #返回sub在str中出现的次数
str.find(sub)          #从左开始，查找sub在str中第一次出现的位置，如果sub不存在，返回-1
str.index(sub)        #从左开始，查找sub在str中第一次出现的位置，如果sub不存在，举出错误
str.rfind(sub)        #从右开始，查找sub在str中第一次出现的位置，如果sub不存在，返回-1
str.rindex(sub)      #从右开始，查找sub在str中第一次出现的位置，如果sub不存在，则举出错误
```

```python
str.isalnum()          #返回True，如果所有字符都是字母或数字
str.isalpha()           #返回True，如果所有字符都是字母
str.isdigit()            #返回True，如果所有字符都是数字
str.istitle()              #放回True，如果所有词的首字母都是大写
str.isspace()          #返回True，如果所有字符都是空格
str.islower()          #返回True，如果所有字符都是小写字母
str.isupper()         #返回True，如果所有字符都是大写字母
```

```python
str.split('分割符', num)    #从左开始，以分割符为界将srt分割number次，将所得的字符放在一个表中返回，(分割符是一定存在于str中的)
#####
str = 'dsdsdf,dsdiie,9898,99980d,989dfs'
print(str.split(','))
['dsdsdf', 'dsdiie', '9898', '99980d', '989dfs']
print(str.split(',', 3))
['dsdsdf', 'dsdiie', '9898', '99980d,989dfs']
```

```python
str.rsplit('分割符', num)    #同上，从右开始分割
str.joins(s)                       #将s中的元素，以str为分割符，合并成为一个字符串，并返回一个新的字符串
str.strip('sub')                  #去掉开头和结尾的"sub",如去掉开头和结尾的空格，逗号等，并返回一个新的字符串
str.replace(sub,new_sub) #将str中的sub替换为new_sub，并返回一个新的字符串
str.capitalize()                #将str的第一个字母大写，并放回一个新的字符串
str.lower()                      #将str全部字母改为小写，并放回一个新的字符串
str.upper()                      #将str全部字母改为大写，并放回一个新的字符串
str.swapcase()                #将str的大写字母改为小写，小写字母改为大写，并放回一个新的字符串
str.title()                        #将str的每个词的首字母大写(以空格区分)，并放回一个新的字符串
str.center(width)            #长度为width的字符串，将原字符串放入该字符串中心，其它位置为空格 ，并放回一个新的字符串
str.ljust(width)              #长度为width的字符串，将原字符串左对齐放入该字符串，其它位置为空格，并放回一个新的字符串
str.rjust(width)            #长度为width的字符串，将原字符串右对齐放入该字符串，其它位置为空格，并放回一个新的字符串
```
