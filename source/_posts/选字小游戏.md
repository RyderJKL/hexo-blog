---
title: JS选字小游戏  
date: 2016-10-14  
tags: ['JS小项目']
toc: true
categories: technology

---
### 0x00 游戏规则
请根据上面文字的颜色在下方选择正确的文字.

---
#### 方法一
```
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>选字游戏</title>
		<style type="text/css">
			*{
				margin: 0;padding: 0;
			}
			#warp{
				width: 600px;height: 400px;border: 1px solid red;margin: 0 auto;position: relative;
			}
			#time{
				width: 200px;height: 50px;background: red;font-size: 40px;line-height: 40px;
				position:absolute;left:20px;top: 20px;
			}
			#score{
				width: 50px;height: 50px;position:absolute;top: 20px;right:20px;
				background:blue;font-size: 50px;
			}
			#main{
				margin: 100px auto;width:100px;height: 100px;font-size: 100px;
			}
			#rule{
				text-align: center;
			}
			#list{
				text-align: center;position: absolute;bottom: 20px;width: 100%;
			}
			li{
				display: inline-block;margin: 0 20px;font-size: 40px;
			}
		</style>
	</head>
	<body>
		<div id="warp">
			<div id="time">倒计时30</div>
			<div id="score">0</div>
			<div id="main">黑</div>
			<div id="rule">请根据上面文字的颜色在下方选择正确的文字，正确后游戏开始</div>
			<ul id="list">
				<li>红</li>
				<li>黄</li>
				<li>蓝</li>
				<li>绿</li>
				<li>黑</li>
			</ul>
		</div>
	</body>
	<script type="text/javascript">
		var main = document.getElementById("main");
		var li = document.getElementsByTagName("li");
		var time = document.getElementById("time");
		var fonts = ["红","黄","蓝","绿","黑"];
		var colors = ["red","yellow","blue","green","black"];
		var realFont = " ";
		//改变大字颜色及内容；
		function changeMain(){
			var num = rand(colors.length,0)
			realFont = fonts[num];
			main.style.color = colors[num];
			main.innerHTML = fonts[rand(fonts.length,0)];
		}
		
		//改变小字颜色及顺序 ；
		function changeLI(){
//			for (var i = 0 ; i< li.length; i++) {
//				li[i].style.color = colors[rand(5,0)]
//			}
// 目的   改变了colors的顺序
			var nColors = [];//定义一个新数组，用来改变colors的顺序
			var nFonts = [];
			while(nColors.length<colors.length){//当新数组长度小于colors数组长度的时候进入此循环
				var num = rand(colors.length,0);//定义一个随机4-0之间的随机数
				var num2 = rand(fonts.length,0);
				var bol = true;//定义bol，判断是否需要推入新数组
				for (var i = 0 ; i< nColors.length ; i ++) {//遍历新数组
					if (nColors[i] == colors[num]||nFonts[i] == fonts[num2]) {//当新数组中已存在的值与新随机出的颜色值相等时，改变bol值，阻止其推入新数组
						bol = false;
					}
				}
				if (bol==true) {
						nColors.push(colors[num]);//将随机出来的颜色推入新数组
						nFonts.push(fonts[num2]);
				}
			}
			for(var i = 0 ; i < nColors.length ; i ++){//遍历新的数组
				li[i].style.color = nColors[i];
				li[i].innerHTML = nFonts[i];
			}
		}
		
		
		changeLI()
		changeMain()
		var isclick = true;
		for (var i = 0 ; i<li.length ; i ++) {
			li[i].onclick = function(){
				if (isclick) {
					if (this.innerHTML == realFont) {
					clearInterval(timer)
//					alert("你点对了")
					daojishi()
					changeLI()
					changeMain()
					}	
				}
				
			}
		}
		var timed = 3;
		var timer = null;
	function daojishi(){
		 timer = setInterval(function(){
			timed--;
			time.innerHTML = "倒计时"+timed;
			if (timed<=0) {
				clearInterval(timer)
				alert("游戏结束")
				isclick = false;
			}
			
		},1000)
	}
	//随机max-1 到min之间的整数
		function rand(max,min){
			return parseInt(Math.random()*(max-min)+min);
		}
		
	</script>
</html>
```

---
#### 方法二
核心代码使用生成的**随机数组**实现。

```
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>选字游戏</title>
		<style type="text/css">
			*{
				margin: 0;padding: 0;
			}
			#warp{
				width: 600px;height: 400px;border: 1px solid red;margin: 0 auto;position: relative;
			}
			#time{
				width: 200px;height: 50px;background: red;font-size: 40px;line-height: 40px;
				position:absolute;left:20px;top: 20px;
			}
			#score{
				width: 50px;height: 50px;position:absolute;top: 20px;right:20px;
				background:blue;font-size: 50px;
			}
			#main{
				margin: 100px auto;width:100px;height: 100px;font-size: 100px;
			}
			#rule{
				text-align: center;
			}
			#list{
				text-align: center;position: absolute;bottom: 20px;width: 100%;
			}
			li{
				display: inline-block;margin: 0 20px;font-size: 40px;
			}
		</style>
	</head>
	<body>
		<div id="warp">
			<div id="time">倒计时30</div>
			<div id="score">0</div>
			<div id="main">黑</div>
			<div id="rule">请根据上面文字的颜色在下方选择正确的文字，正确后游戏开始</div>
			<ul id="list">
				<li>红</li>
				<li>黄</li>
				<li>蓝</li>
				<li>绿</li>
				<li>黑</li>
			</ul>
		</div>
	</body>
	<script type="text/javascript">
		var main = document.getElementById("main");
		var lis = document.getElementsByTagName("li");
		var time = document.getElementById("time");
		var fonts = ["红","黄","蓝","绿","黑"];
		var colors = ["red","yellow","blue","green","black"];
		var realFont = " ";	
		
		function getRandomArray (max,min,countNum){
			var randomArray = new Array();
			for( var i = 0; i < countNum;i ++){
				var newNum = parseInt(Math.random()*(max - min +1)+min);
				exits = false;
				for( var j =0 ;j < i;j ++){
					if(randomArray[j] == newNum){
						exits = true;
						i --;
						break;
					}
				}
				if(!exits){
					randomArray[i] = newNum;
				}
			}
			return randomArray;
		}
		
		
		function changeMian (){
			var newRadomArr = getRandomArray(4,0,5);
			main.style.color = colors[newRadomArr[3]];
			realFont = fonts[newRadomArr[3]];
			main.innerHTML = fonts[newRadomArr[2]];
		}

		function changeLi (){
			var newRadomArr1 = getRandomArray(4,0,5);
			var newRadomArr2 = getRandomArray(4,0,5);

			for(var i = 0;i < lis.length;i ++ ){
				lis[i].innerHTML = fonts[newRadomArr1[i]];
				lis[i].style.color = colors[newRadomArr2[i]];
			}
		}

		

		function isRight(){
			for (var i = lis.length - 1; i >= 0; i--) {
				lis[i].onclick = function (){
					if( this.innerHTML == realFont){
						alert("you are right!");
					}
				}
			}
		}

		changeMian();
		changeLi();
		isRight();
	</script>
</html>
```

---
### 方法三

核心代码使用 数组 **Array.sort()** 实现。

```
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>选字游戏</title>
		<style type="text/css">
			*{
				margin: 0;padding: 0;
			}
			#warp{
				width: 600px;height: 400px;border: 1px solid red;margin: 0 auto;position: relative;
			}
			#time{
				width: 200px;height: 50px;background: red;font-size: 40px;line-height: 40px;
				position:absolute;left:20px;top: 20px;
			}
			#score{
				width: 50px;height: 50px;position:absolute;top: 20px;right:20px;
				background:blue;font-size: 50px;
			}
			#main{
				margin: 100px auto;width:100px;height: 100px;font-size: 100px;
			}
			#rule{
				text-align: center;
			}
			#list{
				text-align: center;position: absolute;bottom: 20px;width: 100%;
			}
			li{
				display: inline-block;margin: 0 20px;font-size: 40px;
			}
		</style>
	</head>
	<body>
		<div id="warp">
			<div id="time">倒计时30</div>
			<div id="score">0</div>
			<div id="main">黑</div>
			<div id="rule">请根据上面文字的颜色在下方选择正确的文字，正确后游戏开始</div>
			<ul id="list">
				<li>红</li>
				<li>黄</li>
				<li>蓝</li>
				<li>绿</li>
				<li>黑</li>
			</ul>
		</div>
	</body>
	<script type="text/javascript">
		var main = document.getElementById("main");
		var lis = document.getElementsByTagName("li");
		var time = document.getElementById("time");
		var fonts = ["红","黄","蓝","绿","黑"];
		var colors = ["red","yellow","blue","green","black"];
		var realFont = " ";	
		
		function getRandomArray (){
			var randomArray = new Array();
			randomArray = arguments[0].slice(0);
			randomArray.sort(function(){
				var num = Math.random() - 0.5;
				return num;
			})
			return randomArray;
		}
		
		
		function changeMian (){
			var newRadomArr = getRandomArray(colors);
			var newRadomArr1 = getRandomArray(fonts);
			main.style.color = newRadomArr[3];
			realFont = newRadomArr[3];
			main.innerHTML = newRadomArr1[2];
		}

		function changeLi (){			
			var newRadomArr = getRandomArray(fonts);
			var newRadomArr1 = getRandomArray(colors);
			for(var i = 0;i < lis.length;i ++ ){
				lis[i].innerHTML = newRadomArr[i];
				lis[i].style.color = newRadomArr1[i];
			}
		}

		

		function isRight(){
			for (var i = lis.length - 1; i >= 0; i--) {
				lis[i].onclick = function (){
					if( this.innerHTML == realFont){
						alert("you are right!");
					}
				}
			}
		}

		changeMian();
		changeLi();
		isRight();
	</script>
</html>
```

