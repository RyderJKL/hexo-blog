---
title: JS-DOM(5)获取元素的方法  
date: 2016-11-2      
tags: ['JavaScript','DOM']
toc: true
categories: technology

---
### 0x00 document.getElment系列

---
#### 查找元素

##### obj.getElementById("idname")
通过元素 `ID` 来获得唯一元素。


##### obj.getElementsByTagName("tagname")
通过标签名查找元素，返回一个 HTMLCollection，我们可以使用 `[]` 语法或者 `item()` 方法来访问该对象中的项。

```
var images = document.getElementsByTagName("images");
alert(images[0].src);
alert(images.item(0).src);
```
此外，HTMLCollection 对象还要一个方法，**namedItem()**,该方法可以通过 name 特性取得集合中的第一项。

```
<img src="myimage.jif" name = "myImage">
var myImage = images.namedItem("myImage");
```

对命名的项也可以使用 `[]` 来访问，但是只是针对 HTMLCollection 集合中的第一项。

```
var myImage = images["myImage"];
```

对 HTMLCollttion 而言，可以使用方括号传入数值或者字符串。在后台，对数值索引会调用 item(), 对字符串索引会调用 namedItem()。

> 通过命名项，即是通过元素的 name 属性值去访问一个具体的元素，就是一个坑，大大坑！


##### obj.getElementsByName("elementname")
最常使用 `getElementsByName()` 的情况是取得单项按钮的时候。
通过 `name` 来获得对象，返回的是一HTMLCollection 对象，通过元素的 `value` 来区分单个元素。



##### obj.getElementsByClassName("classname")
通过 `class`  来获得对象，返回的是一HTMLCollection 对象，可通过 `innerHTML` 来区分单个元素。


---
### 0x01 选择符 API
Selectors API 致力于让浏览器支持 **原生CSS 查询**，以提高解析和数查询的性能。其两个核心方法是: **querySelector()** 和 **querySelectorAll()**,而它们接受的参数是 CSS选择符。

###### querySelector()
querySelector() 返回的是与该模式匹配的第个元素。

```
var body = document.querySelector("body");
// 取得 body
var img = document.querySelector("img.button");
// 取得类为 button 的第一个图片元素
var selected = document.querySelector(".selected");
// 取得 selected 类的第一元素
```

###### querySelectorAll()
querySelectorAll() 方法返回的是一个 Static NodeList 实例而不是 HTMLCollection 类型，NodeList对象有个length属性和item()方法，这意味着我们可以通过对**item()** 传入索引(Number | String)去访问具体的节点。



```
var ems = document.getElementById("myDiv").querySelectorAll("em");
// 取得 div 中 的 所有 em 元素
var strongs = document.querySelector("p strong");
// 取得 p 中的所有 strong 元素
var allImg = document.querySelectorAll("#wrapper img")
// 查找 ID 为 wrapper 下的所有 img 标签
```

实际上，querySelectorAll 返回的是一个 Static NodeList 对象，而 getElementsBy 系列的返回的是一个动态的 HTMLCollection 对象。

一个经典的的栗子:

```
// Demo 1
var ul = document.querySelectorAll('ul')[0],
    lis = ul.querySelectorAll("li");
for(var i = 0; i < lis.length ; i++){
//lis.lenght 不会改变
    ul.appendChild(document.createElement("li"));
}

// Demo 2
var ul = document.getElementsByTagName('ul')[0], 
    lis = ul.getElementsByTagName("li"); 
for(var i = 0; i < lis.length ; i++){
//死循环，lis.length总是在动态的改变着
    ul.appendChild(document.createElement("li")); 
}
```


---
### 0x02 元素遍历
###### childElementCount 
返回子元素的个数

###### firstElementChild
返回第一个子元素

###### lastElementChild
返回最后一个子元素

###### previousElementSibling
返回前一个同辈元素

###### nextElementSibling
返回后一个同辈元素


