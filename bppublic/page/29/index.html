<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="onejustone&apos;s blog">
<meta property="og:type" content="website">
<meta property="og:title" content="onejustone">
<meta property="og:url" content="http://yoursite.com/page/29/index.html">
<meta property="og:site_name" content="onejustone">
<meta property="og:description" content="onejustone&apos;s blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="onejustone">
<meta name="twitter:description" content="onejustone&apos;s blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/29/">





  <title>onejustone</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">onejustone</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">--愿你内心有种不灭的火焰，将你与别人区分开来--</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/25/安装并配置oh-my-zsh/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/05/25/安装并配置oh-my-zsh/" itemprop="url">安装并配置oh-my-zsh</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-25T10:28:00+08:00">
                2016-05-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="0x00-安装oh-my-zsh"><a href="#0x00-安装oh-my-zsh" class="headerlink" title="0x00 安装oh-my-zsh"></a>0x00 安装oh-my-zsh</h3><p>手动安装:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$: git clone git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh</span><br><span class="line">$: cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc</span><br><span class="line">$: chsh -s /bin/zsh#变更shell</span><br><span class="line">$: 注销账号重新登陆</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="0x01-配置"><a href="#0x01-配置" class="headerlink" title="0x01 配置"></a>0x01 配置</h3><p>zsh的配置主要集中在<strong>.zhsrc</strong>文件里，可以在此处定义自己的环境变量和别名。配置完成以后可以选择自己中意的主题。只需要在.zshrc中配置<strong>ZSH_THEME=”agnoster</strong>(我的主题)”，系统默认主题为robbyrussell就可以了，相关文件在~/.oh-my-zsh/thems下。</p>
<hr>
<h3 id="0x02-插件"><a href="#0x02-插件" class="headerlink" title="0x02 插件"></a>0x02 插件</h3><p>主要介绍auojump这个插件:<br>安装autojump:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$: git clone git://github.com/joelthelion/autojump.git</span><br></pre></td></tr></table></figure>
<p>解压以后进入目录,执行:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./install.py</span><br></pre></td></tr></table></figure>
<p>最后添加如下代码到.zshrc:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$: [[autojump/etc/profile.d/autojump.sh ]] &amp;&amp; . ~/.autojump/etc/profile.d/autojump.sh</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="安装powerline电力线"><a href="#安装powerline电力线" class="headerlink" title="安装powerline电力线"></a>安装powerline电力线</h3><hr>
<h4 id="安装powerline"><a href="#安装powerline" class="headerlink" title="安装powerline"></a>安装powerline</h4> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install git+git://github.com/Lokaltog/powerline</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="安装font"><a href="#安装font" class="headerlink" title="安装font"></a>安装font</h4><ul>
<li><strong>fontconfig:</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/Lokaltog/powerline/raw/develop/font/PowerlineSymbols.otf</span><br><span class="line">https://github.com/Lokaltog/powerline/raw/develop/font/10-powerline-symbols.conf</span><br><span class="line">$: mv PowerlineSymbols.otf /usr/share/fonts/</span><br><span class="line">$: fc-cache -vf</span><br><span class="line">$: mv 10-powerline-symbols.conf /etc/fonts/conf.d/</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="作用于vim"><a href="#作用于vim" class="headerlink" title="作用于vim"></a>作用于vim</h4><p>则在.vimrc中添加如下代码:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set rtp+=/usr/local/lib/python2.7/dist-packages/powerline/bindings/vim/</span><br><span class="line">&quot; Always show statusline</span><br><span class="line">set laststatus=2</span><br><span class="line">&quot; Use 256 colours (Use this setting only if your terminal supports 256 colours)</span><br><span class="line">set t_Co=256</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="作用于zsh"><a href="#作用于zsh" class="headerlink" title="作用于zsh"></a>作用于zsh</h4><p>则在.zshrc中添加如下代码:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if [[ -r /usr/local/lib/python2.7/dist-packages/powerline/bindings/zsh/powerline.zsh ]]; then</span><br><span class="line">    source /usr/local/lib/python2.7/dist-packages/powerline/bindings/zsh/powerline.zsh</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="作用于tmux"><a href="#作用于tmux" class="headerlink" title="作用于tmux"></a>作用于tmux</h4><p>则在.tmu.conf中添加:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source /usr/local/lib/python2.7/dist-packages/powerline/bindings/tmux/powerline.conf</span><br><span class="line">set-option -g default-terminal &quot;screen-256color&quot;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip uninstall powerline</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/24/第十二章-正则表达式与文件格式化处理/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/05/24/第十二章-正则表达式与文件格式化处理/" itemprop="url">第十二章 正在表达与文件格式化处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-24T23:48:52+08:00">
                2016-05-24
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h3><p>正则表示法的字串表示方式依照不同的严谨度而分为基础正则表示法与延伸正则表示法。延伸型正则表示法除了简单的一组字串处理之外，还可以作群组的字串处理，例如进行搜寻 VBird 或 netman 或 lman 的搜寻，注意，是『或(or)』而不是『和(and)』的处理，此时就需要延伸正规表示法！</p>
<p><strong>正则表达式与通配符是完全不一样的东西，通配符(wildcard)代表的只是bash操作界面的一个功能，但正在表达式是一种字符处理的表示方式，两者要分清！</strong></p>
<p>此外，使用正则表达式时需要注意当前环境中的语言设置，因为每种语言的编码环境的不同，使用正则表示所得出的结果也会不同的！</p>
<p>为了避免编码产生的问题，有些特殊字符需要我们了解下：</p>
<table>
<thead>
<tr>
<th style="text-align:center">特殊符号</th>
<th style="text-align:left">代表意义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">[:alnum:]</td>
<td style="text-align:left">代表英文大小写字节及数字，亦即 0-9, A-Z, a-z</td>
</tr>
<tr>
<td style="text-align:center">[:alpha:]</td>
<td style="text-align:left">代表任何英文大小写字节，亦即 A-Z, a-z</td>
</tr>
<tr>
<td style="text-align:center">[:upper:]</td>
<td style="text-align:left">代表大写字节，亦即 A-Z</td>
</tr>
<tr>
<td style="text-align:center">[:lower:]</td>
<td style="text-align:left">代表小写字节，亦即 a-z</td>
</tr>
<tr>
<td style="text-align:center">[:digit:]</td>
<td style="text-align:left">代表数字而已，亦即 0-9</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="0x01-基础正则表达式"><a href="#0x01-基础正则表达式" class="headerlink" title="0x01 基础正则表达式"></a>0x01 基础正则表达式</h3><p> 既然正规表示法是处理字串的一种表示方式，那么对字节排序有影响的语系数据就会对正规表示法的结果有影响！ 此外，正规表示法也需要支持工具程序来辅助才行！所以，我们这里就先介绍一个最简单的字串撷取功能的工具程序，那就是 grep 罗了!</p>
<hr>
<h4 id="grep的进阶技能"><a href="#grep的进阶技能" class="headerlink" title="grep的进阶技能"></a>grep的进阶技能</h4><p><strong>选项与参数:</strong></p>
<ul>
<li><p><strong>{ usage $: grep [-A] [-B] [–color=auto] ‘关键字’ filename }</strong></p>
<ul>
<li>-A:后面可加数字，为 after 的意思，除了列出该行外，后续的 n 行也列出来；</li>
<li>-B:后面可加数字，为 befer 的意思，除了列出该行外，前面的 n 行也列出来；</li>
<li>–color=auto 可将正确的那个撷取数据列出颜色</li>
</ul>
<p>dmesg列出核心产生的信息，通过grep来获取网卡(eth),并将获得的信息关键字加上颜色，且显示行号</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# dmesg | grep -n &apos;eth&apos;--color=auto</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>同上，在关键字所在行的前两行和后三行也显示出来<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# dmesg | grep -n -A3 -B2 &apos;eth&apos; </span><br><span class="line">544-[    1.008020] mmc0: SDHCI controller on PCI [0000:02:00.0] using DMA</span><br><span class="line">545-[    1.017700] alg: No test for crc32 (crc32-pclmul)</span><br><span class="line">546:[    1.266674] e1000e 0000:00:19.0 eth0: registered PHC clock</span><br><span class="line">547:[    1.266682] e1000e 0000:00:19.0 eth0: (PCI Express:2.5GT/s:Width x1) 3c:97:0e:80:50:72</span><br><span class="line">548:[    1.266687] e1000e 0000:00:19.0 eth0: Intel(R) PRO/1000 Network Connection</span><br><span class="line">549:[    1.266753] e1000e 0000:00:19.0 eth0: MAC: 10, PHY: 11, PBA No: 1000FF-0FF</span><br><span class="line">550-[    1.266996] ehci-pci 0000:00:1a.0: EHCI Host Controller</span><br><span class="line">551-[    1.267007] ehci-pci 0000:00:1a.0: new USB bus registered, assigned bus number 1</span><br><span class="line">552-[    1.267021] ehci-pci 0000:00:1a.0: debug port 2</span><br></pre></td></tr></table></figure></p>
<p>在 ~/.bashrc 内加上这行:<strong>alias grep=’grep –color=auto’</strong>再以<strong>source ~/.bashrc</strong>来立即生效即可喔！这样每次运行 grep 他都会自动帮你加上颜色显示啦！_</p>
<hr>
<h4 id="基础正则表达式练习"><a href="#基础正则表达式练习" class="headerlink" title="基础正则表达式练习"></a>基础正则表达式练习</h4><p>练习使用到的文本文件如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&quot;Open Source&quot; is a good mechanism to develop programs.</span><br><span class="line">apple is my favorite food.</span><br><span class="line">Football game is not use feet only.</span><br><span class="line">this dress doesn&apos;t fit me.</span><br><span class="line">However, this dress is about $ 3183 dollars.^M</span><br><span class="line">GNU is free air not free beer.^M</span><br><span class="line">Her hair is very beauty.^M</span><br><span class="line">I can&apos;t finish the test.^M</span><br><span class="line">Oh! The soup taste good.^M</span><br><span class="line">motorcycle is cheap than car.</span><br><span class="line">This window is clear.</span><br><span class="line">the symbol &apos;*&apos; is represented as start.</span><br><span class="line">Oh!     My god!</span><br><span class="line">The gd software is a library for drafting programs.^M</span><br><span class="line">You are the best is mean you are the no. 1.</span><br><span class="line">The world &lt;Happy&gt; is the same with &quot;glad&quot;.</span><br><span class="line">I like dog.</span><br><span class="line">google is the best tools for search keyword.</span><br><span class="line">goooooogle yes!</span><br><span class="line">go! go! Let&apos;s go.</span><br><span class="line"># I am VBird</span><br></pre></td></tr></table></figure></p>
<p>最后一行为空行</p>
<h5 id="练习一-搜索特定字符"><a href="#练习一-搜索特定字符" class="headerlink" title="练习一:搜索特定字符"></a>练习一:搜索特定字符</h5><p>从文件中取得the关键字<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# grep -n &apos;the&apos; ex11 </span><br><span class="line">8:I can&apos;t finish the test.^M</span><br><span class="line">12:the symbol &apos;*&apos; is represented as start.</span><br><span class="line">15:You are the best is mean you are the no.</span><br></pre></td></tr></table></figure></p>
<p>反向选择，搜索不含the的行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# grep -vn &apos;the&apos; ex11 </span><br><span class="line">1:&quot;Open Source&quot; is a good mechanism to develop programs.</span><br><span class="line">2:apple is my favorite food.</span><br></pre></td></tr></table></figure></p>
<p>忽略大小写，搜索the关键字<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# grep -in &apos;the&apos; ex11 </span><br><span class="line">8:I can&apos;t finish the test.^M</span><br><span class="line">9:Oh! The soup taste good.^M</span><br></pre></td></tr></table></figure></p>
<h5 id="练习二-使用-来搜索集合字节"><a href="#练习二-使用-来搜索集合字节" class="headerlink" title="练习二:使用[ ]来搜索集合字节"></a>练习二:使用[ ]来搜索集合字节</h5><p> 搜寻 test 或 taste 这两个单字时，可以发现到，其实她们有共通的 ‘t?st’ 存在<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# grep -n &apos;t[ae]st&apos; ex11</span><br></pre></td></tr></table></figure></p>
<p>搜索含有oo的字符但是却不要前面含有g<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# grep -n &apos;[^g]oo&apos; ex11</span><br></pre></td></tr></table></figure></p>
<p>搜索文件中的数字<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# grep -n &apos;[[:digit:]]&apos; ex11 </span><br><span class="line">5:However, this dress is about $ 3183 dollars.^M</span><br><span class="line">15:You are the best is mean you are the no. 1.</span><br><span class="line">或者:</span><br><span class="line">root@jack:~# grep -n &apos;[0-9]&apos; ex11</span><br></pre></td></tr></table></figure></p>
<h5 id="练习三-行首-与行尾-字节"><a href="#练习三-行首-与行尾-字节" class="headerlink" title="练习三:行首^与行尾$字节"></a>练习三:行首^与行尾$字节</h5><p>^ 符号，在字节集合符号(括号[])之内与之外是不同的！    在 [] 内代表『反向选择』，在 [] 之外则代表定位在行首的意义！</p>
<p>搜索行首是The的内容<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# grep -n &apos;^The&apos; ex11</span><br></pre></td></tr></table></figure></p>
<p>下面找出行尾结束为小数点(.)的哪行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# grep -n &apos;\\.$&apos; ex11 </span><br><span class="line">1:&quot;Open Source&quot; is a good mechanism to develop programs.</span><br><span class="line">2:apple is my favorite food.</span><br><span class="line">3:Football game is not use feet only.</span><br><span class="line">4:this dress doesn&apos;t fit me.</span><br></pre></td></tr></table></figure></p>
<p>需要注意的是由于小数点(.)具有特殊意义，所以需要加转义字符(\)，但是注意到5-9行也是也小数点结尾的，但却没有打印处理，弄啥咧？这里就牵涉到 Windows 平台的软件对於断行字节的判断问题了！我们使用 cat -A 将第五行拿出来看， 你会发现：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# cat -An ex11 | head -n 10 |tail -n 6</span><br><span class="line">     5	However, this dress is about $ 3183 dollars.^M$</span><br><span class="line">     6	GNU is free air not free beer.^M$</span><br><span class="line">     7	Her hair is very beauty.^M$</span><br><span class="line">     8	I can&apos;t finish the test.^M$</span><br><span class="line">     9	Oh! The soup taste good.^M$</span><br><span class="line">    10	motorcycle is cheap than car.$</span><br></pre></td></tr></table></figure></p>
<p>上面的表格中我们可以发现 5~9 行为 Windows 的断行字节 (^M$) ，而正常的 Linux 应该仅有第 10 行显示的那样 ($) ，如此似乎更加理解了^与$的意义了有木有，下面直接找出空白行吧<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# grep -n &apos;^$&apos; ex11 </span><br><span class="line">22:</span><br></pre></td></tr></table></figure></p>
<p>再来，假设你已经知道在一个程序脚本 (shell script) 或者是配置档当中，空白行与开头为 # 的那一行是注解，那么如何干掉它们直接提前数据？以/etc/sysctl.conf 文件为例:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# cat -n /etc/sysctl.conf </span><br><span class="line"> 60	#</span><br></pre></td></tr></table></figure></p>
<p>在未除去空白行和注解后共有60行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# grep -v &apos;^$&apos; /etc/sysctl.conf | grep -v &apos;^#&apos;</span><br></pre></td></tr></table></figure></p>
<h5 id="练习四-任意一字节-与重复字节"><a href="#练习四-任意一字节-与重复字节" class="headerlink" title="练习四:任意一字节.与重复字节*"></a>练习四:任意一字节.与重复字节*</h5><p> 在bash中，*代表着通配符的意思，但在正在表达式中却不是，至于小数点(.)则代表着<strong>绝对有一个任意字节</strong>的意思，它们的意义如下:</p>
<ul>
<li>.(小数点):代表<strong>一定有一个任意字节</strong></li>
<li><p>*(星号):代表<strong>重复前一个字节， 0 到无穷多次</strong>，为组合态</p>
<p>找出关键字”g??d”，即是只有四个字节，并且开头是g，结尾为d的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# grep -n &apos;g..d&apos; ex11</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>强调 g 与 d 之间一定要存在两个字节，因此，第 13 行的 god 与第 14 行的 gd 就不会被列出来</p>
<p> 下面我们来看看星号\<em>,\</em>o的意思是<strong>代表拥有空字节或者一个o以上的字符</strong>,需要特别注意的就是它允许空字节的存在，因此<strong>grep -n ‘o*’  ex11</strong>会将整个文件打印出来，所以当我们<strong>需要至少两个o以上的字符串</strong>时，需要使用<strong>ooo*</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# grep -n &apos;ooo*&apos; ex11 </span><br><span class="line">2:apple is my favorite food.</span><br></pre></td></tr></table></figure></p>
<p> 想要字串开头与结尾都是 g，但是两个 g 之间仅能存在至少一个 o<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# grep -n &apos;ooo*&apos; ex11</span><br></pre></td></tr></table></figure></p>
<p>想要找出 g 开头与 g 结尾的字串，当中的字节可有可无<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# grep -n &apos;g.*g&apos; ex11</span><br></pre></td></tr></table></figure></p>
<p>现在就需要利用任意字节.了，<strong>{ .* 就代表零个或多个任意字节 }</strong></p>
<h4 id="练习五-限定连续RE字符范围"><a href="#练习五-限定连续RE字符范围" class="headerlink" title="练习五:限定连续RE字符范围"></a>练习五:限定连续RE字符范围</h4><p>以上我们使用.或者\*可以得到0个或者无穷多个重复字节，现在我想找出2-5个连续的o字符串，那么此时就要使用到限定字符范围的符号{}了，但有因为{}的符号在shell中具有特殊意义，所以我们必须使用转义字符\使其失去特殊意义</p>
<p>找出两个o的字符串<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# grep -n &apos;o\\&#123;2\\&#125;&apos; ex11 </span><br><span class="line">1:&quot;Open Source&quot; is a good mechanism to develop programs.</span><br><span class="line">2:apple is my favorite food.</span><br></pre></td></tr></table></figure></p>
<p>找出 g 后面接 2 到 5 个 o ，然后再接一个 g 的字串<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# grep -n &apos;go\\&#123;2,5\\&#125;g&apos; ex11</span><br></pre></td></tr></table></figure></p>
<p>想要的是 2 个 o 以上的 goooo….g 呢？除了可以是 gooo*g ，也可以是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# grep -n &apos;go\\&#123;2,\\&#125;&apos; ex11</span><br></pre></td></tr></table></figure></p>
<p>需特别注意的是，正则表达式里的特殊字节与一般在命令行里使用的通配符并不相同，如，wilcard中的\<em>表示<strong>0到无穷多个字节</strong>,而在正则表达式中\</em>则是<strong>重复0到无穷多个的前一个re字符</strong>，使用的意义并不相同！</p>
<p>例如在命令行中<strong>ls -l a*</strong>代表以a开头所有文件，而在正在表达式中，要找到所有以a开头的文件则是:<strong>ls | grep -n ‘^a.*’ </strong></p>
<hr>
<h4 id="sed工具-行的新增-删除，替换-显示，搜索并替换，直接修改"><a href="#sed工具-行的新增-删除，替换-显示，搜索并替换，直接修改" class="headerlink" title="sed工具:行的新增/删除，替换/显示，搜索并替换，直接修改"></a>sed工具:行的新增/删除，替换/显示，搜索并替换，直接修改</h4><p><strong>以行为单位的新增/删除功能</strong><br>将 /etc/passwd 的内容列出并且列印行号，同时，请将第 2~5 行删除！<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# nl /etc/passwd | sed &apos;2,5d&apos;</span><br><span class="line">     1	root:x:0:0:root:/root:/bin/bash</span><br><span class="line">     6	games:x:5:60:games:/usr/games:/usr/sbin/nologin</span><br><span class="line">     7	man:x:6:12:man:/var/cache/man:/usr</span><br></pre></td></tr></table></figure></p>
<p><strong>sed 的动作为 ‘2,5d’ ，那个 d 就是删除,sed 后面接的动作，请务必以 ‘’ 两个单引号括住</strong></p>
<p>删除第 3 到最后一行，则是『 nl /etc/passwd | sed ‘3,$d’ 』的啦，那个钱字号『 $ 』代表最后一行！<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# nl /etc/passwd | sed &apos;3,$d&apos; </span><br><span class="line">     1	root:x:0:0:root:/root:/bin/bash</span><br><span class="line">     2	daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin</span><br></pre></td></tr></table></figure></p>
<p>在第二行后(亦即是加在第三行)加上『drink tea?』字样！<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# nl /etc/passwd | sed &apos;2a,drink tea???&apos;</span><br><span class="line">     1	root:x:0:0:root:/root:/bin/bash</span><br><span class="line">     2	daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin</span><br><span class="line">,drink tea?</span><br></pre></td></tr></table></figure></p>
<p>如果是在第二行以前添加呢？那么就是把<strong>“a”</strong>改成<strong>“i”</strong>就是了</p>
<p> 添加一行so easy，如果我要添加两行呢?<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# nl /etc/passwd | sed &apos;2a,drink tea? or .....\\</span><br><span class="line">&gt; i want to drink milk!&apos;</span><br><span class="line">     1	root:x:0:0:root:/root:/bin/bash</span><br><span class="line">     2	daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin</span><br><span class="line">,drink tea? or .....</span><br><span class="line">i want to drink milk!</span><br></pre></td></tr></table></figure></p>
<p>『我们可以新增不只一行喔！可以新增好几行』但是每一行之间都必须要以反斜线『 \ 』来进行新行的添加喔!</p>
<ul>
<li><p><strong>以行为单位的替换与显示功能</strong></p>
<p>将第2-5行的内容取代成为『No 2-5 number』</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# nl /etc/passwd | sed &apos;2,5c no 2-5 number&apos;</span><br><span class="line">     1	root:x:0:0:root:/root:/bin/bash</span><br><span class="line">no 2-5 number</span><br><span class="line">     6	games:x:5:60:games:/usr/games:/usr/sbin/nologin</span><br><span class="line">....</span><br></pre></td></tr></table></figure>
<p>以前想要列出第 11~20 行， 得要透过『head -n 20 | tail -n 10』之类的方法来处理,有木有超级麻烦，现在可以使用sed了</p>
<p>列出 /etc/passwd 文件内的第 5-7 行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# nl /etc/passwd | sed -n &apos;5,7p&apos;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>至于为什么有n，你自己试试没有n的情况就懂了！</p>
<ul>
<li><p><strong>部分数据的搜索并取代功能</strong></p>
<p><strong>{usage $: sed ‘s/被取代的字串/新的字串/g’ }</strong></p>
<p>下面一步一步，取出ifconfig里的ip字段，首先来查看下原始数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# /sbin/ifconfig wlan0</span><br><span class="line">wlan0     Link encap:Ethernet  HWaddr   </span><br><span class="line">         inet addr:102.90.09.2  Bcast:102.23.0.15  Mask:255.255.255.240</span><br><span class="line">          inet6 addr: ca80::a17:01fc:2ef4:d059/64 Scope:Link</span><br><span class="line">(...)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>使用grep截取关键字所在行数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# /sbin/ifconfig wlan0 | grep &apos;inet addr&apos;</span><br><span class="line">          inet addr:102.90.09.2  Bcast:102.23.0.15  Mask:255.255.255.240</span><br></pre></td></tr></table></figure></p>
<p>将ip前面的部分删除掉<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# /sbin/ifconfig wlan0 | grep &apos;inet addr&apos;\\</span><br><span class="line">&gt; | sed &apos;s/^.*addr://g&apos;</span><br><span class="line">102.90.09.2  Bcast:102.23.0.15   Mask:255.255.255.240</span><br></pre></td></tr></table></figure></p>
<p>将ip后面的部分删除掉<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# /sbin/ifconfig wlan0 | grep &apos;inet addr&apos;| sed &apos;s/^.*addr://g&apos;|</span><br><span class="line">&gt; sed &apos;s/Bcast.*$//g&apos;</span><br><span class="line">102.90.09.2</span><br></pre></td></tr></table></figure></p>
<p> 再来，假设我只要 MAN 存在的那几行数据， 但是含有 # 在内的注解我不想要，而且空白行我也不要<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# cat /etc/manpath.config  | grep &apos;MAN&apos;</span><br><span class="line"># MANDATORY_MANPATH			manpath_element</span><br><span class="line"># MANPATH_MAP		path_element	manpath_element</span><br><span class="line"># MANDB_MAP		global_manpath	[relative_catpath]</span><br><span class="line"># every automatically generated MANPATH includes these fields</span><br><span class="line">#MANDATORY_MANPATH 			/usr/src/pvm3/man</span><br><span class="line">MANDATORY_MANPATH			/usr/man</span><br></pre></td></tr></table></figure></p>
<p>删除掉注释以后的数据，可以看到删除的部分留下了空行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# cat /etc/manpath.config  | grep &apos;MAN&apos;|\\</span><br><span class="line">&gt; sed &apos;s/^#.*$//g&apos;</span><br><span class="line">MANDATORY_MANPATH			/usr/man</span><br></pre></td></tr></table></figure></p>
<p>现在删除空空<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# cat /etc/manpath.config  | grep &apos;MAN&apos;|sed &apos;s/^#.*$//g&apos;| sed &apos;/^$/d&apos;</span><br><span class="line">MANDATORY_MANPATH			/usr/man</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p><strong>直接修改文件内容:危险动作</strong></p>
<p>如果你有一个 100 万行的文件，你要在第 100 行加某些文字，此时使用 vim 可能会疯掉！因为文件太大了！那怎办？就利用 sed 啊~</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# sed -i &apos;$a #this a test&apos; ex11</span><br></pre></td></tr></table></figure>
<p>将ex11文件末尾的.替换为!</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# sed -i &apos;s/\\.$/\\!/g&apos; ex11</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<h4 id="0x02-延伸正则表达式"><a href="#0x02-延伸正则表达式" class="headerlink" title="0x02 延伸正则表达式"></a>0x02 延伸正则表达式</h4></blockquote>
<p>之前有一个除去空白行和行首为#的行使用的是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# grep -v &apos;^$&apos; ex11 | grep -v &apos;^#&apos;</span><br></pre></td></tr></table></figure></p>
<p>这样的话就需要使用两次的管道命令了，那么我们来简化一下啊<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# egrep -v &apos;^$|^#&apos; ex11</span><br></pre></td></tr></table></figure></p>
<p>延伸型正规表示法可以透过群组功能『 | 』来进行一次搜寻, egrep 与 grep -E 是类似命令别名的关,其实所谓延伸正则表达式不过就是比基础正在表达式多了几个特殊符号而已了</p>
<table>
<thead>
<tr>
<th style="text-align:center">RE字符</th>
<th style="text-align:left">意义与范例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:left">意义:重复<strong>一个或者一个以上</strong>的前一个RE 字符 实例:搜索god,good,gooood等<figure class="highlight plain"><figcaption><span>egrep -n 'go+d' ex11 ```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?|意义:__空的或一个__的前一个RE字符 实例：搜索gd，god，o？代表__空的或一个o __```root@jack:~# egrep -n &apos;go+d&apos; ex11</span><br></pre></td></tr></table></figure></td>
</tr>
</tbody>
</table>
<p><code>1（表示竖线或的意思，简书死活不显示竖线）</code>|意义:用<strong>或(or)的方式</strong>找出数个字符串 实例:搜寻 gd 或 good 这两个字串 <figure class="highlight plain"><figcaption><span>egrep -n 'gd 1 god 1 good 1 dog' ex11```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">()|意义:找出__群组__字符串 实例:搜寻 (glad) 或 (good) 这两个字串，因为 g 与 d 是重复的，所以， 我就可以将 la 与 oo 放在( ) 当中，并以 1 来分隔开来 ```root@jack:~# egrep -n &apos;g(la 1 oo)d&apos; ex11</span><br></pre></td></tr></table></figure></p>
<p>()+|多个<strong>重复群组的判断</strong> <code>实例:root@jack:~# echo &#39;AxyzxyzxyzC&#39; 1 egrep -n &#39;A(xyz)+C&#39;</code> 找开头是 A 结尾是 C ，中间有一个以上的 “xyz” 字串的意思</p>
<blockquote>
<h4 id="0x03-文件的格式化与相关处理"><a href="#0x03-文件的格式化与相关处理" class="headerlink" title="0x03 文件的格式化与相关处理"></a>0x03 文件的格式化与相关处理</h4></blockquote>
<p>现在我们来对文件进行简单的整理，不需要以vim取进行整理，而是直接通过数据流重定向配合以下的print，awk等功能，就可以将信息以你想要的模样输出来</p>
<blockquote>
<h6 id="格式化打印输出-printf"><a href="#格式化打印输出-printf" class="headerlink" title="格式化打印输出 printf"></a>格式化打印输出 printf</h6></blockquote>
<p>如果你学过c语言，那么这里的printf对你而言就很好理解了哈，格式及其用法与c并无太多差异，但是需要注意的是printf并不是管道命令！</p>
<p>…</p>
<blockquote>
<h6 id="awk好用的数据处理工具"><a href="#awk好用的数据处理工具" class="headerlink" title="awk好用的数据处理工具"></a>awk好用的数据处理工具</h6></blockquote>
<p>….</p>
<blockquote>
<h6 id="文件对比工具-diff-cmp-patch"><a href="#文件对比工具-diff-cmp-patch" class="headerlink" title="文件对比工具:diff,cmp,patch"></a>文件对比工具:diff,cmp,patch</h6></blockquote>
<p>….</p>
<blockquote>
<h6 id="文件打印准备工具-pr"><a href="#文件打印准备工具-pr" class="headerlink" title="文件打印准备工具:pr"></a>文件打印准备工具:pr</h6></blockquote>
<p>pass</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/24/第九章-文件的压缩与打包/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/05/24/第九章-文件的压缩与打包/" itemprop="url">第九章-文件的压缩与打包</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-24T23:48:52+08:00">
                2016-05-24
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="0x00-常见的压缩命令"><a href="#0x00-常见的压缩命令" class="headerlink" title="0x00 常见的压缩命令"></a>0x00 常见的压缩命令</h3><p>linux中文件扩展名并么有多大的意义，但是为了方便人类的记忆我们还是将几种常用的压缩文件扩展名罗列如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.zip zip压缩的文件</span><br><span class="line">.gz gzip压缩的文件</span><br><span class="line">.bz2 bzip2 压缩的文件</span><br><span class="line">.tar tar程序打包的文件，并么有压缩过</span><br><span class="line">.tar.gz tar程序打包的文件，并且经过gzip压缩过</span><br><span class="line">.tar.bz2 tar程序打包的文件，并经过bzip2压缩过</span><br><span class="line">.tar.xz tar打包，xz压缩的文件</span><br></pre></td></tr></table></figure></p>
<p>compress已经被gzip取代，而bzip2的作用则是为了取代gzip的。而不管是gzip还是bgzip2多只能对一个单一的文件进行压缩，而tat则可以将一些文件，或者目录打包到一起，两者结合，天下无双。</p>
<hr>
<h4 id="gzip，zcat-zmore-zless-zgrep"><a href="#gzip，zcat-zmore-zless-zgrep" class="headerlink" title="gzip，zcat/zmore/zless/zgrep"></a>gzip，zcat/zmore/zless/zgrep</h4><p>gzip命令没有压缩参数，会默认自动进行压缩。</p>
<p><strong>选项与参数 {Usage $: gzip -[cdtc] filename}</strong></p>
<ul>
<li>-k:保留源文件</li>
<li>-d:解压缩</li>
<li>-c:将压缩资料显示在屏幕上，可结合数据流重定向来处理</li>
<li>v:显示压缩比等信息</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  c_programer gzip -kv queue.c </span><br><span class="line">queue.c:	 35.6% -- replaced with queue.c.gz</span><br><span class="line">➜  c_programer ls</span><br><span class="line">queue.c queue.c.gz</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="bzip2-bzcat-bzmore-bzless-bzgrep"><a href="#bzip2-bzcat-bzmore-bzless-bzgrep" class="headerlink" title="bzip2,bzcat/bzmore/bzless/bzgrep"></a>bzip2,bzcat/bzmore/bzless/bzgrep</h4><p>bzip2系列是作为gzip系列的升级版的，其使用方法与gzip一样，同样续的xz系列是bzip2的升级版，它是它们彼此之间好像并不兼容。当然每升级一级对应的压缩比例将更好，但是消耗的时间也会更多这里我们以bzip2系列进行记录。</p>
<h5 id="bzip2"><a href="#bzip2" class="headerlink" title="bzip2"></a>bzip2</h5><p><strong>选项与参数:{ Usage $: bzip2 [-cdkzv] filename }</strong></p>
<ul>
<li>-c:将解压过程产生的数据输出到屏幕上</li>
<li>-d: 解压</li>
<li>-z: 压缩</li>
<li>-k: 保留原始文件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#不加-k参数将不会保留源文件</span><br><span class="line">➜  c_programer bzip2 -z hello.c</span><br><span class="line">  c_programer ls                </span><br><span class="line"> hello.c.bz2  </span><br><span class="line">#加入-k参数</span><br><span class="line">➜  c_programer bzip2 -kz hello.c </span><br><span class="line">➜  c_programer ls</span><br><span class="line">   hello.c  hello.c.bz2</span><br></pre></td></tr></table></figure>
<h5 id="bzcat"><a href="#bzcat" class="headerlink" title="bzcat"></a>bzcat</h5><p><strong>{ Usage $: bzcat filename.bz2 }</strong></p>
<p>我们知道cat命令可以读取纯文本文件，而bzcat作为zcat的升级版其作用是读取被压缩过的纯文本文件内容。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#使用bzcat查看hell.c.bz2</span><br><span class="line">➜  c_programer bzcat hello.c.bz2 </span><br><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">int main()&#123;</span><br><span class="line">  printf(&quot;hello world!&quot;);</span><br><span class="line">  return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="bzgrep"><a href="#bzgrep" class="headerlink" title="bzgrep"></a>bzgrep</h5><p>bzgrep可以直接从文字压缩文件中查找关键字，而不需要将文件解压再以grep进行筛选。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  c_programer bzgrep -n &apos;include&apos; queue.c.bz2 </span><br><span class="line">1:#include&lt;stdio.h&gt;</span><br></pre></td></tr></table></figure></p>
<hr>
<h4 id="xz-xzcat-xzmore-xzless-xzgrep"><a href="#xz-xzcat-xzmore-xzless-xzgrep" class="headerlink" title="xz,xzcat/xzmore/xzless/xzgrep"></a>xz,xzcat/xzmore/xzless/xzgrep</h4><hr>
<h3 id="0x01-打包命令"><a href="#0x01-打包命令" class="headerlink" title="0x01 打包命令"></a>0x01 打包命令</h3><p>tar 可以将多个目录或文件打包成一个大文件，同时还可以透过 gzip/bzip2 的支持，将该文件同时进行压缩。</p>
<p><strong>选项与参数:</strong></p>
<ul>
<li>压缩:{ Usage $: tar [-z|-j|-J] [-cv] 要压缩的文件或者目录 -f filename.tar.* }</li>
<li>查询:{ Usage $: tar -[-z|-j|-J] [-tv] -f filename.tar.* }</li>
<li>解压:{ Usage $: tar [-z|-j|-J] [-xv] 要解压到的的包 -f filename.tar.bz2 -C 解压到哪个目录 }<br>其中:<br>-z|-j|-J：表示使用gzip,bzip2,xz技术<br>-c：表示创建打包文件，-v将显示正在处理的文件名称<br>-t：表示打包的文件中包含哪些文件名<br>-x：表示解压缩<br>-p：将保留源文件原本的权限与属性<br>-P：表示保留绝对路径</li>
</ul>
<hr>
<h4 id="使用tar将-etc目录打包到-tmp下"><a href="#使用tar将-etc目录打包到-tmp下" class="headerlink" title="使用tar将/etc目录打包到/tmp下"></a>使用tar将/etc目录打包到/tmp下</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$: tar -jcv /etc -f /tmp/etc.tar.bz2 </span><br><span class="line">➜  / ls /tmp </span><br><span class="line">etc.tar.bz2</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="查看etc-tar-bz2里的文件名"><a href="#查看etc-tar-bz2里的文件名" class="headerlink" title="查看etc.tar.bz2里的文件名"></a>查看etc.tar.bz2里的文件名</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  / tar -jtvf /tmp/etc.tar.bz2 </span><br><span class="line">drwxr-xr-x root/root             0 2016-05-21 01:48 etc/resolvconf/update-libc.d/</span><br><span class="line">。。。。。</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="将etc-tar-bz2解压懂到-tpm-etc下"><a href="#将etc-tar-bz2解压懂到-tpm-etc下" class="headerlink" title="将etc.tar.bz2解压懂到/tpm/etc下"></a>将etc.tar.bz2解压懂到/tpm/etc下</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#使用-C时 要确认要解压到的目录是否存在，否则解压失败</span><br><span class="line">➜  /tmp tar -jxv -f etc.tar.bz2 -C /tmp/etc</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="配合grep命令解压单一文件"><a href="#配合grep命令解压单一文件" class="headerlink" title="配合grep命令解压单一文件"></a>配合grep命令解压单一文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  /tmp tar -jxv -f etc.tar.bz2 | grep &apos;etc/udev&apos;</span><br><span class="line">etc/udev/</span><br><span class="line">etc/udev/rules.d/</span><br></pre></td></tr></table></figure>
<hr>
<h5 id="打包某目录但是该目录下的某些除外"><a href="#打包某目录但是该目录下的某些除外" class="headerlink" title="打包某目录但是该目录下的某些除外"></a>打包某目录但是该目录下的某些除外</h5><p>打包整个/tmp并命名为tmp.tar.gz2存放在/tmp同时不要打包bao本身，并且也不要打包/tmp/ect *的所有文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">➜  /tmp tar -jcv /tmp -f /tmp/tmp.tar.gz2 --exclude=tmp.tar.gz2 --exclude=/tmp/etc *</span><br></pre></td></tr></table></figure></p>
<hr>
<h4 id="仅仅备份比某个时刻新的文件"><a href="#仅仅备份比某个时刻新的文件" class="headerlink" title="仅仅备份比某个时刻新的文件"></a>仅仅备份比某个时刻新的文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#找出比/etc/passwd的mtime还要新的文件</span><br><span class="line">$: find /etc -newer /etc/passwd</span><br><span class="line">#得到/etc/passwd的mtime</span><br><span class="line">$:  ll /etc/passwd</span><br><span class="line">-rw-r--r-- 1 root root 2944 5月  23 20:54 /etc/passwd</span><br><span class="line">#打包比5/23还要新的文件</span><br><span class="line">$: tar -jcv -f /root/etc.newer.then.passwd.tar.bz2 \\--newer-mtime=&quot;2016/04/22&quot; /etc/*</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="将数据打包到usb"><a href="#将数据打包到usb" class="headerlink" title="将数据打包到usb"></a>将数据打包到usb</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$: tar -jcv /root/document/ -f /dev/usb1/data.tar.gz</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="利用管道与数据流"><a href="#利用管道与数据流" class="headerlink" title="利用管道与数据流"></a>利用管道与数据流</h3><p>比如将待处理的文件一边打包一边解压到目标目录中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  /tmp tar -cvf- /etc | tar -xvf-</span><br><span class="line">#类似与cp -r /etc /tmp，但是tar也有自己的用途</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="0x04-其它常见的压缩与备份工具"><a href="#0x04-其它常见的压缩与备份工具" class="headerlink" title="0x04 其它常见的压缩与备份工具"></a>0x04 其它常见的压缩与备份工具</h3><hr>
<h4 id="dd"><a href="#dd" class="headerlink" title="dd"></a>dd</h4><p>dd可以直接读取磁盘，几乎是直接读取磁区的，然后将其整个备份。</p>
<p><strong>选项与参数{ Usage $: dd if=” “ of=” “ bs=” “ count=” “ }</strong></p>
<ul>
<li>if:即input file，可以是装置</li>
<li>of:即output file，可以是装置</li>
<li>bs:划分以block的大小，默认是512bytes</li>
<li>count:多少个bs的</li>
</ul>
<p>将/etc/passwd文件刻录到/tmp/passwd.back中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  /tmp dd if=/etc/passwd of=/tmp/passwd.back</span><br><span class="line">记录了5+1 的读入</span><br><span class="line">记录了5+1 的写出</span><br><span class="line">2944字节(2.9 kB)已复制，0.000241941 秒，12.2 MB/秒</span><br></pre></td></tr></table></figure></p>
<p>将iso镜像文件刻录到usb中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">➜  /tmp dd if=/tmp/kail.iso of=/dev/sda</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/21/(2)快速排序/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/05/21/(2)快速排序/" itemprop="url">(2)快速排序</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-21T11:53:00+08:00">
                2016-05-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="0x00-碎语"><a href="#0x00-碎语" class="headerlink" title="0x00 碎语"></a>0x00 碎语</h3><p>基本思想:每次排序的时候设置一个基准点，将小于等于基准点的数全部放到基准点的左边，将大于等于基准点的数全部放到基准点的右边。快速排序的每一轮处理其实就是将这一轮的基准数归位，直到所有的数都归位为止，排序就结束了</p>
<p>速排序之所比较快，因为相比冒泡排序，每次交换是跳跃式的。</p>
<p>当然在最坏的情况下，仍可能是相邻的两个数进行了交换。因此快速排序的最差时间复杂度和冒泡排序是一样的都是O(N2)，它的平均时间复杂度为O(NlogN)。</p>
<h3 id="0x01-快速排序的代码实现"><a href="#0x01-快速排序的代码实现" class="headerlink" title="0x01 快速排序的代码实现"></a>0x01 快速排序的代码实现</h3><p>代码实例:输入n个数，从达到小进行排序。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">int a[101],n;//定义全局变量，这两个变量需要在子函数中使用</span><br><span class="line">void quicksort(int left,int right)</span><br><span class="line">&#123;</span><br><span class="line">    int i,j,t,temp;</span><br><span class="line">    if(left&gt;right)</span><br><span class="line">       return;</span><br><span class="line">                                    </span><br><span class="line">    temp=a[left]; //temp中存的就是基准数</span><br><span class="line">    i=left;</span><br><span class="line">    j=right;</span><br><span class="line">    while(i!=j)</span><br><span class="line">    &#123;//i=j时交换基准数</span><br><span class="line">                   //顺序很重要，要先从j(右边向左)开始找</span><br><span class="line">                   while(a[j]&gt;=temp &amp;&amp; i&lt;j)</span><br><span class="line">                            j--;</span><br><span class="line">                   //再找右边的</span><br><span class="line">                   while(a[i]&lt;=temp &amp;&amp; i&lt;j)</span><br><span class="line">                            i++;</span><br><span class="line">                   //交换两个数在数组中的位置</span><br><span class="line">                   if(i&lt;j)</span><br><span class="line">                   &#123;//如果i&gt;j那么代表已经是排好序的了,便不需要在交换了</span><br><span class="line">                            t=a[i];</span><br><span class="line">                            a[i]=a[j];</span><br><span class="line">                            a[j]=t;</span><br><span class="line">                   &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //最终将基准数归位</span><br><span class="line">    a[left]=a[i];</span><br><span class="line">    a[i]=temp;</span><br><span class="line">                                 </span><br><span class="line">    quicksort(left,i-1);//继续处理左边的，这里是一个递归的过程</span><br><span class="line">    quicksort(i+1,right);//继续处理右边的 ，这里是一个递归的过程</span><br><span class="line">&#125;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    int i,j,t;</span><br><span class="line">    //读入数据</span><br><span class="line">    scanf(&quot;%d&quot;,&amp;n);</span><br><span class="line">    for(i=0;i&lt;n;i++)&#123;</span><br><span class="line">      printf(&quot;请输入第%d个数:&quot;,i+1);             </span><br><span class="line">      scanf(&quot;%d&quot;,&amp;a[i]);</span><br><span class="line">   &#125;</span><br><span class="line">    quicksort(0,n-1); //快速排序调用</span><br><span class="line">                                 </span><br><span class="line">    //输出排序后的结果</span><br><span class="line">    for(i=0;i&lt;n;i++)</span><br><span class="line">        printf(&quot;%d &quot;,a[i]);</span><br><span class="line">    getchar();getchar();</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/21/(0)Linux-C-编程/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/05/21/(0)Linux-C-编程/" itemprop="url">(0)LinuxC-编程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-21T11:52:00+08:00">
                2016-05-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="0x00-GCC简介"><a href="#0x00-GCC简介" class="headerlink" title="0x00 GCC简介"></a>0x00 GCC简介</h3><p>GCC(GNU Compiler Collection)是目前Linux下最常用的C语言编译器，它是Linux平台编译器的事实标准。同时也能编译C，C++，Object C等语言编写的程序。它支持宿主开发也支持交叉编译。使用GCC编译程序时，编译的过程可以细分为四个阶段:</p>
<ul>
<li>预处理(Pre-Processing)</li>
<li>编译(Compiling)</li>
<li>汇编(Assembling)</li>
<li>链接(Linking)</li>
</ul>
<p>各个阶段所对应的目标文件扩展名分别为”.i“，”.s”，”.o”以及最终的可执行文件，它们的含义如下:</p>
<p>.c：最初的C源代码文件<br>.i：经过编译预处理的源代码<br>.s：汇编处理后的汇编代码<br>.o：编译后的目标文件，含有最终编译后的机器码，但是里面所引用的其它文件中函数的内存位置尚不知道。</p>
<p>下面以hello.c文件了解具体的编译过程：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">int main()&#123;</span><br><span class="line">    printf(&quot;hello world!&quot;);</span><br><span class="line">    return 0; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>1.预编译阶段<br>该阶段主要是讲.c文件中的头文件stdio.h的内容读进来，直接插入到程序文本中去，就得到了经过编译预处理的hello.i。</li>
</ul>
<p>GCC命令:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ :gcc -E hello.c -o hello.i</span><br></pre></td></tr></table></figure>
<ul>
<li>2.编译阶段</li>
</ul>
<p>编译阶段的主要作用是检查语法错误，然后把代码翻译成汇编语言，生成汇编处理后的汇编代码hello.s。</p>
<p>GCC命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$: gcc -S hello.i -o hello.s</span><br></pre></td></tr></table></figure>
<ul>
<li>3.汇编阶段</li>
</ul>
<p>将编译阶段生成的hello.s文件编译为目标文件hello.o文件</p>
<p>GCC命令:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$: gcc -c hello.s -o hello.o</span><br></pre></td></tr></table></figure>
<ul>
<li>4.链接阶段</li>
</ul>
<p>将目标文件与所需的所有的附加的目标文件连接起来，生成最终的可执行文件。</p>
<p>GCC命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$: gcc hello.o -o hello</span><br></pre></td></tr></table></figure></p>
<p>如果不想生成中间各类型的文件，也可以有源文件直接编译链接成为可执行文件:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$: gcc hello.c -o hello</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/21/(1)冒泡排序/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/05/21/(1)冒泡排序/" itemprop="url">(1)冒泡排序</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-21T11:18:00+08:00">
                2016-05-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="0x00-碎语"><a href="#0x00-碎语" class="headerlink" title="0x00 碎语"></a>0x00 碎语</h3><p>前置条件:假设我们要将一组数按从大到小的顺序进行排序。</p>
<p>冒泡排序的基本思想:每次比较相邻的两个数，如果他们的顺手错误就把他们交换过来。</p>
<p>冒泡的基本原理是：每趟只能确定将一个数归位，即第一趟只能将末位上的数归位，第二趟只能将倒数第二位上的数归位，重复此步骤，直到最后一个尚未归位的数，而已经归位的数无需在进行比较。</p>
<h3 id="0x01-冒泡排序的代码实现"><a href="#0x01-冒泡排序的代码实现" class="headerlink" title="0x01 冒泡排序的代码实现"></a>0x01 冒泡排序的代码实现</h3><p>实例:输入学生的姓名和分数，按分数的从大到小排序。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">include&lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">struct student &#123;</span><br><span class="line">    char name[21];</span><br><span class="line">    int score;</span><br><span class="line">&#125;;//创建一个结构体用了存储姓名和分数</span><br><span class="line"></span><br><span class="line">void main()&#123;</span><br><span class="line">  struct student a[100],t;</span><br><span class="line">  int n;//输入一个数n</span><br><span class="line">  printf(&quot;please input student counts:\n&quot;);//循环读入n个学生和分数</span><br><span class="line">  scanf(&quot;%d&quot;,&amp;n);</span><br><span class="line">  for(int i=0;i&lt;n;i++)&#123;</span><br><span class="line">    printf(&quot;please inout student name and score:&quot;);</span><br><span class="line">    scanf(&quot;%s %d&quot;,a[i].name,&amp;a[i].score);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  //按分数从高都低排序</span><br><span class="line">  for(int i=0;i&lt;n-1;i++)</span><br><span class="line">  for(int j=0;j&lt;n-i;j++)&#123;</span><br><span class="line"></span><br><span class="line">    if(a[j].score&lt;a[j+1].score)&#123;//对分数进行比较</span><br><span class="line">      t=a[j];</span><br><span class="line">      a[j]=a[j+1];</span><br><span class="line">      a[j+1]=t;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>冒泡排序的核心部分是双重嵌套循环。不难看出冒泡排序的时间复杂度是O(N2)。这是一个非常高的时间复杂度。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/20/Python标准库(2)-正则表达式(re包)-/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/05/20/Python标准库(2)-正则表达式(re包)-/" itemprop="url">Python标准库(2)正则表达式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-20T22:30:00+08:00">
                2016-05-20
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h3><p>正则表达式(regular expression)的主要功能是从字符串(string)中通过特定的模式(pattern)，搜索想要的内容。</p>
<p>Python中数量词默认是贪婪的，总是匹配尽可能多的字符。非贪婪的则相反，总是尝试匹配尽可能少的字符。</p>
<hr>
<h3 id="0x01-正则表达式符号"><a href="#0x01-正则表达式符号" class="headerlink" title="0x01 正则表达式符号"></a>0x01 正则表达式符号</h3><ul>
<li><strong>.</strong> 任意一个字符</li>
<li><strong>a|b</strong> 字符a或者b</li>
<li><strong>[^m]</strong> 不是m的一个字符</li>
<li><strong>\s</strong> 一个空格</li>
<li><strong>\S</strong> 一个非空格</li>
<li><strong>\d</strong> 数字等价于[0-9]</li>
<li><strong>\D</strong> 非数字等价于[^0-9]</li>
<li><strong>\w</strong> 数字和字母等价于[0-9a-zA-Z]</li>
<li><strong>\W</strong> 非数字和字母等价于[^0-9a-zA-Z]</li>
<li><strong>*</strong> 重复前一个字符0到达无穷次</li>
<li><strong>+</strong> 重复前一个字符1到无穷次</li>
<li><strong>?</strong> 重复前一个字符0次或者1次</li>
<li><strong>{m}</strong> 重复前一个字符m次</li>
<li><strong>{m,n}</strong> 重复前一次字符m到n次</li>
<li><strong>^</strong> 配比开头那个字符</li>
<li><strong>$</strong> 匹配结尾那个字符</li>
</ul>
<hr>
<h3 id="0x02-标志位-flags"><a href="#0x02-标志位-flags" class="headerlink" title="0x02 标志位 flags"></a>0x02 标志位 flags</h3><ul>
<li><strong>re.I</strong> 忽略大小写</li>
<li><strong>re.M</strong> 多行匹配</li>
<li><strong>re.S</strong> 使用.匹配换行在内的所有字符</li>
<li><strong>re.L</strong>使预定字符类 \w \W \b \B \s \S 取决于当前区域设定</li>
<li><strong>re.U</strong> 使预定字符类 \w \W \b \B \s \S \d \D 取决于unicode定义的字符属性</li>
<li><strong>re.X</strong> 详细模式，表达式可以是多行，忽略空白字符，并可以加入注释。</li>
<li><strong>关于原生字符串”r”</strong>: 假如我们需要匹配一个数字那么我们需要在程序里写”\d”,因为”\”总是有特别的含义，但是在Python里我们还可以这么写r”\d”,使用原生字符串的表达方式，如此，妈妈再也不用担心漏写的反斜杠了。</li>
</ul>
<hr>
<h3 id="0x03-Pattern"><a href="#0x03-Pattern" class="headerlink" title="0x03 Pattern"></a>0x03 Pattern</h3><p>Pattern是一个匹配模式，需要利用<strong>re.compile()</strong>方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pattern = re.compile(r&quot;hello&quot;)</span><br></pre></td></tr></table></figure>
<p>使用原生字符串，通过compile方法编译生成哟pattern对象，然后便可以利用这个对象来进行匹配。</p>
<hr>
<h3 id="0x04-群"><a href="#0x04-群" class="headerlink" title="0x04 群"></a>0x04 群</h3><p>有时可能会对搜索的结果进行进一步精简信息比如output_(\d{4}),该正则表达式用括号()包围了一个小正则表达式，\d{4}，这个小的正则表达式被用于从结果中筛选想要的信息，即4位数字。想这样被<strong>括号圈起来的表达式的一部分，称为群(group)</strong></p>
<p>我们可以使用<strong>m.group(number)</strong>方法来查询群，group(0)是整个表达式的搜索结果，group(1)是值第一个群。</p>
<hr>
<h3 id="0x05-正则表达式的函数"><a href="#0x05-正则表达式的函数" class="headerlink" title="0x05 正则表达式的函数"></a>0x05 正则表达式的函数</h3><ul>
<li><p><strong>re.match(pattrn, string, flages)</strong> 从头开始检查字符串是否符合pattern，一直向后匹配，，必须从字符的第一个字符开始就符合，直到pattern匹配完毕!,flags位标志位，用于控制正则表达式的匹配方式，如:是否区分大小写，多行匹配等!</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> # -*-coding:utf-8-*-</span><br><span class="line">import re</span><br><span class="line">pattern = re.compile(r&quot;hello&quot;)</span><br><span class="line">result1 = re.match(pattern, &apos;hello&apos;)</span><br><span class="line">result2 = re.match(pattern, &apos;helloo jdldf&apos;)</span><br><span class="line">result3 = re.match(pattern, &apos;helo jfds!&apos;)</span><br><span class="line">if result1:</span><br><span class="line">    print result1.group()</span><br><span class="line">else:</span><br><span class="line">    print &apos;匹配失败&apos;</span><br><span class="line">if result2:</span><br><span class="line">    print result2.group()</span><br><span class="line">else:</span><br><span class="line">    print &apos;匹配失败&apos;</span><br><span class="line"> if result3:</span><br><span class="line">    print result3.group()</span><br><span class="line">else:</span><br><span class="line">    print &apos;匹配失败&apos;</span><br></pre></td></tr></table></figure>
<p>我们还可以使用Match提供的可读属性和方法来获取更多的信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"> # -*-coding:utf-8-*-</span><br><span class="line">import re</span><br><span class="line">pattern = re.compile(r&apos;(\w+) (\w+)(\S.*)&apos;)</span><br><span class="line">m = re.match(pattern, &apos;hello world!&apos;)</span><br><span class="line">print m.string      # 匹配时使用的文本</span><br><span class="line">print m.re          #匹配时使用的pattern对象</span><br><span class="line">print m.pos        #文本中正则表达式开始搜索的索引</span><br><span class="line">print m.endpos  #文本中正则表达式结束搜索的索引</span><br><span class="line">print m.lastindex  #最后一个呗捕获的分组在文本中的索引</span><br><span class="line">print m.lastgroup #最后一个被捕获的分组的别名，无则返回None</span><br><span class="line">print m.group()#获得分组字符串，0代表整个匹配的字符串</span><br><span class="line">print m.group(1,2)</span><br><span class="line">print m.groups() #以元组形式返回全部分组截获的字符串</span><br><span class="line">print m.groupdict()#返回以有别名的组的别名为键、以该组截获的子串为值的字典，没有别名的组不包含在内</span><br><span class="line">print m.start(2)#返回指定的组截获的子串在string中的起始索引（子串第一个字符的索引）</span><br><span class="line">print m.end(2)</span><br><span class="line">print m.span(2)#返回(start(group),end(group))</span><br><span class="line">print m.expand(r&apos;\2 \1\3&apos;)将匹配到的分组带入template中返回，可以使用&quot;\d&quot;,&quot;\g&quot;进行分组</span><br><span class="line">运行结果:</span><br><span class="line">hello world!</span><br><span class="line">&lt;_sre.SRE_Pattern object at 0x000000000277DA98&gt;</span><br><span class="line">0</span><br><span class="line">12</span><br><span class="line">3</span><br><span class="line">None</span><br><span class="line">hello world!</span><br><span class="line">(&apos;hello&apos;, &apos;world&apos;)</span><br><span class="line">(&apos;hello&apos;, &apos;world&apos;, &apos;!&apos;)</span><br><span class="line">&#123;&#125;</span><br><span class="line">6</span><br><span class="line">11</span><br><span class="line">(6, 11)</span><br><span class="line">world hello!</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong> re.search(pattern, string, flages)</strong> re.search与match极其类似，区别是match()值检测re是不是在string的开始位置匹配，而search()会搜索整个string,直到发现符合的子字符串。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line">pattern = re.compile(r&apos;world&apos;)</span><br><span class="line">match = re.search(pattern,&apos;hello word!&apos;)</span><br><span class="line">if match:</span><br><span class="line">   print match.group()</span><br><span class="line">返回结果:</span><br><span class="line">world</span><br></pre></td></tr></table></figure>
<p>对re.search()使用”^”相当于re.match()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">re.search(&quot;^c&quot;, &quot;abcdef&quot;) # 匹配失败</span><br><span class="line">re.search(&quot;^a&quot;, &quot;abcdef&quot;) #匹配成功</span><br></pre></td></tr></table></figure>
<p>但是re.match在多行匹配中只会匹配整个字符串的开头re.search()则会匹配每一行的开头:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">re.match(&apos;X&apos;, &apos;A\nB\nX&apos;, re.M)  #No match</span><br><span class="line">re.search(&apos;^X&apos;, &apos;A\nB\nX&apos;, re.M) #Match</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>re.sub(pattern, replacement, string，count)</strong> 在string中利用正则表达式变化pattern进行搜索，对于搜索到的字符串，用另一个字符串replacement替换。返回替换后的字符串。count是匹配后替换的最大次数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line">pattern = re.compile(r&apos;(\w+) (\w+)&apos;)</span><br><span class="line">s = &apos;i say, hello world!&apos;</span><br><span class="line">print re.sub(pattern,r&apos;\2 \1&apos;, s)</span><br><span class="line">def func(m):</span><br><span class="line">    return m.group(1).title()+&apos; &apos;+m.group(2).title()</span><br><span class="line">print re.sub(pattern,func, s)</span><br><span class="line">输出:</span><br><span class="line">say i, world hello!</span><br><span class="line">I Say, Hello World!</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>re.subn(pattern,repl,string[,count])</strong></p>
<p>返回(sub(repl,string[,count]),替换次数)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  import re</span><br><span class="line">pattern = re.compile(r&apos;(\w+) (\w+)&apos;)</span><br><span class="line">s = &apos;i say, hello world!&apos;</span><br><span class="line">print re.sub(pattern,r&apos;\2 \1&apos;, s)</span><br><span class="line">def func(m):</span><br><span class="line">    return m.group(1).title()+&apos; &apos;+m.group(2).title()</span><br><span class="line">print re.subn(pattern,func, s)</span><br><span class="line">输出:</span><br><span class="line">(&apos;say i, world hello!&apos;,2)</span><br><span class="line">(&apos;I Say, Hello World!&apos;,2)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>re.split(pattern,string[,maxsplit] )</strong> 根据正则表达式分割字符串，将分割后的所有字符串放在一个表(list)中返回,maxsplit用于指定对大分割次数，不指定将全部分割</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line">pattern = re.compile(r&apos;\d+&apos;)</span><br><span class="line">print re.split(pattern,&apos;one1two2three3four4&apos;)</span><br><span class="line">输出:</span><br><span class="line">[&apos;one&apos;, &apos;two&apos;, &apos;three&apos;, &apos;four&apos;, &apos;&apos;]</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>re.findall(pattern,string,flages )</strong> 根据正则表达式搜素字符串，将所有符合的子字符串放在一个表(list)中返回。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line">pattern = re.compile(r&apos;\d+&apos;)</span><br><span class="line">print re.findall(pattern,&apos;one1two2three3four4&apos;)</span><br><span class="line">输出:</span><br><span class="line">[&apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;]</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>finditer(pattern,string[,flags])</strong><br>搜索string，返回一个顺序访问每一个匹配结果的迭代器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line">pattern = re.compile(r&apos;\d+&apos;)</span><br><span class="line">for m in re.finditer(pattern,&apos;one1two2three3four4&apos;):</span><br><span class="line">   print m.group(),</span><br><span class="line">输出:</span><br><span class="line">1,2,3,4</span><br></pre></td></tr></table></figure>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/20/解决linux下载更新没有密钥/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/05/20/解决linux下载更新没有密钥/" itemprop="url">解决linux下载更新没有密钥</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-20T00:00:00+08:00">
                2016-05-20
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>出现如下错误:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">正在读取软件包列表... 完成</span><br><span class="line">  W: 以下 ID 的密钥没有可用的公钥：</span><br><span class="line">1397BC53640DB551</span><br></pre></td></tr></table></figure>
<p>解决办法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~# gpg --keyserver subkeys.pgp.net --recv 640DB551</span><br><span class="line"># xxx改为公钥中最后8位即可！</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/15/端口扫描-TCP/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/05/15/端口扫描-TCP/" itemprop="url">端口扫描-TCP</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-15T16:14:00+08:00">
                2016-05-15
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h3><p>相比于UDP的端口扫描，基于TCP的扫描将会复杂很多。TCP的扫描方式都是基于连接的三次握手的变化来判断目标端口的状态。TCP可以进行隐蔽扫描，僵尸扫描(比隐蔽扫描更隐蔽的扫描方式)，全连击扫描(基于完整的三次握手)。</p>
<ul>
<li><p><strong> 隐蔽扫描</strong><br>不建立完整的连接，而是只发送syn包，如果对方回复ack表示目标端口是开放的，如果回复rst表示目标端口未开放。无论如何我不再发送第三次的ACK确认，由此也不会建立起正常的tcp连接，应用层日志不会有任何记录，但是网络层还是会有些迹象的！</p>
</li>
<li><p><strong>僵尸扫描</strong><br>极度隐蔽，但是实施条件苛刻，可伪造源地址。僵尸扫描的苛刻条件之一就是发起方必须伪造IP地址；二是选择的僵尸机必须是闲置状态的并且这些操作系统的IPID(ip包头里的ip字段)必须是递增的，IPID不能是随机的或者永远是0。</p>
</li>
</ul>
<hr>
<h3 id="0x01-隐蔽端口扫描"><a href="#0x01-隐蔽端口扫描" class="headerlink" title="0x01 隐蔽端口扫描"></a>0x01 隐蔽端口扫描</h3><h4 id="本地测试环境"><a href="#本地测试环境" class="headerlink" title="本地测试环境"></a>本地测试环境</h4><ul>
<li><strong>kali 2.0:</strong> 系统参数{IP:192.168.129}</li>
<li><strong>ubuntu 14.04LTS:</strong> 系统参数{ IP:192.168.86.131}</li>
<li><strong>windows xp 英文版:</strong> 系统参数{IP:192.168.86.132}</li>
<li><strong>metasploitable2:</strong> 系统参数{IP:192.168.86.130}</li>
</ul>
<h4 id="使用Scapy构成TCP-syn包探测目标端口"><a href="#使用Scapy构成TCP-syn包探测目标端口" class="headerlink" title="使用Scapy构成TCP syn包探测目标端口"></a>使用Scapy构成TCP syn包探测目标端口</h4><p>syn是tcp包，所以先构造一个tcp包，tcp包由tcp包头+ip包头组成，默认情况先tcp扫描80端口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">root@kali:~# scapy</span><br><span class="line">WARNING: No route found for IPv6 destination :: (no default route?)</span><br><span class="line">Welcome to Scapy (2.2.0)</span><br><span class="line">a=sr1(IP(dst=&quot;192.168.86.130&quot;)/TCP(flags=&quot;S&quot;),timeout=1,verbose=0)</span><br><span class="line">a&lt;IP  version=4L ihl=5L tos=0x0 len=44 id=0 flags=DF chksum=0xff85 urgptr=0 options=[(&apos;MSS&apos;, 1460)] |&lt;Padding  load=&apos;\x00\x00&apos; |&gt;&gt;&gt;</span><br><span class="line">a.display()###[ IP ]###</span><br><span class="line">  version= 4L</span><br><span class="line">  chksum= 0xc78</span><br><span class="line">  src= 192.168.86.130</span><br><span class="line">  dst= 192.168.86.129</span><br><span class="line">  \options\###[ TCP ]###</span><br><span class="line">     sport= http</span><br><span class="line">     reserved= 0L</span><br><span class="line">     flags= SA  &lt;===TCP包头的flags字段变成了SA=syn+ack  ###[ Padding ]###load= &apos;\x00\x00&apos;</span><br></pre></td></tr></table></figure>
<p>查看目标441端口是否开放<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=sr1(IP(dst=&quot;192.168.86.130&quot;)/TCP(flags=&quot;S&quot;,dport=441),timeout=1,verbose=0)</span><br><span class="line">a</span><br><span class="line">&lt;IP version=4L ihl=5L tos=0x0 len=40 id=0 flags=DF frag=0L ttl=64 proto=tcp chksum=0xc7c src=192.168.86.130 dst=192.168.86.129 options=[] </span><br><span class="line">|&lt;TCP sport=441 dport=ftp_data seq=0 ack=1 dataofs=5L reserved=0L __flags=RA__ window=0 chksum=0x7fae urgptr=0 |&lt;Padding load=&apos;\x00\x00\x00\x00\x00\x00&apos;</span><br></pre></td></tr></table></figure></p>
<p>可以看到，当端口未开放时，TCP的flags字段将会变成RA=rst+ack</p>
<p>scapy python脚本扫描:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line"></span><br><span class="line">import logging</span><br><span class="line">import subprocess</span><br><span class="line">logging.getLogger(&quot;scapy.runtime&quot;).setLevel(logging.ERROR)</span><br><span class="line">from scapy.all import *</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line">if len(sys.argv) != 4:</span><br><span class="line">  print &quot;Usage - ./udp_port.py [Target - TP] [First port] [Last port]&quot;</span><br><span class="line">  print &quot;Usage - ./udp-port.py 128.13.34.13 1 100&quot;</span><br><span class="line">  sys.exit()</span><br><span class="line"></span><br><span class="line">ip = sys.argv[1]</span><br><span class="line">start = int(sys.argv[2])</span><br><span class="line">end = int(sys.argv[3])</span><br><span class="line"></span><br><span class="line">for port in range(start, end):</span><br><span class="line">  a = sr1(IP(dst=ip)/TCP(dport=port),timeout=1,verbose=0)</span><br><span class="line">  if a == None:</span><br><span class="line">    pass</span><br><span class="line">  else:</span><br><span class="line">    if int(a[TCP].flags) == 18:</span><br><span class="line">      print port</span><br><span class="line">    else:</span><br><span class="line">      pass</span><br></pre></td></tr></table></figure></p>
<hr>
<h4 id="NMAP-的TCP-隐蔽端口扫描"><a href="#NMAP-的TCP-隐蔽端口扫描" class="headerlink" title="NMAP 的TCP 隐蔽端口扫描"></a>NMAP 的TCP 隐蔽端口扫描</h4><ul>
<li><p><strong>{ Usage $: namp -sS ip start-port end-port }</strong></p>
</li>
<li><p><strong>{ Usage $: namp -sS ip start-port end-port  –open}</strong>只显示端口状态为open的端口</p>
</li>
</ul>
<hr>
<h4 id="hping3-syn-隐蔽端口扫描"><a href="#hping3-syn-隐蔽端口扫描" class="headerlink" title="hping3 syn 隐蔽端口扫描"></a>hping3 syn 隐蔽端口扫描</h4><ul>
<li><p><strong>{Usage $: hping3 192.168.0.106 –scan 80 -S }</strong></p>
</li>
<li><p><strong>{Usage $:hping3 -c 10 -S –spoof poof_ip -p ++1 dst_ip }</strong> 伪造源地址扫描<br>将IP伪造成poof_ip实现对源IP的隐藏，然后向目标主机发送10个syn包进行探测，从端口1开始，每次增加1.<br>这里存在的问题是当目标主机的端口是开放的那么它会发送一个ack包个poof_ip，如果我们想要知道扫描的结果的话，那么我们必须具有登录poof_ip主机的权限，才能查看到扫描的结果！</p>
</li>
</ul>
<h3 id="0x03-TCP全连接端口扫描"><a href="#0x03-TCP全连接端口扫描" class="headerlink" title="0x03 TCP全连接端口扫描"></a>0x03 TCP全连接端口扫描</h3><p>syn在存在防火墙，或者网络条件十分苛刻时，可能扫描不出什么来，以此我们这时需要通过三次握手跟目标主机建立完整的TCP连接来进行试探，全连接的扫描结果准确率是最高的，但是不隐蔽，很容易触发网络层的报警系统。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">#-*-coding:utf-8-*-</span><br><span class="line">#！/usr/bin/python</span><br><span class="line">import logging</span><br><span class="line">logging.getLogger(&quot;scapy.runtime&quot;).setLevel(logging.ERROR)</span><br><span class="line">from scapy.all import *</span><br><span class="line"></span><br><span class="line">SYN = IP(dst=&quot;192.168.86.132&quot;)/TCP(dport=25,flags=&quot;S&quot;)</span><br><span class="line"></span><br><span class="line">print(&quot;---SENT---&quot;)</span><br><span class="line">SYN.display()</span><br><span class="line">#显示要发的包</span><br><span class="line"></span><br><span class="line">print&quot;\n\n---RECEIVED---&quot;</span><br><span class="line">response = sr1(SYN,timeout=1,verbose=0)</span><br><span class="line">#将定义好的SYN包发送出去</span><br><span class="line">response.display()</span><br><span class="line">#显示收到的回包的信息，若对方端口开放，将会收到SYN+ACK相应</span><br><span class="line">#----------------</span><br><span class="line">#但是这里存在一个问题，就是我们的电脑系统内核会认为SYN/ACK</span><br><span class="line">#是非法包，将会直接发送RST断开连接，这很蛋疼。。。</span><br><span class="line">#解决方式是使用linux的自带防火墙iptables直接DROP掉由系统发出的RST包</span><br><span class="line">#iptables -A OUTPUT -p tcp --tcp-flags RST RST -d 192.168.86.132 -j DROP</span><br><span class="line">#-A新家一条规则，出站，-p tcp表示使用TCP协议 -d表示目标ip，-j表示动作</span><br><span class="line">#----------------</span><br><span class="line">if int(response[TCP].flags)==18:</span><br><span class="line">#如果收到的回包是SYN+ACK，那么TCP包头的flags将会是18</span><br><span class="line">  print(&quot;\n\n---SENT---&quot;)</span><br><span class="line">  A = IP(dst=&quot;192.168.86.132&quot;)/TCP(dport=25,flags=&quot;A&quot;,ack=(response[TCP].seq+1))</span><br><span class="line">#确定收到syn+ack相应，再次向目标发送ACK包确认，同时序列号加1</span><br><span class="line">  A.display()</span><br><span class="line">  print(&quot;\n\n---RECRIVED---&quot;)</span><br><span class="line">  response2 = sr1(A,timeout=1,verbose=0)</span><br><span class="line">  response2.display()</span><br><span class="line">else:</span><br><span class="line">#如果没有收到syn+ack回应，将不做任何相应</span><br><span class="line">  print&quot;SYN.ACK not returned&quot;</span><br></pre></td></tr></table></figure>
<h4 id="NMAP实现全连接的扫描"><a href="#NMAP实现全连接的扫描" class="headerlink" title="NMAP实现全连接的扫描"></a>NMAP实现全连接的扫描</h4><ul>
<li><strong>{ Usage $: namp -sT 192.168.86.134 -p 1-100 }</strong></li>
</ul>
<p>当然基于TCP的全连接扫描会较慢非全连接扫描</p>
<h3 id="其它扫描工具"><a href="#其它扫描工具" class="headerlink" title="其它扫描工具　"></a>其它扫描工具　</h3><ul>
<li><p><strong>dmitry { Usage $: dmitry -P 192.168.86.34 }</strong></p>
</li>
<li><p><strong>nc { Usage $: nv -w 1 -z 192.168.14.112 1-100 }</strong></p>
<ul>
<li><strong>for x in $(seq 20 400);do nv -nv -w 1 -z 192.168.123.33 $x: done | grep open</strong></li>
<li><strong>for x in $(seq 1 254);do nc -nv -w 1 -z 192.168.3.$x 80;done</strong></li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/13/端口扫描-UDP/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/05/13/端口扫描-UDP/" itemprop="url">端口扫描-UDP</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-13T12:10:00+08:00">
                2016-05-13
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h3><p>当我们发现到存活的IP以后，那么下一步就是针对特定的主机进行端口扫描了，因为端口对应的是网络服务及其应用段的程序，端口潘多拉魔盒的入口，一旦发现开放的端口，便能以此作为后续渗透的跳板，这是完成一个完美渗透的一个重要的里程碑。</p>
<hr>
<h3 id="0x01-UDP端口扫描"><a href="#0x01-UDP端口扫描" class="headerlink" title="0x01 UDP端口扫描"></a>0x01 UDP端口扫描</h3><p>UDP端口扫描可以得到两种结果，端口开了，端口没开(废话-.-),但是主机是活的，我们也不会死的主机进行端口扫描。</p>
<p>假设ICMP 返回port-unreachable 响应代表端口关闭，但是如果目标系统不响应ICMP port-unreachable时，可能产生误判，而且完整的UPD应用层请求虽然准确性高，但是耗时巨大！</p>
<p>了解每一种UDP的应用层协议，构成出专门对这一应用的的数据包，然后用该数据包进行扫描，将会大大得到提高！</p>
<h4 id="Scapy-UDP-Scan"><a href="#Scapy-UDP-Scan" class="headerlink" title="Scapy UDP Scan"></a>Scapy UDP Scan</h4><p>直接上脚本代码了:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line"></span><br><span class="line">import logging</span><br><span class="line">import subprocess</span><br><span class="line">logging.getLogger(&quot;scapy.runtime&quot;).setLevel(logging.ERROR)</span><br><span class="line">from scapy.all import *</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line">if len(sys.argv) != 4:</span><br><span class="line">#脚本本身 ip start-port end-port</span><br><span class="line">  print &quot;Usage - ./udp_port.py [Target - TP] [First port] [Last port]&quot;</span><br><span class="line">#指定起始端口和结束端口</span><br><span class="line">  print &quot;Usage - ./udp-port.py 128.13.34.13 1 100&quot;</span><br><span class="line">  sys.exit()</span><br><span class="line"></span><br><span class="line">ip = sys.argv[1]</span><br><span class="line">start = int(sys.argv[2])</span><br><span class="line">end = int(sys.argv[3])</span><br><span class="line"></span><br><span class="line">for port in range(start,end):</span><br><span class="line">  a = sr1(IP(dst=ip)/UDP(dport=port),timeout=5,verbose=0)</span><br><span class="line">#udp探测命令</span><br><span class="line">  time.sleep(1)</span><br><span class="line">#sleep一秒，等待sr1发送完成，避免网络中的延迟误判！</span><br><span class="line">  if a == None:</span><br><span class="line">#None意味着没有收到响应，代表端口是开放的</span><br><span class="line">    print port</span><br><span class="line">  else:</span><br><span class="line">#如果得到了回应，那么一定是port-unreachable回应，代表端口没开放</span><br><span class="line">    pass</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="0x02-nmap-端扫描"><a href="#0x02-nmap-端扫描" class="headerlink" title="0x02 nmap 端扫描"></a>0x02 nmap 端扫描</h3><ul>
<li><p><strong>{ Usage $: nmap -SU ip }</strong></p>
<p>对特定ip端口扫描，如果不指定端口的话，namp默认会对1000常用端口进行扫描，即使是nmap如果是基于UDP的扫描话，也只是利用了UDP端口不可达的这一个特征信息！</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~/scripts/端口扫描# nmap -sU 192.168.0.1 </span><br><span class="line">Starting Nmap 7.01 ( https://nmap.org ) at 2016-05-13 10:37 CST</span><br><span class="line">Nmap scan report for 192.168.0.1</span><br><span class="line">Host is up (0.0036s latency).</span><br><span class="line">Not shown: 994 closed ports</span><br><span class="line">PORT     STATE         SERVICE</span><br><span class="line">53/udp   open          domain</span><br><span class="line">67/udp   open|filtered dhcps</span><br><span class="line">123/udp  open|filtered ntp</span><br><span class="line">1026/udp open|filtered win-rpc</span><br><span class="line">1027/udp open|filtered unknown</span><br><span class="line">1900/udp open|filtered upnp</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>{ Usage $: nmap -sU 192.168.0.1 -p53}</strong> 扫描指定端口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">root@jack:~/scripts/端口扫描# nmap -sU 192.168.0.1 -p53</span><br><span class="line">Starting Nmap 7.01 ( https://nmap.org ) at 2016-05-13 10:40 CST</span><br><span class="line">Nmap scan report for 192.168.0.1</span><br><span class="line">Host is up (0.0015s latency).</span><br><span class="line">PORT   STATE SERVICE</span><br><span class="line">53/udp open  domain</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>{ Usaeg $: namp -iL iplist.txt -sU -p 1-20000 }</strong> 从文件获得IP地址信息，进行批量扫描</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/28/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/28/">28</a><span class="page-number current">29</span><a class="page-number" href="/page/30/">30</a><span class="space">&hellip;</span><a class="page-number" href="/page/33/">33</a><a class="extend next" rel="next" href="/page/30/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">onejustonee</p>
              <p class="site-description motion-element" itemprop="description">onejustone's blog</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">329</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">103</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">onejustonee</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
