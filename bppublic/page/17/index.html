<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="onejustone&apos;s blog">
<meta property="og:type" content="website">
<meta property="og:title" content="onejustone">
<meta property="og:url" content="http://yoursite.com/page/17/index.html">
<meta property="og:site_name" content="onejustone">
<meta property="og:description" content="onejustone&apos;s blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="onejustone">
<meta name="twitter:description" content="onejustone&apos;s blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/17/">





  <title>onejustone</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">onejustone</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">--愿你内心有种不灭的火焰，将你与别人区分开来--</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/16/3.DOM2和DOM3/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/16/3.DOM2和DOM3/" itemprop="url">JS-DOM(3)-DOM2和DOM3</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-16T00:00:00+08:00">
                2016-10-16
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="0x00-DOM2"><a href="#0x00-DOM2" class="headerlink" title="0x00 DOM2"></a>0x00 DOM2</h3><p>DOM1 主要定义的是 HTML 和 XML 文档的底层结构，DOM2 和 DOM3 则在结构的基础上引入了更多的交互能力，也支持了更高的 XML 特性。</p>
<hr>
<h3 id="0x02-DOM2级样式"><a href="#0x02-DOM2级样式" class="headerlink" title="0x02 DOM2级样式"></a>0x02 DOM2级样式</h3><p>HTML 定义样式的三种方式: <link>外部样式，<style>嵌入式，以及使用 style 特性定义的针对特定元素的样式。</p>
<p>任何支持 style 特性的 HTML 元素都在 JS 中对应一个 style 属性。这个 style 对象是 CSSStyleDeclaration 的实例，包含通过 HTML 的特性指定的所有样式，但是 <strong>不包含与经部样式表或者嵌入样式表所设置的样式。</strong></p>
<hr>
<h4 id="访问元素样式"><a href="#访问元素样式" class="headerlink" title="访问元素样式"></a>访问元素样式</h4><p>在 JS 中使用 HTML 元素对应的 style 属性时，如果是使用短划线(如: backgroud-color)的 CSS 属性名，必须将其转换成驼峰大小写的形式。</p>
<p>但是，对于 <code>float</code> 属性，直接进行转换也是没有用的，因为 float 是 JS 中的保留字，因此不能用作属性名。DOM2 级中与此对应的属性名是 <code>cssFloat</code>,而 IE 支持的是 <code>styleFloat</code>。</p>
<hr>
<h4 id="元素大小"><a href="#元素大小" class="headerlink" title="元素大小"></a>元素大小</h4><h5 id="offset-dimension"><a href="#offset-dimension" class="headerlink" title="offset dimension"></a>offset dimension</h5><p><strong>偏移量 (offset dimension)</strong>, 通过下列4个属性可以取得元素偏移量:</p>
<ul>
<li>offsetHeight: 在垂直方向上占用的空间。包括元素高度，水平滚动的高度，上下边框高度。</li>
<li>offsetWidth: 在水平方向上占用的空间。包括元素宽度，垂直滚动条的, 左右边框的宽带。</li>
<li>offsetLeft: 元素左外边框到父元素的左内边框的像素距离。</li>
<li>offsetTop: 元素上外边框到父元素的上内边框的像素距离。</li>
</ul>
<h5 id="client-dimension"><a href="#client-dimension" class="headerlink" title="client dimension"></a>client dimension</h5><p>元素的客户区大小(client dimension)。指的是元素内容及其内边距所占据的空间的大小。它只有两个属性值:</p>
<ul>
<li>clientWidth: 内容区宽带 + 左右内边距</li>
<li>clientHeight: 内容区高度 + 上下内边距</li>
</ul>
<p>最常用到这些属性的时候是确定浏览器的窗口大小。<br>要确定浏览器窗口的大小，可以使用 document.documentElement 或者 document.body 的 clientWidth 和 clientHeight </p>
<h5 id="scroll"><a href="#scroll" class="headerlink" title="scroll"></a>scroll</h5><ul>
<li>scrollHeight: 在没有滚动的情况下，元素内容的总高度</li>
<li>scrollWidth: 在没有滚动的情况下，元内容的中宽带</li>
<li>scrollLeft: 被隐藏在内容区域左侧的像素值。</li>
<li>scrollTop: 被隐藏在内容区域上方的像素值。</li>
</ul>
<blockquote>
<p>document.body.scrollHeight = document.body.scrollTop + document.body.clientHeight<br>滚动区域的高度 = 滚动的距离 + 窗口的高度</p>
</blockquote>
<h6 id="使用-scrollTop-回到顶部"><a href="#使用-scrollTop-回到顶部" class="headerlink" title="使用 scrollTop 回到顶部"></a>使用 scrollTop 回到顶部</h6><h6 id="使用-onscroll-事件实现图片预加载"><a href="#使用-onscroll-事件实现图片预加载" class="headerlink" title="使用 onscroll() 事件实现图片预加载"></a>使用 onscroll() 事件实现图片预加载</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;img src=&quot;&quot; diy = &quot;../img/1.jpg&quot;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function $(ele)&#123;</span><br><span class="line">// 类似于 jQuery 的 $$()</span><br><span class="line">	return document.querySelector(ele);	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var img = $(&quot;img&quot;);</span><br><span class="line">var isScrollTop = document.body.scrollTop;	</span><br><span class="line">	document.onscroll = function function_name(argument) &#123;		</span><br><span class="line">		if( isScrollTop + document.documentElement.clientHeight &gt;= 100)&#123;</span><br><span class="line">			console.log(document.body.scrollTop);</span><br><span class="line">			var diy = img.getAttribute(&quot;diy&quot;);	</span><br><span class="line">			img.setAttribute(&quot;src&quot;,diy)</span><br><span class="line">	&#125;		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们通过对 img 标签设置自定义属性 diy 来预先存储图片路径。需要注意的是 <code>document.body.scrollTop</code> 属性只针对 Chrome 有用，非 Chrome 浏览器需使用 <code>document.documentElement.scrollTop</code>。</p>
</style></p>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/16/背景与边框/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/16/背景与边框/" itemprop="url">背景与边框</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-16T00:00:00+08:00">
                2016-10-16
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="0x00-半透明边框"><a href="#0x00-半透明边框" class="headerlink" title="0x00 半透明边框"></a>0x00 半透明边框</h3><hr>
<h4 id="背景知识-RGBA-HSLA-颜色"><a href="#背景知识-RGBA-HSLA-颜色" class="headerlink" title="背景知识 RGBA/HSLA 颜色"></a>背景知识 RGBA/HSLA 颜色</h4><p>在CSS3里我们可以使用RGBA和HSLA两种色彩模式，二者均可以用来在设置颜色的同时指定其它透明度。RGBA指的是“红色、绿色、蓝色和Alpha透明度”，而HSLA则代表“色调、饱和度、亮度和Alpha透明度”。</p>
<p>在RGBA模式里，前三个参数分别是红色、绿色和蓝色的强度值，取值从 0~255 或 0%~100% （最常见的是 0~255， 而非百分数形式）。而在HSLA模式里，前三个参数则分别代表色调（ 0~360 ）、饱和度（ 0%-100% ）和亮度（ 0%~100% ）。RGBA和HSLA第四个参数都是透明度，取值从0（完全透明）到1（完全不透明）。</p>
<blockquote>
<p>CSS3仍有opacity属性，但它的作用是使整个元素都半透明，包括前景内容，而不仅是背景。</p>
</blockquote>
<hr>
<h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><p>需要知道的是，在默认情况下，背景会延伸到边框所在区域的下层。所以即使我们给边框设置了半透明的效果，那么从视觉上也是无法分辨的。所以,如果我们不希望背景侵入边框所在的范围，就需要使用到 CSS3 的 <strong>background-clip</strong> 背景切割属性，将它的值设置为 <code>padding-box</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">border: 10px solid hsla(0%, 0%,100%,.5);</span><br><span class="line">background:white;</span><br><span class="line">background-clip:padding-box;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="0x01-多重边框"><a href="#0x01-多重边框" class="headerlink" title="0x01 多重边框"></a>0x01 多重边框</h3><hr>
<h4 id="box-shadow"><a href="#box-shadow" class="headerlink" title="box-shadow"></a>box-shadow</h4><p>不为人知的是，box-shadow 还可以接受第四个参数(称为”扩展半径”)，通过指定正值或者负值，可以让投影面积加大或者减小。</p>
<p>一个正值的扩展半径加上两个为零的偏移量以及为零的模糊值，得到的投影其实就像是一道实线边框了，在加上 box-shadow 的最大好处，可以支持逗号分隔发法，那么我们便可以为其创建任意数量的投影了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">div&#123;</span><br><span class="line">	height: 200px;</span><br><span class="line">	width: 200px;</span><br><span class="line">	background: yellowgreen;</span><br><span class="line">	box-shadow: 0 0 0 10px #655,0 0 0 15px deeppink, 0 2px 5px 15px rgba(0,0,0, 0.6);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-1b1c033c2bba9167.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="多重边框+投影"></p>
<hr>
<h4 id="outline"><a href="#outline" class="headerlink" title="outline"></a>outline</h4><p>有时当我们只需要两层边框的时候，便可以使用 <strong>outline</strong> 属性来产生外层的边框，这种方案会变得非常灵活，而不同于 box-shadow 只能模拟实现边框。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">div&#123;</span><br><span class="line">			height: 200px;</span><br><span class="line">			width: 200px;</span><br><span class="line">			border: 20px solid #655;</span><br><span class="line">			border-radius: 10px;</span><br><span class="line">			outline:  5px dashed deeppink;		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-86b55f5653e4ca24.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="outline"></p>
<p>描边的另一属性 <strong>outline-offset</strong> 还可以控制它更元素边缘之间的间距，这个属性可以接受负值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">div&#123;</span><br><span class="line">			height: 200px;</span><br><span class="line">			width: 200px;</span><br><span class="line">			border: 20px solid #655;</span><br><span class="line">			border-radius: 10px;</span><br><span class="line">			outline:  5px dashed deeppink;			</span><br><span class="line">			outline-offset: -25px;</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-70155e5d37802d51.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="outline-offset"></p>
<p>但是，IE8 以下的并不支持 outline-offset 属性。</p>
<hr>
<h3 id="0x02-背景定位"><a href="#0x02-背景定位" class="headerlink" title="0x02 背景定位"></a>0x02 背景定位</h3><hr>
<h4 id="背景定位"><a href="#背景定位" class="headerlink" title="背景定位"></a>背景定位</h4><p>有时，我们希望背景图片与容器的边角之间留出一定的空隙(类似内边距的效果)，在 CSS2 的时代要实现这一点是很麻烦的。但是在 CSS3 的时代 <code>background-position</code> 属性已经得到了很好的扩展，并且当结合 <code>background-origin</code> 属性使用时，将发挥出更大的创造力。</p>
<p>在 CSS3 中，background-position 允许我们指定背景图片距离任意角的偏移量，只需我们在偏移量前指定关键字就好了。</p>
<p>需要知道的是，background-position 在默认情况下是以 padding-box 为基准的，不过，我们可以使用 CSS3 中一个新的属性 <code>background-origin</code> 来改变这种默认行为。background-origin 默认值同样为 padding-box，其它可以接受的值是，content-box 和 border-box。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#box&#123;</span><br><span class="line">        width:500px;</span><br><span class="line">	height:500px;</span><br><span class="line">	border:20px solid rgba(0,0,0,0.5);			</span><br><span class="line">	background: url(img/adver2.jpg) no-repeat ;</span><br><span class="line">	/*background-clip:content-box;	*/	</span><br><span class="line">	background-position: right 20px bottom 10px;</span><br><span class="line">	background-origin: content-box;</span><br><span class="line">	padding:40px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如此，我们在 background-position 中使用的边角关键字将会以内容区的边缘作为基准。</p>
<hr>
<h3 id="0x03-边框内圆角"><a href="#0x03-边框内圆角" class="headerlink" title="0x03 边框内圆角"></a>0x03 边框内圆角</h3><p>一个灵活的方法是使用两个嵌套的 div 来实现边框内圆角的效果。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#box&#123;</span><br><span class="line">  background:#655;</span><br><span class="line">  padding:0.8em;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#subBox &#123;</span><br><span class="line">    background: tan;</span><br><span class="line">    padding:0.8em;</span><br><span class="line">    border-radius:0.8em;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-7a43e649027021fd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="边框内圆角"></p>
<hr>
<h3 id="0x04-条纹背景"><a href="#0x04-条纹背景" class="headerlink" title="0x04 条纹背景"></a>0x04 条纹背景</h3><hr>
<h4 id="背景知识-CSS3-渐变中的百分比"><a href="#背景知识-CSS3-渐变中的百分比" class="headerlink" title="背景知识 CSS3 渐变中的百分比"></a>背景知识 CSS3 渐变中的百分比</h4><p>在 CSS 渐变属性中使用百分比的作用是指<strong>某个颜色距离起点的起始位置</strong>。默认的渐变样式为从上往下，所以当某个颜色值设置了百分比后，便会从距离顶端相关的距离（百分比计算）开始填充实色。而渐变是也有空间占比的，渐变过渡区的占比为总的空间(高度或宽度)减去上下两个着色块空间占比剩下的空间。</p>
<h6 id="红色30-橙色70-的渐变过渡占比为"><a href="#红色30-橙色70-的渐变过渡占比为" class="headerlink" title="红色30% 橙色70%的渐变过渡占比为"></a>红色30% 橙色70%的渐变过渡占比为</h6><p><img src="http://upload-images.jianshu.io/upload_images/1571420-bdea04588cf0c07b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>但若是前面有比当前的颜色值百分比大的，会自动将当前颜色值的百分比设置为前面颜色中的最大百分比值。</p>
<p>此外，默认情况下，还会根据颜色的个数来为每个颜色设置百分比，最后一个颜色的百分比值就是100%，而起始的值就是0%，中间如果再有多个颜色值，则根据<strong>100/（个数-1）</strong>平均下去。</p>
<p>如此，便可以做出一个简单的多重颜色线条的背景来:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#box&#123;</span><br><span class="line">			width:400px;</span><br><span class="line">			height:200px;	</span><br><span class="line">			background:linear-gradient(</span><br><span class="line">				red 0,</span><br><span class="line">				red 14.3%,</span><br><span class="line">				orange 0,</span><br><span class="line">				orange 28.6%,</span><br><span class="line">				yellow 0,</span><br><span class="line">				yellow 42.9%,</span><br><span class="line">				green 0,</span><br><span class="line">				green 57.2%,</span><br><span class="line">				blue 0,</span><br><span class="line">				blue 71.5%,</span><br><span class="line">				indigo 0,</span><br><span class="line">				indigo 85.8%,</span><br><span class="line">				purple 0, </span><br><span class="line">				purple 100%);		</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>
<p><strong>颜色要设置两次，是因为每个颜色需要一个起始着色点，然后还需要将两个颜色之间的渐变过渡区域覆盖为实色，消除过度效果。</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-8d90a036fe3d9d90.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<hr>
<h4 id="水平条纹"><a href="#水平条纹" class="headerlink" title="水平条纹"></a>水平条纹</h4><p>渐变是一种由代码生成的图像，我们能想对待其他任何背景图像那般来对待他，比如对其使用 <code>background-size</code> 来调整其大小。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">div&#123;</span><br><span class="line">			width:200px;</span><br><span class="line">			height: 200px;			</span><br><span class="line">			background:linear-gradient(			    </span><br><span class="line">				#fb3 50%,</span><br><span class="line">                #58a 0</span><br><span class="line">				);</span><br><span class="line">			background-clip:padding-box;</span><br><span class="line">			background-size: 20px 100%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-415521f2841ed1ca.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<hr>
<p>####　垂直条纹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">div&#123;</span><br><span class="line">	width:200px;</span><br><span class="line">	height: 200px;			</span><br><span class="line">	background:linear-gradient(</span><br><span class="line">            to right,/*or 90deg*/</span><br><span class="line">			#fb3 50%,</span><br><span class="line">            #58a 0</span><br><span class="line">	);</span><br><span class="line">	background-clip:padding-box;</span><br><span class="line">	background-size: 100% 20px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-403e2284f3361f38.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<hr>
<h4 id="斜向条纹"><a href="#斜向条纹" class="headerlink" title="斜向条纹"></a>斜向条纹</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">div&#123;</span><br><span class="line">	width:200px;</span><br><span class="line">	height: 200px;			</span><br><span class="line">	background:linear-gradient(</span><br><span class="line">		45deg,</span><br><span class="line">		#fb3 0,</span><br><span class="line">		#fb2 25%,</span><br><span class="line">		#58a 0,</span><br><span class="line">		#58a 50%,</span><br><span class="line">		#fb3 0,</span><br><span class="line">		#fb3 75%,</span><br><span class="line">		#58a 0,</span><br><span class="line">		#58a 100%</span><br><span class="line">		);</span><br><span class="line">	background-clip:padding-box;</span><br><span class="line">	background-size: 20px 20px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果我们需要为背景添加斜向条纹，那么便需要为贴片( 20px,20px)设置完整的色标。不幸的是，这种方法并不完美，当我们尝试改变渐变的角度时，看起来会很糟糕。幸运的是，还有更好的方法来创建斜向条纹，即 <strong>repeating-linear-gradient</strong> 和 <strong>repeating-radial-gradient</strong>，循环式的重复渐变。</p>
<p>如此，便再也无须担心如何去创建无缝拼接的贴片。并且，我们会直接在渐变的色标中指定长度，而不是原来的 <code>bakcground-size</code> ，这里的长度是直接在渐变轴上进行度量的，它直接代表了条纹自身的宽度，对渐变来说就是以整个元素的范围进行填充。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">div&#123;</span><br><span class="line">	width:200px;</span><br><span class="line">	height: 200px;			</span><br><span class="line">	background:repeating-linear-gradient(</span><br><span class="line">	45deg,</span><br><span class="line">	#fb3 0,</span><br><span class="line">	#fb2 15px,</span><br><span class="line">	#58a 0,</span><br><span class="line">	#58a 30px			</span><br><span class="line">	);			</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-a02cddc58ca43ce5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>需注意的是在这个方法中，如果我们想要创建双色条纹，那么便需要使用四个色标才行。</p>
<hr>
<h4 id="同色系条纹"><a href="#同色系条纹" class="headerlink" title="同色系条纹"></a>同色系条纹</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">div&#123;</span><br><span class="line">	width:200px;</span><br><span class="line">	height: 200px;			</span><br><span class="line">	background: deeppink;</span><br><span class="line">	background-image: repeating-linear-gradient(</span><br><span class="line">		30deg,</span><br><span class="line">		hsla(0,0%,100%,0.3),</span><br><span class="line">		hsla(0,0%,100%,0.3) 15px,</span><br><span class="line">		transparent 0,</span><br><span class="line">		transparent 30px</span><br><span class="line">	);</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>
<p>我们首先为其指定了一个主色系的背景颜色，然后把半透明白色的条纹叠加在主色系背景之上得到浅色条纹。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-d5cd8820b0cf0c46.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/14/选字小游戏/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/14/选字小游戏/" itemprop="url">JS选字小游戏</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-14T00:00:00+08:00">
                2016-10-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="0x00-游戏规则"><a href="#0x00-游戏规则" class="headerlink" title="0x00 游戏规则"></a>0x00 游戏规则</h3><p>请根据上面文字的颜色在下方选择正确的文字.</p>
<hr>
<h4 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">		&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">		&lt;title&gt;选字游戏&lt;/title&gt;</span><br><span class="line">		&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">			*&#123;</span><br><span class="line">				margin: 0;padding: 0;</span><br><span class="line">			&#125;</span><br><span class="line">			#warp&#123;</span><br><span class="line">				width: 600px;height: 400px;border: 1px solid red;margin: 0 auto;position: relative;</span><br><span class="line">			&#125;</span><br><span class="line">			#time&#123;</span><br><span class="line">				width: 200px;height: 50px;background: red;font-size: 40px;line-height: 40px;</span><br><span class="line">				position:absolute;left:20px;top: 20px;</span><br><span class="line">			&#125;</span><br><span class="line">			#score&#123;</span><br><span class="line">				width: 50px;height: 50px;position:absolute;top: 20px;right:20px;</span><br><span class="line">				background:blue;font-size: 50px;</span><br><span class="line">			&#125;</span><br><span class="line">			#main&#123;</span><br><span class="line">				margin: 100px auto;width:100px;height: 100px;font-size: 100px;</span><br><span class="line">			&#125;</span><br><span class="line">			#rule&#123;</span><br><span class="line">				text-align: center;</span><br><span class="line">			&#125;</span><br><span class="line">			#list&#123;</span><br><span class="line">				text-align: center;position: absolute;bottom: 20px;width: 100%;</span><br><span class="line">			&#125;</span><br><span class="line">			li&#123;</span><br><span class="line">				display: inline-block;margin: 0 20px;font-size: 40px;</span><br><span class="line">			&#125;</span><br><span class="line">		&lt;/style&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">		&lt;div id=&quot;warp&quot;&gt;</span><br><span class="line">			&lt;div id=&quot;time&quot;&gt;倒计时30&lt;/div&gt;</span><br><span class="line">			&lt;div id=&quot;score&quot;&gt;0&lt;/div&gt;</span><br><span class="line">			&lt;div id=&quot;main&quot;&gt;黑&lt;/div&gt;</span><br><span class="line">			&lt;div id=&quot;rule&quot;&gt;请根据上面文字的颜色在下方选择正确的文字，正确后游戏开始&lt;/div&gt;</span><br><span class="line">			&lt;ul id=&quot;list&quot;&gt;</span><br><span class="line">				&lt;li&gt;红&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;黄&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;蓝&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;绿&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;黑&lt;/li&gt;</span><br><span class="line">			&lt;/ul&gt;</span><br><span class="line">		&lt;/div&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		var main = document.getElementById(&quot;main&quot;);</span><br><span class="line">		var li = document.getElementsByTagName(&quot;li&quot;);</span><br><span class="line">		var time = document.getElementById(&quot;time&quot;);</span><br><span class="line">		var fonts = [&quot;红&quot;,&quot;黄&quot;,&quot;蓝&quot;,&quot;绿&quot;,&quot;黑&quot;];</span><br><span class="line">		var colors = [&quot;red&quot;,&quot;yellow&quot;,&quot;blue&quot;,&quot;green&quot;,&quot;black&quot;];</span><br><span class="line">		var realFont = &quot; &quot;;</span><br><span class="line">		//改变大字颜色及内容；</span><br><span class="line">		function changeMain()&#123;</span><br><span class="line">			var num = rand(colors.length,0)</span><br><span class="line">			realFont = fonts[num];</span><br><span class="line">			main.style.color = colors[num];</span><br><span class="line">			main.innerHTML = fonts[rand(fonts.length,0)];</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		//改变小字颜色及顺序 ；</span><br><span class="line">		function changeLI()&#123;</span><br><span class="line">//			for (var i = 0 ; i&lt; li.length; i++) &#123;</span><br><span class="line">//				li[i].style.color = colors[rand(5,0)]</span><br><span class="line">//			&#125;</span><br><span class="line">// 目的   改变了colors的顺序</span><br><span class="line">			var nColors = [];//定义一个新数组，用来改变colors的顺序</span><br><span class="line">			var nFonts = [];</span><br><span class="line">			while(nColors.length&lt;colors.length)&#123;//当新数组长度小于colors数组长度的时候进入此循环</span><br><span class="line">				var num = rand(colors.length,0);//定义一个随机4-0之间的随机数</span><br><span class="line">				var num2 = rand(fonts.length,0);</span><br><span class="line">				var bol = true;//定义bol，判断是否需要推入新数组</span><br><span class="line">				for (var i = 0 ; i&lt; nColors.length ; i ++) &#123;//遍历新数组</span><br><span class="line">					if (nColors[i] == colors[num]||nFonts[i] == fonts[num2]) &#123;//当新数组中已存在的值与新随机出的颜色值相等时，改变bol值，阻止其推入新数组</span><br><span class="line">						bol = false;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				if (bol==true) &#123;</span><br><span class="line">						nColors.push(colors[num]);//将随机出来的颜色推入新数组</span><br><span class="line">						nFonts.push(fonts[num2]);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			for(var i = 0 ; i &lt; nColors.length ; i ++)&#123;//遍历新的数组</span><br><span class="line">				li[i].style.color = nColors[i];</span><br><span class="line">				li[i].innerHTML = nFonts[i];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		changeLI()</span><br><span class="line">		changeMain()</span><br><span class="line">		var isclick = true;</span><br><span class="line">		for (var i = 0 ; i&lt;li.length ; i ++) &#123;</span><br><span class="line">			li[i].onclick = function()&#123;</span><br><span class="line">				if (isclick) &#123;</span><br><span class="line">					if (this.innerHTML == realFont) &#123;</span><br><span class="line">					clearInterval(timer)</span><br><span class="line">//					alert(&quot;你点对了&quot;)</span><br><span class="line">					daojishi()</span><br><span class="line">					changeLI()</span><br><span class="line">					changeMain()</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		var timed = 3;</span><br><span class="line">		var timer = null;</span><br><span class="line">	function daojishi()&#123;</span><br><span class="line">		 timer = setInterval(function()&#123;</span><br><span class="line">			timed--;</span><br><span class="line">			time.innerHTML = &quot;倒计时&quot;+timed;</span><br><span class="line">			if (timed&lt;=0) &#123;</span><br><span class="line">				clearInterval(timer)</span><br><span class="line">				alert(&quot;游戏结束&quot;)</span><br><span class="line">				isclick = false;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;,1000)</span><br><span class="line">	&#125;</span><br><span class="line">	//随机max-1 到min之间的整数</span><br><span class="line">		function rand(max,min)&#123;</span><br><span class="line">			return parseInt(Math.random()*(max-min)+min);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h4><p>核心代码使用生成的<strong>随机数组</strong>实现。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">		&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">		&lt;title&gt;选字游戏&lt;/title&gt;</span><br><span class="line">		&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">			*&#123;</span><br><span class="line">				margin: 0;padding: 0;</span><br><span class="line">			&#125;</span><br><span class="line">			#warp&#123;</span><br><span class="line">				width: 600px;height: 400px;border: 1px solid red;margin: 0 auto;position: relative;</span><br><span class="line">			&#125;</span><br><span class="line">			#time&#123;</span><br><span class="line">				width: 200px;height: 50px;background: red;font-size: 40px;line-height: 40px;</span><br><span class="line">				position:absolute;left:20px;top: 20px;</span><br><span class="line">			&#125;</span><br><span class="line">			#score&#123;</span><br><span class="line">				width: 50px;height: 50px;position:absolute;top: 20px;right:20px;</span><br><span class="line">				background:blue;font-size: 50px;</span><br><span class="line">			&#125;</span><br><span class="line">			#main&#123;</span><br><span class="line">				margin: 100px auto;width:100px;height: 100px;font-size: 100px;</span><br><span class="line">			&#125;</span><br><span class="line">			#rule&#123;</span><br><span class="line">				text-align: center;</span><br><span class="line">			&#125;</span><br><span class="line">			#list&#123;</span><br><span class="line">				text-align: center;position: absolute;bottom: 20px;width: 100%;</span><br><span class="line">			&#125;</span><br><span class="line">			li&#123;</span><br><span class="line">				display: inline-block;margin: 0 20px;font-size: 40px;</span><br><span class="line">			&#125;</span><br><span class="line">		&lt;/style&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">		&lt;div id=&quot;warp&quot;&gt;</span><br><span class="line">			&lt;div id=&quot;time&quot;&gt;倒计时30&lt;/div&gt;</span><br><span class="line">			&lt;div id=&quot;score&quot;&gt;0&lt;/div&gt;</span><br><span class="line">			&lt;div id=&quot;main&quot;&gt;黑&lt;/div&gt;</span><br><span class="line">			&lt;div id=&quot;rule&quot;&gt;请根据上面文字的颜色在下方选择正确的文字，正确后游戏开始&lt;/div&gt;</span><br><span class="line">			&lt;ul id=&quot;list&quot;&gt;</span><br><span class="line">				&lt;li&gt;红&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;黄&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;蓝&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;绿&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;黑&lt;/li&gt;</span><br><span class="line">			&lt;/ul&gt;</span><br><span class="line">		&lt;/div&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		var main = document.getElementById(&quot;main&quot;);</span><br><span class="line">		var lis = document.getElementsByTagName(&quot;li&quot;);</span><br><span class="line">		var time = document.getElementById(&quot;time&quot;);</span><br><span class="line">		var fonts = [&quot;红&quot;,&quot;黄&quot;,&quot;蓝&quot;,&quot;绿&quot;,&quot;黑&quot;];</span><br><span class="line">		var colors = [&quot;red&quot;,&quot;yellow&quot;,&quot;blue&quot;,&quot;green&quot;,&quot;black&quot;];</span><br><span class="line">		var realFont = &quot; &quot;;</span><br><span class="line"></span><br><span class="line">		function getRandomArray (max,min,countNum)&#123;</span><br><span class="line">			var randomArray = new Array();</span><br><span class="line">			for( var i = 0; i &lt; countNum;i ++)&#123;</span><br><span class="line">				var newNum = parseInt(Math.random()*(max - min +1)+min);</span><br><span class="line">				exits = false;</span><br><span class="line">				for( var j =0 ;j &lt; i;j ++)&#123;</span><br><span class="line">					if(randomArray[j] == newNum)&#123;</span><br><span class="line">						exits = true;</span><br><span class="line">						i --;</span><br><span class="line">						break;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				if(!exits)&#123;</span><br><span class="line">					randomArray[i] = newNum;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			return randomArray;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		function changeMian ()&#123;</span><br><span class="line">			var newRadomArr = getRandomArray(4,0,5);</span><br><span class="line">			main.style.color = colors[newRadomArr[3]];</span><br><span class="line">			realFont = fonts[newRadomArr[3]];</span><br><span class="line">			main.innerHTML = fonts[newRadomArr[2]];</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		function changeLi ()&#123;</span><br><span class="line">			var newRadomArr1 = getRandomArray(4,0,5);</span><br><span class="line">			var newRadomArr2 = getRandomArray(4,0,5);</span><br><span class="line"></span><br><span class="line">			for(var i = 0;i &lt; lis.length;i ++ )&#123;</span><br><span class="line">				lis[i].innerHTML = fonts[newRadomArr1[i]];</span><br><span class="line">				lis[i].style.color = colors[newRadomArr2[i]];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		function isRight()&#123;</span><br><span class="line">			for (var i = lis.length - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">				lis[i].onclick = function ()&#123;</span><br><span class="line">					if( this.innerHTML == realFont)&#123;</span><br><span class="line">						alert(&quot;you are right!&quot;);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		changeMian();</span><br><span class="line">		changeLi();</span><br><span class="line">		isRight();</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="方法三"><a href="#方法三" class="headerlink" title="方法三"></a>方法三</h3><p>核心代码使用 数组 <strong>Array.sort()</strong> 实现。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">		&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">		&lt;title&gt;选字游戏&lt;/title&gt;</span><br><span class="line">		&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">			*&#123;</span><br><span class="line">				margin: 0;padding: 0;</span><br><span class="line">			&#125;</span><br><span class="line">			#warp&#123;</span><br><span class="line">				width: 600px;height: 400px;border: 1px solid red;margin: 0 auto;position: relative;</span><br><span class="line">			&#125;</span><br><span class="line">			#time&#123;</span><br><span class="line">				width: 200px;height: 50px;background: red;font-size: 40px;line-height: 40px;</span><br><span class="line">				position:absolute;left:20px;top: 20px;</span><br><span class="line">			&#125;</span><br><span class="line">			#score&#123;</span><br><span class="line">				width: 50px;height: 50px;position:absolute;top: 20px;right:20px;</span><br><span class="line">				background:blue;font-size: 50px;</span><br><span class="line">			&#125;</span><br><span class="line">			#main&#123;</span><br><span class="line">				margin: 100px auto;width:100px;height: 100px;font-size: 100px;</span><br><span class="line">			&#125;</span><br><span class="line">			#rule&#123;</span><br><span class="line">				text-align: center;</span><br><span class="line">			&#125;</span><br><span class="line">			#list&#123;</span><br><span class="line">				text-align: center;position: absolute;bottom: 20px;width: 100%;</span><br><span class="line">			&#125;</span><br><span class="line">			li&#123;</span><br><span class="line">				display: inline-block;margin: 0 20px;font-size: 40px;</span><br><span class="line">			&#125;</span><br><span class="line">		&lt;/style&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">		&lt;div id=&quot;warp&quot;&gt;</span><br><span class="line">			&lt;div id=&quot;time&quot;&gt;倒计时30&lt;/div&gt;</span><br><span class="line">			&lt;div id=&quot;score&quot;&gt;0&lt;/div&gt;</span><br><span class="line">			&lt;div id=&quot;main&quot;&gt;黑&lt;/div&gt;</span><br><span class="line">			&lt;div id=&quot;rule&quot;&gt;请根据上面文字的颜色在下方选择正确的文字，正确后游戏开始&lt;/div&gt;</span><br><span class="line">			&lt;ul id=&quot;list&quot;&gt;</span><br><span class="line">				&lt;li&gt;红&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;黄&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;蓝&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;绿&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;黑&lt;/li&gt;</span><br><span class="line">			&lt;/ul&gt;</span><br><span class="line">		&lt;/div&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		var main = document.getElementById(&quot;main&quot;);</span><br><span class="line">		var lis = document.getElementsByTagName(&quot;li&quot;);</span><br><span class="line">		var time = document.getElementById(&quot;time&quot;);</span><br><span class="line">		var fonts = [&quot;红&quot;,&quot;黄&quot;,&quot;蓝&quot;,&quot;绿&quot;,&quot;黑&quot;];</span><br><span class="line">		var colors = [&quot;red&quot;,&quot;yellow&quot;,&quot;blue&quot;,&quot;green&quot;,&quot;black&quot;];</span><br><span class="line">		var realFont = &quot; &quot;;</span><br><span class="line"></span><br><span class="line">		function getRandomArray ()&#123;</span><br><span class="line">			var randomArray = new Array();</span><br><span class="line">			randomArray = arguments[0].slice(0);</span><br><span class="line">			randomArray.sort(function()&#123;</span><br><span class="line">				var num = Math.random() - 0.5;</span><br><span class="line">				return num;</span><br><span class="line">			&#125;)</span><br><span class="line">			return randomArray;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		function changeMian ()&#123;</span><br><span class="line">			var newRadomArr = getRandomArray(colors);</span><br><span class="line">			var newRadomArr1 = getRandomArray(fonts);</span><br><span class="line">			main.style.color = newRadomArr[3];</span><br><span class="line">			realFont = newRadomArr[3];</span><br><span class="line">			main.innerHTML = newRadomArr1[2];</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		function changeLi ()&#123;</span><br><span class="line">			var newRadomArr = getRandomArray(fonts);</span><br><span class="line">			var newRadomArr1 = getRandomArray(colors);</span><br><span class="line">			for(var i = 0;i &lt; lis.length;i ++ )&#123;</span><br><span class="line">				lis[i].innerHTML = newRadomArr[i];</span><br><span class="line">				lis[i].style.color = newRadomArr1[i];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		function isRight()&#123;</span><br><span class="line">			for (var i = lis.length - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">				lis[i].onclick = function ()&#123;</span><br><span class="line">					if( this.innerHTML == realFont)&#123;</span><br><span class="line">						alert(&quot;you are right!&quot;);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		changeMian();</span><br><span class="line">		changeLi();</span><br><span class="line">		isRight();</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/13/OWASP_ZAP/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/13/OWASP_ZAP/" itemprop="url">OWASP_ZAP</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-13T20:50:00+08:00">
                2016-10-13
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="0x00-OWASP-ZAP"><a href="#0x00-OWASP-ZAP" class="headerlink" title="0x00 OWASP_ZAP"></a>0x00 OWASP_ZAP</h3><p>Zend attack proxy 是一款 web application 集成渗透测试和漏洞工具，同样是免费开源跨平台的。</p>
<p>OWASP_ZPA 支持截断代理，主动、被动扫描，Fuzzy，暴力破解并且提供 API。</p>
<p>OWASP_ZPA 是Kali Web Top 10 之一。</p>
<hr>
<h3 id="0x01-截断代理"><a href="#0x01-截断代理" class="headerlink" title="0x01 截断代理"></a>0x01 截断代理</h3><p>首次启动 OWASP_ZAP　会提示是否将 session 进行保存，以及如何保存。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-12b42bd8af7fa6e0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="首次启动页面.png"></p>
<p>OWASP_ZAP 默认监听的是 8080 端口，并且在启动 ZAP 的时候便会自动开始监听。</p>
<p>如此，只需设置浏览器代理，ZAP 便会自动爬取所有数据。<br><img src="http://upload-images.jianshu.io/upload_images/1571420-b3c465e305dceb25.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Proxy.png"></p>
<hr>
<h3 id="0x02-主动扫描"><a href="#0x02-主动扫描" class="headerlink" title="0x02 主动扫描"></a>0x02 主动扫描</h3><p>ZAP 最简单的使用方式便是在首页直接输入目标 Target 然后点击 <strong>攻击</strong> 便会开始主动扫描了。<br><img src="http://upload-images.jianshu.io/upload_images/1571420-2df8796ef181b6ee.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="scan.png"></p>
<hr>
<h3 id="0x03-Fuzzer"><a href="#0x03-Fuzzer" class="headerlink" title="0x03 Fuzzer"></a>0x03 Fuzzer</h3><p>通过右键选择某个特定页面进行 Fuzzer。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-afad45d0a1a41e0d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Fuzzer.png"></p>
<p>此外，也可以选择工具菜单中的 <strong>Fuzz</strong> 进行 Fuzzing 。<br><img src="http://upload-images.jianshu.io/upload_images/1571420-b41477bd15b10371.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-a294236753c872e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Fuzzer.png"></p>
<hr>
<h4 id="数据库注入-Fuzzing"><a href="#数据库注入-Fuzzing" class="headerlink" title="数据库注入 Fuzzing"></a>数据库注入 Fuzzing</h4><p>选择可能存在 SQL 注入的可疑字符串，为其添加 PayLoads 记性 SQL Injection Fuzzing。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-0a08fcde805fb48d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=" SQL Injection Fuzzing.png"></p>
<p>fuzzing 完整以后，可以通过 <code>Code</code> ,<code>Size Resp.Header</code> 等字段属性对 fuzzing 的结果进行筛选。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-4aeb397e48e28cc1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Fuzzing结果筛选.png"></p>
<hr>
<h4 id="页面目录Fuzzing"><a href="#页面目录Fuzzing" class="headerlink" title="页面目录Fuzzing"></a>页面目录Fuzzing</h4><p>首先选中需要替换的字符串，然后点击 <code>Fuzz Locations</code> 中的 <code>Add</code> 选中以选择 fuzzing 的方式。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-0f8428e66cb4b065.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="fileFuzzing.png"></p>
<p>我们可以使用 字符串，脚本，正则表达式，文本文件或 ZAP 自带的 <strong>File Fuzzer</strong> 去搜索网站目录。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-cb7e122e24478897.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="网站目录页面Fuzzing.png"></p>
<hr>
<h3 id="0x04-暴力破解"><a href="#0x04-暴力破解" class="headerlink" title="0x04 暴力破解"></a>0x04 暴力破解</h3><p><img src="http://upload-images.jianshu.io/upload_images/1571420-c7f176b0aa8fda50.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="暴力破解.png"></p>
<p>但是，当我们使用一个字典文件去尝试暴力破解的时候，如何去识别出破解成功与不成功的不同差异，便只有依靠上帝了。</p>
<hr>
<h3 id="0x05-ZAP-的-API"><a href="#0x05-ZAP-的-API" class="headerlink" title="0x05 ZAP 的 API"></a>0x05 ZAP 的 API</h3><p>API 是一程序开发的接口。ZAP 提供API 一便让开发者使用ZAP 以定制自己的扫描程序。</p>
<p>ZAP 的 API  使用文档:[ <a href="http://zap]" target="_blank" rel="noopener">http://zap]</a></p>
<hr>
<h3 id="0x06-Mode-扫描模式"><a href="#0x06-Mode-扫描模式" class="headerlink" title="0x06 Mode(扫描模式)"></a>0x06 Mode(扫描模式)</h3><p>ZAP 有四种扫描模式 <strong>Safe</strong>, <strong>Protected</strong>, <strong>Standard</strong>, <strong>Attack（攻击似的扫描）</strong>。 扫描所得的漏洞数量以次递增。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-e6ea9e1d9783e5bb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Mode"></p>
<hr>
<h3 id="0x07-Scan-Policy-扫描策略"><a href="#0x07-Scan-Policy-扫描策略" class="headerlink" title="0x07 Scan Policy (扫描策略)"></a>0x07 Scan Policy (扫描策略)</h3><p>选择特定页面进行 <code>Active Scan</code> :</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-bd062a946eba0885.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Active Scan"></p>
<p>ZAP 继承了一个默认的扫描策略 <strong>Default Policy</strong>:</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-0fdf13bb29f320c1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Default Policy"></p>
<p>当然，我们可以定制自己的扫描策略，在 顶部导航 分析 中的扫描策略(或者Ctrl+P) 打开 <code>Scan Policy Manager</code> 添加或修改自己的扫描策略。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-2f88c09ac0516a92.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Scan Policy Manager"></p>
<p>如此，我们便可以在以后的网站扫描配置中选择自定义的扫描策略了。</p>
<hr>
<h3 id="0x08-Anti-CSRF-Tokens"><a href="#0x08-Anti-CSRF-Tokens" class="headerlink" title="0x08 Anti CSRF Tokens"></a>0x08 Anti CSRF Tokens</h3><p>某些应用程序为了防止 CSR 攻击，在每次访问时都会随机生成一个新的 Token。这些由伪随机算法生成的随机数也许大部分的扫描器都不支持。所以我们可以通过 ZAP 的 <code>Anti CSRF Tokens</code> 功能添加该网站的特定的 <strong>Tokens</strong>(如果该网站有 Token 的话)。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-02a6921e9a3121cf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Anti CSRF Tokens"></p>
<blockquote>
<p>what’s token?<br>在OAuth协议中，token是在输入了用户名和密码之后获取的，只不过是服务器或者说网站帮你生成的临时密码。利用这个token你可以拥有查看或者操作相应的资源的权限。你有这些权限，是因为服务器知道你是谁（authentication）以后赋予你的，所以token这个东西，其实就是你的一个“代表”，或者说完全能代表你的“通行证”。从这个概念来说，“令牌”这个翻译，真的是非常的“信雅达”啊</p>
</blockquote>
<hr>
<h3 id="0x09-HTTP-CA"><a href="#0x09-HTTP-CA" class="headerlink" title="0x09 HTTP -CA"></a>0x09 HTTP -CA</h3><p>首先生成并保存 ZAP 的http 证书。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-e57113da6d764ae0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=" HTTP -CA"></p>
<p>然后在浏览器中导入 ZAP 的根证书。</p>
<hr>
<h3 id="0x0A-ZAP-身份认证"><a href="#0x0A-ZAP-身份认证" class="headerlink" title="0x0A  ZAP 身份认证"></a>0x0A  ZAP 身份认证</h3><p>在 ZAP 中最常用的 身份认证是使用 HTTP Session 的认证方式。当然 ZAP 也是支持其它认证方式的，并且我们可以在 <strong>Session Properities</strong> 中进行配置。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-7d8627ec8c08a324.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Authentication"></p>
<p>由上图可知，目前 ZAP 支持四种身份认证方法: <code>Form</code>,<code>HTTP/NTLM</code>, <code>Manual</code>,<code>Script-based</code>。</p>
<p>默认情况下，一个 Muaual 认证方式就足够了，也是最简单易用的方式。</p>
<hr>
<h4 id="HTTP-Session"><a href="#HTTP-Session" class="headerlink" title="HTTP Session"></a>HTTP Session</h4><p>ZAP 在默认情况下只会将其内置的几个 session 名称识别为 HTTP Session。但是，某些情况下，有的网站也许会自定义自己的 session 名称，这时我们有必要手动为其添加自定义的 session 标识。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-cbdfcbf890069559.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="HTTP Session"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-dbdb60ffb9d8efae.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="添加自定义的 Security"></p>
<hr>
<h3 id="0x0B-截断"><a href="#0x0B-截断" class="headerlink" title="0x0B 截断"></a>0x0B 截断</h3><p>ZAP 可以实时截断从客户端发起的请求或者从服务器端回传的响应。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-1b2bce83c4a68d0c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Set Break"></p>
<hr>
<h3 id="0x0C-隐藏域"><a href="#0x0C-隐藏域" class="headerlink" title="0x0C 隐藏域"></a>0x0C 隐藏域</h3><p>以微软搜索引擎 必应为例，未开启隐藏域时访问的眼如下:</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-d02c59871442d8ca.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="BiYing"></p>
<p>开启 ZAP 的隐藏域显示功能:</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1571420-e2e13f29c55b8bfa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png"></p>
<hr>
<h3 id="0x0D-总结"><a href="#0x0D-总结" class="headerlink" title="0x0D 总结"></a>0x0D 总结</h3><p>标准扫描工作流程: 设置代理 –&gt; 手动爬网 –&gt; 自动爬网 –&gt; 主动扫描.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/13/1.DOM基础/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/13/1.DOM基础/" itemprop="url">JS-DOM(1)DOM基础</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-13T00:00:00+08:00">
                2016-10-13
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="0x00-What’s-DOM"><a href="#0x00-What’s-DOM" class="headerlink" title="0x00 What’s DOM"></a>0x00 What’s DOM</h2><p>DOM(文档对象模型) 是针对 HTML 和 XML 文档的一个 API(Application Programing Interface 应用程序编程接口)。</p>
<p>DOM 描绘了一个层次化的节点数，允许开发人员添加，修改和移除页面的某一部分。</p>
<p>!&gt; 注意 IE 中的所有 DOM 对象都是以 COM 对象的形式实现的，这意味着 IE 中的 DOM 对象与原生的 JS 对象的行为或活动点特点并不一致。</p>
<hr>
<h2 id="0x01-Node-类型"><a href="#0x01-Node-类型" class="headerlink" title="0x01 Node 类型"></a>0x01 Node 类型</h2><p>每一个节点都有一个<code>childNodes</code>属性，其中保存着一个<code>NodeList</code>对象。<code>NodeList</code>是一种类数组对象，用于保存一组有序的节点。</p>
<p>每个节点都有一个<code>NodeType</code>属性，用于表明节点类型。</p>
<p><code>Node</code>一共有十二种节点类型，下面是常用的几种:</p>
<ul>
<li>Document 类型的节点类型为: 9</li>
<li>Element 的节点类型: 1</li>
<li>文本节点的节点类型: 3</li>
</ul>
<h3 id="访问-Node"><a href="#访问-Node" class="headerlink" title="访问 Node"></a>访问 Node</h3><ul>
<li>someNode.nodeName:   获取节点名称</li>
<li>someNode.nodeValue:   获取节点名称</li>
<li>someNode.nodeType:   获取节点类型</li>
<li>someNode.childNodes: 获取标签内所有节点</li>
<li>someNode.children:   只获取标签类型的节点</li>
<li>someNode.parentNode: 获取元素父级节点</li>
<li>somdeNode.nextElementSibling:    获取下一个同级标签节点</li>
<li>someNode.nextSibling:            获取下一个同级节点，不限节点类型</li>
<li>someNode.previousElementSibling: 获取上一个同级标签节点</li>
<li>someNode.previousSibling:        获取上一个同级节点，不限节点类型</li>
<li>someNode.firstElementChild:      获取第一个子标签元素</li>
<li>someNode.firstChild:             获取第一个子节点</li>
<li>someNode.lastElementChild:       获取最后一个子标签元素</li>
<li>someNode.lastChild:              获取最后一个子节点</li>
</ul>
<p>关于<code>nodeName</code>和<code>nodeValue</code>属性:</p>
<p><code>nodeName</code>和<code>nodeValue</code>这两个属性的值完全取决于节点类型，比如，对于元素节点，<code>nodeName</code>得到是元素的标签名，<code>nodeValue</code>得到永远是<code>null</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (someNode.nodeType === <span class="number">1</span>) &#123;</span><br><span class="line">    value = somdeNode.nodeValue</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="操作-Node"><a href="#操作-Node" class="headerlink" title="操作 Node"></a>操作 Node</h3><h6 id="appendChild"><a href="#appendChild" class="headerlink" title="appendChild()"></a>appendChild()</h6><p>向 childNodes 列表末尾添加一个节点</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var newLi = document.createElement(&quot;li&quot;);</span><br><span class="line">var newSpan = document.createElement(&quot;span&quot;);</span><br><span class="line">newSpan.innerHTML = &quot;我是 span&quot;;</span><br><span class="line">newLi.appendChild(newSpan);</span><br></pre></td></tr></table></figure>
<p><code>appendChild()</code> 无法对类选择器等类数组形式的元素进行批量操作。</p>
<h6 id="insertBefore"><a href="#insertBefore" class="headerlink" title="insertBefore()"></a>insertBefore()</h6><p>该方法接收两个参数: 要插入的节点和作为参考的节点。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var ul = document.querySelector(&quot;ul&quot;);</span><br><span class="line">var newLi = document.createElement(&quot;li&quot;);</span><br><span class="line">var newSpan = document.createElement(&quot;span&quot;);</span><br><span class="line">newLi.appendChild(newSpan);</span><br><span class="line">ul.insertBefore(newLi,ul.firstChild);</span><br></pre></td></tr></table></figure>
<h6 id="replaceChild"><a href="#replaceChild" class="headerlink" title="replaceChild()"></a>replaceChild()</h6><p>该方法接收两个参数： 要插入的节点和要替换的节点。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var ul = document.querySelector(&quot;ul&quot;);</span><br><span class="line">var newLi = document.createElement(&quot;li&quot;);</span><br><span class="line">ul.replaceChild(newLi,ul.firstChild);</span><br><span class="line">// 替换第一个节点</span><br><span class="line">ul.replaceChild(newLi,ul.lastChild);</span><br><span class="line">// 替换最后一个节点</span><br></pre></td></tr></table></figure>
<h6 id="removeChild"><a href="#removeChild" class="headerlink" title="removeChild()"></a>removeChild()</h6><p>只接受一参数，即要移除的节点。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ul.removeChild(ul.firstChild);</span><br></pre></td></tr></table></figure>
<p>以上四个操作方法都是某个节点的子节点，要使用这几个方法，必需先取得父节点。另外，并不是所有类型的节点都有子节点。以下两种方式则针对所有节点。</p>
<h6 id="coloneNode"><a href="#coloneNode" class="headerlink" title="coloneNode()"></a>coloneNode()</h6><p>该方法只接收一个布尔值作为参数，当参数为 <code>true</code> 则进行深层复制，当参数为 <code>flase</code> 则进行浅层复制。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var div = document.querySelector(&quot;#div&quot;);</span><br><span class="line">var newDiv = div.cloneNode(true);</span><br><span class="line">document.body.appendChild(newDiv);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>cloneNode() 方法不会复制添加到 DOM 中的 JavaScript 属性。</p>
</blockquote>
<hr>
<h4 id="属性操作"><a href="#属性操作" class="headerlink" title="属性操作"></a>属性操作</h4><h6 id="getAttribute-setAttribute"><a href="#getAttribute-setAttribute" class="headerlink" title="getAttribute()/setAttribute()"></a>getAttribute()/setAttribute()</h6><p>getAttribut() 方法用于获取元素的属性； setAttribute() 方法用户设置元素的属性。</p>
<p>一个经典场景是，用于网页换肤。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;link type = &quot;text/css&quot; href = &quot;style.css&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var link = document.querySelector(&quot;link&quot;);</span><br><span class="line">    link.setAttribute(&quot;href&quot;,&quot;style2.css&quot;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="0x01-Document-类型"><a href="#0x01-Document-类型" class="headerlink" title="0x01 Document 类型"></a>0x01 Document 类型</h3><p>JS 使用 Document 类型表示文档。在浏览器中，document 对象是 HTMLDocument(继承自 Document 类型)的一个实例，以此表示整个 HTML 页面。而且，document 对象是 window 对象的一个属性。</p>
<hr>
<h4 id="访问文档子节点"><a href="#访问文档子节点" class="headerlink" title="访问文档子节点"></a>访问文档子节点</h4><p>在 DOM 中最常用也是最快捷的访问子节点的方式是使用 <strong>documentElement</strong>　属性。该属性始终指向　HTML 页面中的 <html> 元素。</html></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var html = document.documentElement; //取得对 &lt;html&gt; 的引用</span><br><span class="line">var body = document.body;            //取得对 &lt;body&gt; 的引用</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="文档信息"><a href="#文档信息" class="headerlink" title="文档信息"></a>文档信息</h3><p>document 对象作为 Document 对象的一个实例还具备了 Document 对象所没有的属性。 这些属性提供了 document 对象所表现的网页的一些信息。比如 <code>title</code>, <code>URL</code>, <code>domain</code>, <code>referrer</code>.</p>
<p>URL 属性包含完整的 URL（地址栏中显示的 URL），domain 属性只包含页面的域名，而 referrer 属性中保存着链接到当前页面的那个页面的 URL。所有的这些信息都存在于 HTTP 头部，只不过是通过这些属性让我们能够在 JS 中访问它而已。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var title = document.title;</span><br><span class="line">// 获得文档标题</span><br><span class="line">var url = document.URL;</span><br><span class="line">// 获得完整 URL</span><br><span class="line">var referrer = document.referrer;</span><br><span class="line">// 获得来源页面的 URL</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="0x02-Element-类型"><a href="#0x02-Element-类型" class="headerlink" title="0x02 Element 类型"></a>0x02 Element 类型</h3><p>除 Document 类型外，Element 类型就算是 Web 编程中最常用的类型了。Element 类型用于表现 XML 或者 HTML 元素，提供了对元素标签名，子节点及特性的访问。</p>
<hr>
<h4 id="HTML-元素"><a href="#HTML-元素" class="headerlink" title="HTML 元素"></a>HTML 元素</h4><p>所有的 HTML 元素都由 HTMLElement 类型表示，不是直接通过这个类型，也是通过它的子类型来表示。HTMLElement 类型直接继承自 Element 并添加了一些属性。</p>
<ul>
<li>id: 元素在文档中的唯一标识</li>
<li>title: 有关元素的附加说明</li>
<li>lang: 元素内容的语言代码，绝少使用</li>
<li>dir: 语言方向，值为 “ltr”（left-to-right），绝少使用</li>
<li>className: 与元素的 class 特性对应。</li>
</ul>
<p>每个 HTML 元素都会有一个或者多个特性。这些特性的作用是给出相应元素或其内容的附加信息。操作特性的 DOM 方法主要有三个，<code>getAttribute()</code>, <code>setAttribute()</code>, <code>removeAttribute()</code>，但是使用这类方法访问对象元素时，不同的浏览器间会存在差异，所以，并不常用，而只是在取得自定义特性值的情况下，才会使用这类特性。</p>
<hr>
<h4 id="创建元素"><a href="#创建元素" class="headerlink" title="创建元素"></a>创建元素</h4><p>使用 <strong>document.createElement()</strong> 方法可以创建新元素。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var div = document.createElement(&quot;div&quot;);</span><br></pre></td></tr></table></figure>
<p>该方法只接受一个参数，即要创建的元素的标签名。这个标签名在 HTML 中不区分大小写，而在 XML(包括 XHTML) 中需要区分大小写)。</p>
<p>使用 createElement() 创建新元素的同时，也为新元素设置了 ownerDocument 属性。此时，可以为其添加更多子节点，以及执行其他操作。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">div.id = &quot;myNewDiv&quot;;</span><br><span class="line">div.className = &quot;box&quot;;</span><br></pre></td></tr></table></figure>
<p>但是以上操作只是为新元素赋予了相应信息，还需要使用 <code>appendChild()</code>, <code>insertBefore()</code>, <code>replaceChild()</code> 把新元素添加到文档树。</p>
<p>将 <code>div</code> 添加到 <code>body</code> 中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.body.appendChild(div);</span><br></pre></td></tr></table></figure>
<p>一旦将新元素添加到文档树种，浏览器就会立即解析该元素，此后对这个元素所作的任何修改都会实时反映在浏览中。</p>
<hr>
<h3 id="0x03-Text-类型"><a href="#0x03-Text-类型" class="headerlink" title="0x03 Text 类型"></a>0x03 Text 类型</h3><p>文本节点有 Text 类型表示，纯文本中可以包含转义后的 HTML 字符，但是不能包含 HTML 代码。</p>
<hr>
<h4 id="创建文本节点"><a href="#创建文本节点" class="headerlink" title="创建文本节点"></a>创建文本节点</h4><p>可以使用 <strong>document.createTextNode()</strong> 创建新的文本节点，该方法只接受一个参数—要插入节点的文本。</p>
<p>以方法可以操作节点中文本</p>
<h6 id="appendData-text"><a href="#appendData-text" class="headerlink" title="appendData(text)"></a>appendData(text)</h6><p>将 text 添加到节点的末尾</p>
<h6 id="deleteDate-offset-count"><a href="#deleteDate-offset-count" class="headerlink" title="deleteDate(offset, count)"></a>deleteDate(offset, count)</h6><p>从 offset 指定的位置开始删除 count 个字符</p>
<h6 id="insertDate-offset-text"><a href="#insertDate-offset-text" class="headerlink" title="insertDate(offset, text)"></a>insertDate(offset, text)</h6><p>在 offset 指定的位置插入 text</p>
<h6 id="replaceDate-offset-count-text"><a href="#replaceDate-offset-count-text" class="headerlink" title="replaceDate(offset, count, text)"></a>replaceDate(offset, count, text)</h6><p>用 text 替换从 offset 到 offset+count 为止的字符</p>
<h6 id="splitText-offset"><a href="#splitText-offset" class="headerlink" title="splitText(offset)"></a>splitText(offset)</h6><p>从 offset 位置将文本分为两个文本节点</p>
<h6 id="substringData-offset-count"><a href="#substringData-offset-count" class="headerlink" title="substringData(offset, count)"></a>substringData(offset, count)</h6><p>提取从 offset 到 offset+count 处的字符。</p>
<p>此外，还可以通过文本的 <strong>text.length</strong> 属性获得字符的长度。</p>
<hr>
<h3 id="0x04-DOM-操作技术"><a href="#0x04-DOM-操作技术" class="headerlink" title="0x04 DOM 操作技术"></a>0x04 DOM 操作技术</h3><hr>
<h4 id="关于-NodeList"><a href="#关于-NodeList" class="headerlink" title="关于 NodeList"></a>关于 NodeList</h4><p>理解 <strong>NodeList</strong>， 及其近亲，<strong>NamedNodeMap</strong>, 和 <strong>HTMLCollection</strong>，是彻底理解 DOM 的关键所在。 首先它们三个都是动态的，每当文档结构发生变化时，它们都会更新。</p>
<p>而从本质上来讲，所有 <code>NodeList</code> 对象都是在访问 DOM 文档时实时运行的查询。</p>
<p>所以，若是要迭代一个 <code>NodeList</code> ，那最好使用 <code>length</code> 属性初始化一个变量。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var divs = document.getElementByTagName(&quot;div&quot;);</span><br><span class="line"></span><br><span class="line">i,</span><br><span class="line">len,</span><br><span class="line">div;</span><br><span class="line"></span><br><span class="line">for( i = 0,len = divs.length; i &lt; len;i ++)&#123;</span><br><span class="line">    div = document.createElement(&quot;div&quot;);</span><br><span class="line">    document.body.appendChild(div);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>理解 DOM 的关键，便是要知道 DOM 对性能的影响。 DOM 操作往往是 JavaScript 程序中开销最大的部分，因为访问 NodeList 导致的问题的最多。NodeList 对象是动态的，这意味着每次访问 NodeList 对象，都会运行一次查询。所以，应该尽量减少 DOM 操作。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/13/字符串操作API/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/13/字符串操作API/" itemprop="url">字符串操作API</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-13T00:00:00+08:00">
                2016-10-13
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><code>String</code> 原型上的方法有两种，与 <code>HTML</code> 有关的和与 <code>HTML</code> 无关的。</p>
<hr>
<h3 id="与-HTML-有关的字符串方法"><a href="#与-HTML-有关的字符串方法" class="headerlink" title="与 HTML 有关的字符串方法"></a>与 HTML 有关的字符串方法</h3><h5 id="charAt"><a href="#charAt" class="headerlink" title="charAt"></a>charAt</h5><p><code>charAt</code> 方法返回字符串中指定索引的字符。</p>
<p>语法： <em>charAt(index)</em></p>
<p><code>index</code> 的值为 <code>0 ~ string.length</code></p>
<h5 id="charCodeAt"><a href="#charCodeAt" class="headerlink" title="charCodeAt"></a>charCodeAt</h5><p><code>charCodeAt</code> 返回字符串中指定索引位置处字符的 <code>Unicode</code> 编码。</p>
<p>语法： <em>charCodeAt(index)</em></p>
<h5 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h5><p><code>concat</code> 与数组中的 <code>concat</code> 方法类似，可以将一个或者多个字符连接在一起。但是其性能较差，比直接使用 <code>+</code> 作要差很多。</p>
<p>语法： <em>str.concat(str1,str2….)</em></p>
<h5 id="indexOf-lastIndexOf"><a href="#indexOf-lastIndexOf" class="headerlink" title="indexOf,lastIndexOf"></a>indexOf,lastIndexOf</h5><p><code>indexOf()</code> 方法用于查找子字符串在字符串中首次出现的位置，没有则返回 <code>-1</code>。该方法严格区分大小写，并且从左往右查找。而 <code>lastIndexOf</code> 则从右往左查找，其它与前者一致。</p>
<p>语法：<em>str.indexOf(searchValue [, fromIndex=0])，str.lastIndexOf(searchValue [, fromIndex=0])</em></p>
<h5 id="match"><a href="#match" class="headerlink" title="match"></a>match</h5><p><code>match</code> 方法用于测试字符串是否支持指定正则表达式的规则，即使传入的是非正则表达式对象，它也会隐式地使用 <code>new RegExp(obj)</code> 将其转换为正则表达式对象。</p>
<p>语法: _ str.mathc(RegExp)_<br>该方法返回包含匹配结果的数组，如果没有匹配项，则返回 null。</p>
<p>注意:</p>
<ul>
<li>若正则表达式没有 g 标志，则返回同 RegExp.exec(str) 相同的结果。而且返回的数组拥有一个额外的 input 属性，该属性包含原始字符串，另外该数组还拥有一个 index 属性，该属性表示匹配字符串在原字符串中索引（从0开始）。</li>
<li>若正则表达式包含 g 标志，则该方法返回一个包含所有匹配结果的数组，没有匹配到则返回 null。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let str = &apos;abcdefg!&apos;</span><br><span class="line">console.log(str.match(/[a-d]/i))</span><br><span class="line">//[&quot;a&quot;, index: 0, input: &quot;abcdefg!&quot;]</span><br></pre></td></tr></table></figure>
<p><strong> 相关的 RegExp 方法 </strong></p>
<ul>
<li>若需测试字符串是否匹配正则，使用 <code>RegExp.test(str)</code></li>
<li>若只需第一个匹配结果，使用 <code>RegExp.exec(str)</code></li>
</ul>
<h5 id="replace"><a href="#replace" class="headerlink" title="replace"></a>replace</h5><h5 id="search"><a href="#search" class="headerlink" title="search"></a>search</h5><p><code>search</code> 方法用于测试字符串对象是否包含某个正则匹配，相当于正则表达式的 <code>test</code> 方法，且该方法比 <code>match()</code> 方法更快。如果匹配成功，<code>search()</code> 返回正则表达式在字符串中首次匹配项的索引，否则返回-1。该方法不支持全局匹配。</p>
<p>语法: <em>str.search(regexp)</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let str = &apos;abcdefg&apos;</span><br><span class="line">console.log(str.search(/[a-g]/))</span><br><span class="line">// 3, 匹配到子串&quot;defg&quot;,而d在原字符串中的索引为3</span><br></pre></td></tr></table></figure>
<h5 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h5><p><code>slice</code> 方法提取字符串的一部分，并返回新的字符串。该方法类似于 <code>Array.prototype.slice()</code> 方法。</p>
<p>语法： <em>str.slice(start,end)</em></p>
<p>同样取值的索引是 <em>[start,end)</em>。</p>
<h5 id="split"><a href="#split" class="headerlink" title="split"></a>split</h5><p><code>split()</code> 方法把原字符串分割成子字符串组成数组，并返回该数组。</p>
<p>语法： <em>str.split(separator,limit)</em></p>
<p>两个参数均是可选的，其中 <code>separator</code> 表示分隔符，它可以是字符串也可以是正则表达式。如果忽略 <code>separator</code>，则返回的数组包含一个由原字符串组成的元素。如果 <code>separator</code> 是一个空串，则 <code>str</code> 将会被分割成一个由原字符串中字符组成的数组。<code>limit</code> 表示从返回的数组中截取前 <code>limit</code> 个元素，从而限定返回的数组长度。</p>
<p>使用正则分割字符串:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let str = &apos;today is a sunny day&apos;</span><br><span class="line"> console.log(str.split(/\s*is\s*/))</span><br><span class="line">// [&quot;today&quot;,&quot;a sunny day&quot;]</span><br></pre></td></tr></table></figure>
<p>若正则分隔符里包含捕获括号，则括号匹配的结果将会包含在返回的数组中。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(str.split(/(\s*is\s*)/)); // [&quot;today&quot;, &quot; is &quot;, &quot;a sunny day&quot;]</span><br></pre></td></tr></table></figure>
<h5 id="substr"><a href="#substr" class="headerlink" title="substr"></a>substr</h5><p><code>substr（）</code> 方法返回字符串指定索引位置开始的指定数量的字符。</p>
<p>语法： <em>str.substr(start[,length])</em></p>
<p><code>start</code> 表示开始截取字符的位置，可取正值或负值,<code>length</code> 表示截取的字符长度。</p>
<p>取正值时表示<code>start</code>位置的索引，取负值时表示 <code>length+start</code>位置的索引(此时的参与计算的 <code>length</code> 表示原始字符串的长度)。</p>
<h5 id="substring"><a href="#substring" class="headerlink" title="substring"></a>substring</h5><p><code>substring()</code> 方法返回字符串两个索引之间的子串。</p>
<p>语法： <em>str.substring(indexA,[indexB])</em></p>
<p>有效范围是 <code>[indexA,indexB)</code>。</p>
<h5 id="toLocaleLowerCase、toLocaleUpperCase"><a href="#toLocaleLowerCase、toLocaleUpperCase" class="headerlink" title="toLocaleLowerCase、toLocaleUpperCase"></a>toLocaleLowerCase、toLocaleUpperCase</h5><p><code>toLocaleLowerCase()</code> 方法返回调用该方法的字符串被转换成小写的值，转换规则根据本地化的大小写映射。而 <code>toLocaleUpperCase()</code> 方法则是转换成大写的值。</p>
<h5 id="toLowerCase、toUpperCase"><a href="#toLowerCase、toUpperCase" class="headerlink" title="toLowerCase、toUpperCase"></a>toLowerCase、toUpperCase</h5><p>这两个方法分别表示将字符串转换为相应的小写，大写形式，并返回。</p>
<h5 id="toString-ValueOf"><a href="#toString-ValueOf" class="headerlink" title="toString,ValueOf"></a>toString,ValueOf</h5><p>这两个方法都是返回字符串本身。</p>
<p>语法： <em>str.toString(), str.valueOf()</em></p>
<p>两者在对对象的处理上面存在一些差异：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var x = &#123;</span><br><span class="line">    toString: function () &#123; return &quot;test&quot;; &#125;,</span><br><span class="line">    valueOf: function () &#123; return 123; &#125;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(x); // obj</span><br><span class="line">console.log(&quot;x=&quot; + x); // &quot;x=123&quot;</span><br><span class="line">console.log(x + &quot;=x&quot;); // &quot;123=x&quot;</span><br><span class="line">console.log(x + &quot;1&quot;); // 1231</span><br><span class="line">console.log(x + 1); // 124</span><br><span class="line">console.log([&quot;x=&quot;, x].join(&quot;&quot;)); // &quot;x=test&quot;</span><br></pre></td></tr></table></figure>
<p>当 “+” 操作符一边为数字时，对象x趋向于转换为数字，表达式会优先调用 <code>valueOf</code> 方法，如果调用数组的 <code>join</code> 方法，对象x趋向于转换为字符串，表达式会优先调用 <code>toString</code> 方法。</p>
<h5 id="trim"><a href="#trim" class="headerlink" title="trim"></a>trim</h5><p><code>trim()</code> 方法清除字符串首尾的空白并返回。</p>
<p>使用 <code>replace</code> 实现 <code>trim</code> 方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function trim(str)&#123;</span><br><span class="line">  return str.replace(/(^\s*)|(\s*$)/g,&quot;&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/13/数组操作API/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/13/数组操作API/" itemprop="url">数组操作API</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-13T00:00:00+08:00">
                2016-10-13
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="ES6-新增加的构造函数方法"><a href="#ES6-新增加的构造函数方法" class="headerlink" title="ES6 新增加的构造函数方法"></a>ES6 新增加的构造函数方法</h3><hr>
<h4 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of"></a>Array.of</h4><p>Array.of 用于将参数依次转换为数组中的一项，然后返回这个数组。而不论参数是数字还是其它。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Array.of(8.0);// [8]</span><br><span class="line">Arry.of(8.);//[undefined*8]</span><br></pre></td></tr></table></figure>
<p>Array.of 最常用的用途就是使用数组包括元素。</p>
<p>Array.of 的 polyfill 实现:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if(!Array.of)&#123;</span><br><span class="line">  Array.of = function()&#123;</span><br><span class="line">    return Array.prototype.slice.call(arguments)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from"></a>Array.from</h4><p>Arry.from 的主要用途是将类数组快捷的转换为数组，并返回一个新的数字实例。它可以接收三个参数，第一个为类似数组的对象，必选。第二个为加工函数，新生成的数组会经过该函数的加工再返回。第三个为this作用域，表示加工函数执行时this的值。后两个参数都是可选的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;0: &apos;a&apos;, 1: &apos;b&apos;, 2:&apos;c&apos;, length: 3&#125;;</span><br><span class="line">Array.from(obj, function(value, index)&#123;</span><br><span class="line">  console.log(value, index, this, arguments.length);</span><br><span class="line">  return value.repeat(3); //必须指定返回值，否则返回undefined</span><br><span class="line">&#125;, obj);</span><br></pre></td></tr></table></figure>
<p>除了 obj 对象之外，拥有迭代器的对象还包括，<code>String</code>,<code>Set</code>,<code>Map</code>,<code>arguments</code>.</p>
<p>Array.isArray</p>
<hr>
<p>在 ES6 之前，我们有多种方法可以去判断一个值是否是数组：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var a = [];</span><br><span class="line">// 基于 instanceof</span><br><span class="line">a.instanceof Array;</span><br><span class="line">// 基于 constructor</span><br><span class="line">a.constructor === Array;</span><br><span class="line">// 基于 Object.prototype.isPrototypeOf</span><br><span class="line">Array.prototype.isPrototypeOf(a)</span><br><span class="line">// 基于 getPrototypeOf</span><br><span class="line">Object.getProtorypeOf(a) === Array.prototype</span><br><span class="line">// 基于 Object.prototype.toString()</span><br><span class="line">Array.prototype.toString(a) === &apos;[object Array]&apos;</span><br></pre></td></tr></table></figure>
<p>以上，除了 <code>Object.prototype.toString</code> 以外，都不能正确的判断类型。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var a = &#123;</span><br><span class="line">  __proto__: Array.prototype</span><br><span class="line">&#125;;</span><br><span class="line">// 分别在控制台试运行以下代码</span><br><span class="line">// 1.基于instanceof</span><br><span class="line">a instanceof Array; // true</span><br><span class="line">// 2.基于constructor</span><br><span class="line">a.constructor === Array; // true</span><br><span class="line">// 3.基于Object.prototype.isPrototypeOf</span><br><span class="line">Array.prototype.isPrototypeOf(a); // true</span><br><span class="line">// 4.基于getPrototypeOf</span><br><span class="line">Object.getPrototypeOf(a) === Array.prototype; // true</span><br></pre></td></tr></table></figure>
<p>如上，我们只是单纯的改变了对象 a 的 <code>__proto__</code> 属性，便导致该对象继承了 <code>Array</code> 类型。</p>
<p>所幸，ES6 提供了 Array.isArray 方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Array.isArray(a);// false;</span><br></pre></td></tr></table></figure>
<p>Array.isArray 的 polyfill 如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if (Array.isArray)&#123;</span><br><span class="line">  Array.isArray = function(args)&#123;</span><br><span class="line">    return Array.prototype.toString(args) === &apos;[object Array]&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><p>数组所有方法都是继承自原型的。数组的方法非常之多，主要分为三种，一种是会改变自身的，一种是不会改变自身的，最后一种就是遍历了。</p>
<h4 id="改变自身值的方法-9个"><a href="#改变自身值的方法-9个" class="headerlink" title="改变自身值的方法(9个)"></a>改变自身值的方法(9个)</h4><p>改变自身值的方法共有 9 个。分别是 <code>pop</code>,<code>push</code>,<code>sort</code>,<code>shift</code>,<code>unshift</code>,<code>reverse</code>,<code>splice</code>,以及 ES6 新增的方法 <code>copyWith</code> 和 <code>fill</code>。</p>
<h5 id="pop"><a href="#pop" class="headerlink" title="pop"></a>pop</h5><p>pop() 方法删除一个数组中的最后一个元素，并且返回该元素。</p>
<h5 id="push"><a href="#push" class="headerlink" title="push"></a>push</h5><p>push() 方法在数组的最后推入一个或多个元素，并返回数组的新的长度。</p>
<h5 id="reverse"><a href="#reverse" class="headerlink" title="reverse"></a>reverse</h5><p>reverse() 方法用于颠倒数组中元素的位置。该方法返回对数组的索引。</p>
<h5 id="shift"><a href="#shift" class="headerlink" title="shift"></a>shift</h5><p>shift() 方法删除数组中的第一个元素，并返回这个元素。</p>
<h5 id="unshift"><a href="#unshift" class="headerlink" title="unshift"></a>unshift</h5><p>unshift() 方法用于在数组开开头插入一些元素，并返回新的数组长度。</p>
<h5 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h5><p>sort() 方法对数组进行排序，并返回这个数组。</p>
<p>语法: <strong>arr.sort([compareFn])</strong></p>
<p>默认情况下，sort 方法将按照元素的 UniCode(万国码)进行排序。如果指定了 compareFn，那么将根据该函数返回的结果进行排序：</p>
<ul>
<li>若 compareFn(a,b) &gt; 0, a 将在 b之前</li>
<li>若 compareFn(a,b) = 0, a 和 b 相对位置不变</li>
<li>若 compareFn(a,b) &lt; 0, a 将排在 b 之后</li>
</ul>
<p>如果数组为非 ASCII 字符的字符串(é、è、a、ä 或中文字符等非英文字符的字符串)，则需要使用 <code>String.localeCompare</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var array = [&apos;好&apos;,&apos;好&apos;,&apos;学&apos;,&apos;习&apos;,&apos;天&apos;,&apos;天&apos;,&apos;向&apos;,&apos;上&apos;];</span><br><span class="line">var sortArr = array.sort(function (a,b) &#123;return a.localeCompare(b)&#125;);</span><br><span class="line">console.log(array)</span><br><span class="line">//[&quot;好&quot;, &quot;好&quot;, &quot;上&quot;, &quot;天&quot;, &quot;天&quot;, &quot;习&quot;, &quot;向&quot;, &quot;学&quot;]</span><br><span class="line">console.log(sortArr)</span><br><span class="line">  //[&quot;好&quot;, &quot;好&quot;, &quot;上&quot;, &quot;天&quot;, &quot;天&quot;, &quot;习&quot;, &quot;向&quot;, &quot;学&quot;]</span><br></pre></td></tr></table></figure>
<p>sort函数默认按照数组元素unicode字符串形式进行排序，然而实际上，我们期望的是按照拼音先后顺序进行排序，显然String.localeCompare 帮助我们达到了这个目的。</p>
<h5 id="sort-在-chrome-的怪异行为"><a href="#sort-在-chrome-的怪异行为" class="headerlink" title="sort 在 chrome 的怪异行为"></a>sort 在 chrome 的怪异行为</h5><p>v8 引擎为了高效排序(采用了不稳定排序),即数组长度超过10条时，会调用另一种排序方法(快速排序)；而10条及以下采用的是插入排序。</p>
<p>那么这时就出现问题了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var array = [&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;,&apos;e&apos;,&apos;f&apos;,&apos;g&apos;,&apos;h&apos;,&apos;i&apos;,&apos;j&apos;,&apos;k&apos;,&apos;l&apos;,&apos;m&apos;];</span><br><span class="line">  array.sort(function (a, b) &#123;</span><br><span class="line">    return a - b</span><br><span class="line">  &#125;);</span><br><span class="line">  for (var i = 0,len = array.length; i &lt; len; i++) &#123;</span><br><span class="line">    console.log(array[i]);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h5 id="splice"><a href="#splice" class="headerlink" title="splice"></a>splice</h5><p>splice() 方法用新元素替换旧元素的方式来修改ia数组。</p>
<p>语法: arr.splice(start,deleceCount[,item1[,items]])</p>
<p>start 指定下标从那一位开始。如果超过了数组的长度，则从数组的末尾添加内容；若 start 为负数，则指定的索引位置等同于 length + start。</p>
<p>deleceCount 代表要删除元素的个数。</p>
<p>itemN 指定新增的元素，如果缺省，则该方法只删除数组元素。</p>
<p>返回值 由原数组中被删除元素组成的数组，如果没有删除，则返回一个空数组。</p>
<p>扩展，删除数组中指定位置的元素:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var array = [&apos;a&apos;,&apos;b&apos;,&apos;c&apos;]</span><br><span class="line">array.splice(array.indexOf(&apos;b&apos;),1)</span><br></pre></td></tr></table></figure>
<h5 id="copyWith-ES6"><a href="#copyWith-ES6" class="headerlink" title="copyWith [ES6]"></a>copyWith [ES6]</h5><h5 id="fill-ES6"><a href="#fill-ES6" class="headerlink" title="fill [ES6]"></a>fill [ES6]</h5><hr>
<h4 id="纯函数"><a href="#纯函数" class="headerlink" title="纯函数"></a>纯函数</h4><h5 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h5><p>concat() 方法将传入的数组或者元素与原来的数组合并，并返回一个新的数组。</p>
<p><strong>语法: arr.concat(value1,value2,…)</strong></p>
<p>若concat方法中不传入参数，那么将基于原数组浅复制生成一个一模一样的新数组（数组指向新的地址空间，但是数组内的引用类型依旧与原来的数组共用一块内存空间）。<a href="">关于深拷贝与浅拷贝</a></p>
<h5 id="join"><a href="#join" class="headerlink" title="join"></a>join</h5><p>join() 方法将数组中的所有元素连接成一个字符串,并返回该字符串.</p>
<h5 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h5><p>slice() 方法将数组中一部分元素浅复制存入新的数组对象，并且返回这个数组对象。其返回的返回的范围是 <strong>[start,end)</strong></p>
<p><strong>语法: arr.slice([start[,end]])</strong></p>
<p>参数 start 指定复制开始位置的索引，end如果有值则表示复制结束位置的索引（不包括此位置）。</p>
<p>如果 start 的值为负数，假如数组长度为 length，则表示从 length+start 的位置开始复制，此时参数 end 如果有值，只能是比 start 大的负数，否则将返回空数组。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var array = [&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;,&apos;e&apos;,&apos;f&apos;,&apos;g&apos;,&apos;h&apos;,&apos;i&apos;,&apos;j&apos;,&apos;k&apos;,&apos;l&apos;,&apos;m&apos;];</span><br><span class="line"> var arr = array.slice(1,4)</span><br><span class="line"> console.log(arr)</span><br><span class="line"> // b,c,d</span><br></pre></td></tr></table></figure>
<p>slice方法参数为空时，同concat方法一样，都是浅复制生成一个新数组。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var array = [</span><br><span class="line">    &#123;</span><br><span class="line">      a:&#123;</span><br><span class="line">            b:2</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line"></span><br><span class="line">  var arr = array.slice()</span><br><span class="line">  arr[0].a.b = 3;</span><br><span class="line">  console.log(array[0].a.b);// 3</span><br></pre></td></tr></table></figure>
<p>由于slice是浅复制，复制到的对象只是一个引用，改变数组arr的值，array也随之改变。</p>
<h5 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h5><p>toString() 方法返回数组的字符串形式，该字符串由数组中的每个元素的 toString() 返回值经调用 join() 方法连接（由逗号隔开）组成。</p>
<p><strong>语法： arr.toString()</strong></p>
<p>当数组直接和字符串作连接操作时，将会自动调用其toString() 方法。</p>
<h5 id="toLocalString"><a href="#toLocalString" class="headerlink" title="toLocalString"></a>toLocalString</h5><p>toLocaleString() 类似toString()的变型，该字符串由数组中的每个元素调用各自的 toLocaleString() 并返回值再调用 join() 方法连接（由逗号隔开）组成。</p>
<p><strong>语法：arr.toLocaleString()</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var array = [</span><br><span class="line">    &#123;&apos;name&apos;:&apos;jack&apos;&#125;,</span><br><span class="line">    123,</span><br><span class="line">    new Date()</span><br><span class="line">  ]</span><br><span class="line">  console.log(array.toString())</span><br><span class="line">  //[object Object],123,Mon Jun 05 2017 21:33:37 GMT+0800 (CST)</span><br><span class="line">  console.log(array.toLocaleString())</span><br><span class="line">  //[object Object],123,2017/6/5 下午9:33:37</span><br></pre></td></tr></table></figure>
<h5 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf"></a>indexOf</h5><p>indexOf() 方法用于查找元素在数组中第一次出现时的索引，如果没有，则返回-1。</p>
<p><strong>语法：arr.indexOf(element, fromIndex=0)</strong></p>
<h5 id="lastIndexOf"><a href="#lastIndexOf" class="headerlink" title="lastIndexOf"></a>lastIndexOf</h5><p>lastIndexOf() 方法用于查找元素在数组中最后一次出现时的索引，如果没有，则返回-1。并且它是indexOf的逆向查找，即从数组最后一个往前查找。</p>
<p><strong>语法：arr.lastIndexOf(element, fromIndex=length-1)</strong></p>
<h5 id="includes-ES7"><a href="#includes-ES7" class="headerlink" title="includes (ES7)"></a>includes (ES7)</h5><p>includes() 方法基于ECMAScript 2016（ES7）规范，它用来判断当前数组是否包含某个指定的值，如果是，则返回 true，否则返回 false。与 indexOf 的区别是，includes 方法可以判断出 NaN。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var array = [NaN];</span><br><span class="line">console.log(array.includes(NaN)); // true</span><br><span class="line">console.log(arra.indexOf(NaN)&gt;-1); // false</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="遍历方法"><a href="#遍历方法" class="headerlink" title="遍历方法"></a>遍历方法</h3><p>基于ES6，遍历的方法一共有12个，分别为forEach、every、some、filter、map、reduce、reduceRight 以及ES6新增的方法entries、find、findIndex、keys、values。</p>
<h5 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h5><p>forEach() 方法指定数组的每项元素都执行一次传入的函数，返回值为undefined,并且会改变原数组。</p>
<p>语法：arr.forEach(fn, thisArg)<br>fn 表示在数组每一项上执行的函数，接受三个参数：<br>value 当前正在被处理的元素的值<br>index 当前元素的数组索引<br>array 数组本身<br>thisArg 可选，用来当做fn函数内的this对象。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var arr = [&apos;1&apos;,&apos;2&apos;,&apos;3&apos;]</span><br><span class="line"> var result = arr.forEach(function (value,index,self) &#123;</span><br><span class="line">    console.log(self[index] = value * value)</span><br><span class="line">    //1,4,9</span><br><span class="line">  &#125;)</span><br><span class="line">  console.log(arr)</span><br><span class="line">  // [1,4,9]</span><br><span class="line">  console.log(result)</span><br><span class="line">  // undefined</span><br></pre></td></tr></table></figure>
<h5 id="every"><a href="#every" class="headerlink" title="every"></a>every</h5><p>every() 方法使用传入的函数测试所有元素，只要其中有一个函数返回值为 false，那么该方法的结果为 false；如果全部返回 true，那么该方法的结果才为 true。</p>
<p>语法同 forEach。</p>
<h5 id="some"><a href="#some" class="headerlink" title="some"></a>some</h5><p>some() 方法刚好同 every() 方法相反，some 测试数组元素时，只要有一个函数返回值为 true，则该方法返回 true，若全部返回 false，则该方法返回 false。</p>
<p>语法同 forEach。</p>
<p>some方法与includes方法有着异曲同工之妙，他们都是探测数组中是否拥有满足条件的元素，一旦找到，便返回true。</p>
<h5 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h5><p>filter() 方法使用传入的函数测试所有元素，并返回所有通过测试的元素组成的新数组。</p>
<p>语法同 forEach。</p>
<h5 id="map"><a href="#map" class="headerlink" title="map"></a>map</h5><p>map() 方法遍历数组，使用传入函数处理每个元素，并返回函数的返回值组成的新数组。同样 map 方法默认不会改变原始数组的值。<br>语法同 forEach。</p>
<h4 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h4><p>reduce() 方法接收一个方法作为累加器，数组中的每个值(从左至右) 开始合并，最终为一个值。</p>
<p>语法：arr.reduce(fn, initialValue)</p>
<p>fn 表示在数组每一项上执行的函数，接受四个参数：</p>
<ul>
<li>previousValue 上一次调用回调返回的值，或者是提供的初始值</li>
<li>value 数组中当前被处理元素的值</li>
<li>index 当前元素在数组中的索引</li>
<li>array 数组自身</li>
</ul>
<p>initialValue 指定第一次调用 fn 的第一个参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var arr = [&apos;1&apos;,&apos;2&apos;,&apos;3&apos;]</span><br><span class="line"> var result = arr.reduce(function (pre,value,index,arr) &#123;</span><br><span class="line">   return  parseInt(pre)+ parseInt(value)</span><br><span class="line"> &#125;,1)</span><br><span class="line">  console.log(arr)</span><br><span class="line">  // [&apos;1&apos;,&apos;2&apos;,&apos;3&apos;]</span><br><span class="line">  console.log(result)</span><br><span class="line">  // 7</span><br></pre></td></tr></table></figure>
<h4 id="reduceRight"><a href="#reduceRight" class="headerlink" title="reduceRight"></a>reduceRight</h4><p>reduceRight() 方法接收一个方法作为累加器，数组中的每个值（从右至左）开始合并，最终为一个值。除了与reduce执行方向相反外，其他完全与其一致，请参考上述 reduce 方法介绍。</p>
<p><a href="http://louiszhai.github.io/2017/04/28/array/#Array-isArray" target="_blank" rel="noopener">本文参考</a></p>
<hr>
<h3 id="自定义操作符"><a href="#自定义操作符" class="headerlink" title="自定义操作符"></a>自定义操作符</h3><hr>
<h4 id="concatAll"><a href="#concatAll" class="headerlink" title="concatAll"></a>concatAll</h4><p>concatlAll 和可以将二维数组或对象拆分为一维，并返回一个新的数组。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.concatAll = function () &#123;</span><br><span class="line">    let result = [];</span><br><span class="line">    this.forEach(item =&gt; result.push(...item))</span><br><span class="line">    return result;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="使用map，filter，concatAll-过滤数据"><a href="#使用map，filter，concatAll-过滤数据" class="headerlink" title="使用map，filter，concatAll 过滤数据"></a>使用map，filter，concatAll 过滤数据</h3><p>原始数据如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">let courseLists = [</span><br><span class="line">	&#123;</span><br><span class="line">		&quot;name&quot;: &quot;My Courses&quot;,</span><br><span class="line">		&quot;courses&quot;: [</span><br><span class="line">			&#123;</span><br><span class="line">				&quot;id&quot;: 511019,</span><br><span class="line">				&quot;title&quot;: &quot;React for Beginners&quot;,</span><br><span class="line">				&quot;covers&quot;: [</span><br><span class="line">					&#123; width: 150, height: 200, url: &quot;http://placehold.it/150x200&quot;&#125;,</span><br><span class="line">					&#123; width: 200, height: 200, url: &quot;http://placehold.it/200x200&quot;&#125;,</span><br><span class="line">					&#123; width: 300, height: 200, url: &quot;http://placehold.it/300x200&quot;&#125;</span><br><span class="line">				],</span><br><span class="line">				&quot;tags&quot;: [&#123; id: 1, name: &quot;JavaScript&quot; &#125;],</span><br><span class="line">				&quot;rating&quot;: 5</span><br><span class="line">			&#125;,</span><br><span class="line">			&#123;</span><br><span class="line">				&quot;id&quot;: 511020,</span><br><span class="line">				&quot;title&quot;: &quot;Front-End automat workflow&quot;,</span><br><span class="line">				&quot;covers&quot;: [</span><br><span class="line">					&#123; width: 150, height: 200, url: &quot;http://placehold.it/150x200&quot;&#125;,</span><br><span class="line">					&#123; width: 200, height: 200, url: &quot;http://placehold.it/200x200&quot;&#125;,</span><br><span class="line">					&#123; width: 300, height: 200, url: &quot;http://placehold.it/300x200&quot;&#125;</span><br><span class="line">				],</span><br><span class="line">				&quot;tags&quot;: [&#123; &quot;id&quot;: 2, &quot;name&quot;: &quot;gulp&quot; &#125;, &#123; &quot;id&quot;: 3, &quot;name&quot;: &quot;webpack&quot; &#125;],</span><br><span class="line">				&quot;rating&quot;: 5</span><br><span class="line">			&#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;,</span><br><span class="line">	&#123;</span><br><span class="line">		&quot;name&quot;: &quot;New Release&quot;,</span><br><span class="line">		&quot;courses&quot;: [</span><br><span class="line">			&#123;</span><br><span class="line">				&quot;id&quot;: 511022,</span><br><span class="line">				&quot;title&quot;: &quot;Vue2 for Beginners&quot;,</span><br><span class="line">				&quot;covers&quot;: [</span><br><span class="line">					&#123; width: 150, height: 200, url: &quot;http://placehold.it/150x200&quot;&#125;,</span><br><span class="line">					&#123; width: 200, height: 200, url: &quot;http://placehold.it/200x200&quot;&#125;,</span><br><span class="line">					&#123; width: 300, height: 200, url: &quot;http://placehold.it/300x200&quot;&#125;</span><br><span class="line">				],</span><br><span class="line">				&quot;tags&quot;: [&#123; id: 1, name: &quot;JavaScript&quot; &#125;],</span><br><span class="line">				&quot;rating&quot;: 5</span><br><span class="line">			&#125;,</span><br><span class="line">			&#123;</span><br><span class="line">				&quot;id&quot;: 511023,</span><br><span class="line">				&quot;title&quot;: &quot;Angular2 for Beginners&quot;,</span><br><span class="line">				&quot;covers&quot;: [</span><br><span class="line">					&#123; width: 150, height: 200, url: &quot;http://placehold.it/150x200&quot;&#125;,</span><br><span class="line">					&#123; width: 200, height: 200, url: &quot;http://placehold.it/200x200&quot;&#125;,</span><br><span class="line">					&#123; width: 300, height: 200, url: &quot;http://placehold.it/300x200&quot;&#125;</span><br><span class="line">				],</span><br><span class="line">				&quot;tags&quot;: [&#123; id: 1, name: &quot;JavaScript&quot; &#125;],</span><br><span class="line">				&quot;rating&quot;: 5</span><br><span class="line">			&#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<p>要得到的目标数据:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[&#123;</span><br><span class="line">  cover: &quot;http://placehold.it/150x200&quot;,</span><br><span class="line">  id: 511019,</span><br><span class="line">  title: &quot;React for Beginners&quot;</span><br><span class="line">&#125;, [object Object] &#123;</span><br><span class="line">  cover: &quot;http://placehold.it/150x200&quot;,</span><br><span class="line">  id: 511020,</span><br><span class="line">  title: &quot;Front-End automat workflow&quot;</span><br><span class="line">&#125;, [object Object] &#123;</span><br><span class="line">  cover: &quot;http://placehold.it/150x200&quot;,</span><br><span class="line">  id: 511022,</span><br><span class="line">  title: &quot;Vue2 for Beginners&quot;</span><br><span class="line">&#125;, [object Object] &#123;</span><br><span class="line">  cover: &quot;http://placehold.it/150x200&quot;,</span><br><span class="line">  id: 511023,</span><br><span class="line">  title: &quot;Angular2 for Beginners&quot;</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>
<p>答案:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.concatAll = function() &#123;</span><br><span class="line">  var result = []</span><br><span class="line">  this.forEach(item =&gt; &#123;</span><br><span class="line">    result.push(...item);</span><br><span class="line">  &#125;)</span><br><span class="line">  return result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var result = courseLists</span><br><span class="line">				.map(list =&gt; list.courses</span><br><span class="line">					.map(course =&gt; course.covers</span><br><span class="line">                          .filter(cover =&gt; cover.width === 150)</span><br><span class="line">                          .map(item =&gt; (&#123;</span><br><span class="line">                            id: course.id,</span><br><span class="line">                            title: course.title,</span><br><span class="line">                            cover: item.url</span><br><span class="line">                          &#125;))</span><br><span class="line">          ).concatAll()</span><br><span class="line">        ).concatAll()</span><br><span class="line"></span><br><span class="line">console.log(result);</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/08/结构与布局/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/08/结构与布局/" itemprop="url">结构与布局</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-08T00:00:00+08:00">
                2016-10-08
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="0x00-自适应内部元素"><a href="#0x00-自适应内部元素" class="headerlink" title="0x00 自适应内部元素"></a>0x00 自适应内部元素</h3><p>如果我们不给元素指定一个具体的 <code>height</code> ，它就会自动适应其内容的高度。假若我们希望 <code>width</code> 也具有类似的行为呢？</p>
<hr>
<h3 id="0x01-垂直居中"><a href="#0x01-垂直居中" class="headerlink" title="0x01 垂直居中"></a>0x01 垂直居中</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">		&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">		&lt;title&gt;&lt;/title&gt;</span><br><span class="line">		&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">			*&#123;</span><br><span class="line">				margin: 0;padding: 0;</span><br><span class="line">			&#125;</span><br><span class="line">			#warp&#123;</span><br><span class="line">				width: 400px;height: 400px;background: red;text-align: center;</span><br><span class="line">			&#125;</span><br><span class="line">			#middle&#123;</span><br><span class="line">				width: 200px;height: 200px;background: yellow;</span><br><span class="line">				display: inline-block;vertical-align: middle;</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line">			span&#123;</span><br><span class="line">				display: inline-block;height: 100%;vertical-align: middle;</span><br><span class="line">			&#125;</span><br><span class="line">		&lt;/style&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">		&lt;div id=&quot;warp&quot;&gt;</span><br><span class="line">			&lt;div id=&quot;middle&quot;&gt;&lt;/div&gt;</span><br><span class="line">			&lt;span&gt;&lt;/span&gt;</span><br><span class="line">		&lt;/div&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="0x02-Table无切换刷新"><a href="#0x02-Table无切换刷新" class="headerlink" title="0x02 Table无切换刷新"></a>0x02 Table无切换刷新</h3>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/08/Table无切换刷新/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/08/Table无切换刷新/" itemprop="url">Table无切换刷新</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-08T00:00:00+08:00">
                2016-10-08
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="0x00-Table无切换刷新"><a href="#0x00-Table无切换刷新" class="headerlink" title="0x00 Table无切换刷新"></a>0x00 Table无切换刷新</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">		*&#123;</span><br><span class="line">			margin:0;</span><br><span class="line">			padding:0;</span><br><span class="line">			list-style:none;</span><br><span class="line">			box-sizing: border-box;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		ul&#123;</span><br><span class="line">			text-align: center;</span><br><span class="line">			width:600px;</span><br><span class="line">			height: 40px;		</span><br><span class="line">			background: yellowgreen;	</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		li &#123;</span><br><span class="line">			float:left;</span><br><span class="line">			border:1px deeppink solid;</span><br><span class="line">			width:200px;</span><br><span class="line">			cursor: pointer;			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		#wrap&#123;</span><br><span class="line">			width:600px;</span><br><span class="line">			height: 400px;</span><br><span class="line">			/*background-color: red;*/</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		.box &#123;</span><br><span class="line">			width: 100%;</span><br><span class="line">			height: 100%;</span><br><span class="line">			float: left;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		.box:first-child&#123;</span><br><span class="line">			background: green;</span><br><span class="line">			display: none;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		.box:nth-child(2)&#123;</span><br><span class="line">			background: black;</span><br><span class="line">			display: none;</span><br><span class="line">		&#125;</span><br><span class="line">		.box:last-child&#123;</span><br><span class="line">			background: deeppink;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;ul&gt;</span><br><span class="line">		&lt;li&gt;1&lt;/li&gt;</span><br><span class="line">		&lt;li&gt;2&lt;/li&gt;</span><br><span class="line">		&lt;li&gt;3&lt;/li&gt;</span><br><span class="line">	&lt;/ul&gt;</span><br><span class="line">	&lt;div id=&quot;wrap&quot;&gt;</span><br><span class="line">		&lt;div class=&quot;box&quot;&gt;&lt;/div&gt;</span><br><span class="line">		&lt;div class=&quot;box&quot;&gt;&lt;/div&gt;</span><br><span class="line">		&lt;div class=&quot;box&quot;&gt;&lt;/div&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">	var lis = document.getElementsByTagName(&quot;li&quot;);</span><br><span class="line">	var div = document.getElementsByClassName(&quot;box&quot;);</span><br><span class="line">	for(var i = 0;i &lt; lis.length;i++)&#123;</span><br><span class="line">		lis[i].index = i;</span><br><span class="line">		lis[i].onclick = function function_name(argument) &#123;</span><br><span class="line">			// body...</span><br><span class="line">			num = this.index;</span><br><span class="line">			for(var j = 0; j &lt; div.length;j ++)&#123;</span><br><span class="line">				div[j].style.display = &quot;none&quot;;</span><br><span class="line">				div[num].style.display = &quot;block&quot;;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/08/轮播图的N种方式/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/08/轮播图的N种方式/" itemprop="url">轮播图的N种方式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-08T00:00:00+08:00">
                2016-10-08
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="0x00-JS-CSS-图片轮播"><a href="#0x00-JS-CSS-图片轮播" class="headerlink" title="0x00 JS+CSS 图片轮播"></a>0x00 JS+CSS 图片轮播</h3><p>功能描述: 图片自动轮播，鼠标可通过左右选择滑动下一张图片。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">	&lt;title&gt;myExperimentPages&lt;/title&gt;	</span><br><span class="line">  &lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line"> </span><br><span class="line">    *&#123;</span><br><span class="line">      margin:0;</span><br><span class="line">      padding: 0;</span><br><span class="line">      list-style: none;</span><br><span class="line">      text-decoration: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #wrapper&#123;</span><br><span class="line">      position: relative;</span><br><span class="line">      width: 1024px;</span><br><span class="line">      height: 768px;</span><br><span class="line">      border:1px solid green;</span><br><span class="line">      overflow: hidden;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    #imageboxs &#123;</span><br><span class="line">      border:1px red solid;</span><br><span class="line">      width: 6000px;</span><br><span class="line">      height: 600px;</span><br><span class="line">      position: absolute;</span><br><span class="line">      left: 0;</span><br><span class="line">      top: 0;</span><br><span class="line">      transition:all .5s ease-in .1s;    </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #control &#123;</span><br><span class="line">      width: 360px;</span><br><span class="line">      height: 35px;</span><br><span class="line">      border: 1px solid red;</span><br><span class="line">      position: absolute;</span><br><span class="line">      bottom: 10; </span><br><span class="line">      right: 0;      </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #control ul &#123;</span><br><span class="line">      float:left;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    #control li &#123;</span><br><span class="line">      float:left;</span><br><span class="line">      width: 30px;</span><br><span class="line">      height: 30px;</span><br><span class="line">      border-radius: 15px;</span><br><span class="line">      border:1px solid red;</span><br><span class="line">      text-align: center;</span><br><span class="line">      cursor:pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    #control li  a &#123;</span><br><span class="line">      display: inline-block;</span><br><span class="line">      width: 30px</span><br><span class="line">      height:30px;</span><br><span class="line">    &#125;</span><br><span class="line">    #control p &#123;</span><br><span class="line">      float: left;</span><br><span class="line">      width: 100px;</span><br><span class="line">      background-color: red;</span><br><span class="line">      line-height: 35px;</span><br><span class="line">      text-align: center;      </span><br><span class="line">      cursor:pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;wrapper&quot;&gt;</span><br><span class="line">  //轮播框，必不可少，相对定位</span><br><span class="line">      &lt;div id=&quot;imageboxs&quot;&gt;</span><br><span class="line">      // 图片载体，必不可少，相对定位</span><br><span class="line">        &lt;a href=&quot;&quot;&gt;&lt;img src=&quot;myImages/1.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;myImages/2.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;myImages/3.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;myImages/4.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div id=&quot;control&quot;</span><br><span class="line">      //控制按钮，绝对定位</span><br><span class="line">        &lt;p id = &quot;prevNext&quot;&gt;前一页&lt;/p&gt;</span><br><span class="line">          &lt;ul&gt;</span><br><span class="line">            &lt;li class=&quot;con-li&quot;&gt;&lt;a href=&quot;&quot;&gt;1&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li class=&quot;con-li&quot;&gt;&lt;a href=&quot;&quot;&gt;2&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li class=&quot;con-li&quot;&gt;&lt;a href=&quot;&quot;&gt;3&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li class=&quot;con-li&quot;&gt;&lt;a href=&quot;&quot;&gt;4&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">          &lt;/ul&gt;</span><br><span class="line">         &lt;p id = &quot;afterNext&quot;&gt;后一页&lt;/p&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">       var isWrapper = document.getElementById(&quot;wrapper&quot;);</span><br><span class="line">       var boxsImage = document.getElementById(&quot;imageboxs&quot;);</span><br><span class="line">       var liControlArr = document.getElementsByClassName(&quot;con-li&quot;);</span><br><span class="line">       var nextPrev = document.getElementById(&quot;prevNext&quot;);</span><br><span class="line">       var nextAfter = document.getElementById(&quot;afterNext&quot;);</span><br><span class="line"></span><br><span class="line">       var i = 0;</span><br><span class="line">       // 记录当前显示的图片</span><br><span class="line">       nextAfter.onclick = function function_name(argument) &#123;</span><br><span class="line"></span><br><span class="line">         // body...</span><br><span class="line">          i ++;</span><br><span class="line">          if(i &gt; 3)&#123;</span><br><span class="line">            i=0;</span><br><span class="line">          &#125;</span><br><span class="line">          boxsImage.style.left = (-1024*i) + &quot;px&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       nextPrev.onclick = function ()&#123;</span><br><span class="line">          i --;</span><br><span class="line">          if ( i &lt; 0)&#123;</span><br><span class="line">            i = 3;</span><br><span class="line">            boxsImage.style.left = (-1024*i) + &quot;px&quot;;</span><br><span class="line">          &#125;else&#123;</span><br><span class="line">            boxsImage.style.left = (-1024*i) + &quot;px&quot;;</span><br><span class="line">          &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       </span><br><span class="line">       function autoPlay ()&#123;</span><br><span class="line">       // 移动图片函数</span><br><span class="line">          i ++;</span><br><span class="line">          if(i &gt; 3)&#123;</span><br><span class="line">            i=0;</span><br><span class="line">          &#125;</span><br><span class="line">          boxsImage.style.left = (-1024*i) + &quot;px&quot;;</span><br><span class="line">       &#125;</span><br><span class="line">       </span><br><span class="line">       var timer = setInterval(autoPlay,1000);</span><br><span class="line">       //自动轮播</span><br><span class="line"></span><br><span class="line">       isWrapper.onmouseover = function ()&#123;</span><br><span class="line">       // 鼠标划中，停止轮播</span><br><span class="line">          clearInterval(timer);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       isWrapper.onmouseout = function ()&#123;</span><br><span class="line">       //鼠标划出，开始轮播</span><br><span class="line">          timer = setInterval(autoPlay,1000);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       for( var j=0;j&lt;liControlArr.length;j++)&#123;</span><br><span class="line">       //为每个 li 添加 对应的图片移动事件</span><br><span class="line">          console.log(liControlArr.length);</span><br><span class="line">          liControlArr[j].index = j;</span><br><span class="line">          liControlArr[j].onmouseover = function ()&#123;</span><br><span class="line">            console.log(this.index);</span><br><span class="line">            boxsImage.style.left = (-1024*(this.index)) +&quot;px&quot;;</span><br><span class="line">          &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="0x01-为轮播添加一个短暂的停留"><a href="#0x01-为轮播添加一个短暂的停留" class="headerlink" title="0x01 为轮播添加一个短暂的停留"></a>0x01 为轮播添加一个短暂的停留</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">	&lt;title&gt;&lt;/title&gt;</span><br><span class="line">	&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">		*&#123;</span><br><span class="line">			margin:0;</span><br><span class="line">			padding: 0;</span><br><span class="line">			box-sizing: border-box;</span><br><span class="line">		&#125;</span><br><span class="line">		#wrap &#123;</span><br><span class="line">			height: 400px;</span><br><span class="line">			width:260px;</span><br><span class="line">			border: 1px solid red;</span><br><span class="line">			position: relative;</span><br><span class="line">			overflow: hidden;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		#boxImg &#123;</span><br><span class="line">			width:5000px;</span><br><span class="line">			height: 100%;</span><br><span class="line">			position: absolute;</span><br><span class="line">			left:0;</span><br><span class="line">			top:0;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		#boxImg img &#123;</span><br><span class="line">			float: left;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		#btnDiv &#123;</span><br><span class="line">			position: absolute;</span><br><span class="line">			top:100px;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">	&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;div id=&quot;wrap&quot;&gt;</span><br><span class="line">		&lt;div id=&quot;boxImg&quot;&gt;</span><br><span class="line">			&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;../20DAY/1.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt;</span><br><span class="line">			&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;../20DAY/2.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt;</span><br><span class="line">			&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;../20DAY/3.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt;</span><br><span class="line">			&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;../20DAY/4.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt;</span><br><span class="line">			&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;../20DAY/5.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt;</span><br><span class="line">		&lt;/div&gt;</span><br><span class="line">		&lt;div id=&quot;btnDiv&quot;&gt;</span><br><span class="line">		&lt;button class=&quot;btn&quot; onclick=&quot;nextLeft()&quot;&gt;&lt;&lt;/button&gt;</span><br><span class="line">		&lt;button class=&quot;btn&quot; onclick=&quot;nextRight()&quot;&gt;&gt;&lt;/button&gt;</span><br><span class="line">		&lt;/div&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">	var boxImg = document.getElementById(&quot;boxImg&quot;);</span><br><span class="line">	var mySetTiem1 = &quot;&quot;;</span><br><span class="line">	var mySetTiem2 = &quot;&quot;;</span><br><span class="line">	var timer1 = &quot;&quot;;</span><br><span class="line">	var timer = &quot;&quot;;</span><br><span class="line"></span><br><span class="line">	function clearAlltimer ()&#123;</span><br><span class="line">		clearInterval(timer);</span><br><span class="line">		clearInterval(timer1);</span><br><span class="line">		clearTimeout(mySetTiem2);</span><br><span class="line">		clearTimeout(mySetTiem1);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	var x = 0;	</span><br><span class="line">	function nextLeft ()&#123;</span><br><span class="line">		clearAlltimer();</span><br><span class="line">		clearTimeout(mySetTiem2);</span><br><span class="line">		timer1 = setInterval(function ()&#123;</span><br><span class="line">		x -=1;</span><br><span class="line">		if(x % 259 == 0)&#123;</span><br><span class="line">			clearInterval(timer1);</span><br><span class="line">			mySetTiem1 = setTimeout(nextLeft,1000);		</span><br><span class="line">		&#125;</span><br><span class="line">		if( x &lt; -1036)</span><br><span class="line">		&#123;</span><br><span class="line">			</span><br><span class="line">			x = 0;</span><br><span class="line"></span><br><span class="line">		&#125;		</span><br><span class="line">		boxImg.style.left = x +&quot;px&quot;;</span><br><span class="line">		</span><br><span class="line">		&#125;, 1);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	function nextRight () &#123;</span><br><span class="line"></span><br><span class="line">		</span><br><span class="line">		clearAlltimer();</span><br><span class="line">		timer = setInterval(function ()&#123;</span><br><span class="line">		x +=1;</span><br><span class="line">		if(x % 259 == 0)&#123;</span><br><span class="line">			clearInterval(timer);</span><br><span class="line">			mySetTiem2 = setTimeout(nextRight,1000);</span><br><span class="line">		&#125;</span><br><span class="line">		if( x &gt; 0)</span><br><span class="line">		&#123;</span><br><span class="line">			x = -1036;</span><br><span class="line">		&#125;</span><br><span class="line">		boxImg.style.left = x +&quot;px&quot;;</span><br><span class="line">		&#125;, 1);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="0x02-Tween-js-为轮播添加动画效果"><a href="#0x02-Tween-js-为轮播添加动画效果" class="headerlink" title="0x02 Tween.js 为轮播添加动画效果"></a>0x02 Tween.js 为轮播添加动画效果</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">	&lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot; src=&quot;tween.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">	&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">		*&#123;</span><br><span class="line">			margin: 0;</span><br><span class="line">			padding: 0;</span><br><span class="line">		&#125;</span><br><span class="line">		ul&#123;</span><br><span class="line">			list-style: none;</span><br><span class="line">		&#125;</span><br><span class="line">		#bannerBox&#123;</span><br><span class="line">			/*banner盒子，宽度和高度应该等于图片高度宽度*/</span><br><span class="line">			width: 1000px;</span><br><span class="line">			height: 600px;</span><br><span class="line">			border: 2px solid red;</span><br><span class="line">			margin: 0 auto;</span><br><span class="line">			position: relative;</span><br><span class="line">			overflow:hidden;</span><br><span class="line">		&#125;</span><br><span class="line">		#bannerImgs&#123;</span><br><span class="line">			/*banner 图片载体*/</span><br><span class="line">			width: 9999px;</span><br><span class="line">			height: 600px;</span><br><span class="line">			background-color: purple;</span><br><span class="line">			position: absolute;</span><br><span class="line">			left: 0;</span><br><span class="line">			top: 0;</span><br><span class="line">		&#125;</span><br><span class="line">		#bannerControl&#123;</span><br><span class="line">			width: 360px;</span><br><span class="line">			height: 40px;</span><br><span class="line">			border: 2px solid yellow;</span><br><span class="line">			position: absolute;</span><br><span class="line">			bottom: 0;</span><br><span class="line">			right: 0;</span><br><span class="line">		&#125;</span><br><span class="line">		#bannerControl p&#123;</span><br><span class="line">			float: left;</span><br><span class="line">			width: 100px;</span><br><span class="line">			background: #ccc;</span><br><span class="line">			line-height: 40px;</span><br><span class="line">			text-align: center;</span><br><span class="line">			cursor: pointer;</span><br><span class="line">		&#125;</span><br><span class="line">		#btns li&#123;</span><br><span class="line">			float: left;</span><br><span class="line">			width: 40px;</span><br><span class="line">			height: 40px;</span><br><span class="line">			background-color: #ccc;</span><br><span class="line">			border-radius: 20px;</span><br><span class="line">			line-height: 40px;</span><br><span class="line">			text-align: center;</span><br><span class="line">			cursor: pointer;</span><br><span class="line">		&#125;</span><br><span class="line">	&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;div id=&quot;bannerBox&quot;&gt;</span><br><span class="line">		&lt;div id=&quot;bannerImgs&quot;&gt;</span><br><span class="line">			&lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;../img/01.jpg&quot;/&gt;&lt;/a&gt;&lt;img src=&quot;../img/02.jpg&quot;/&gt;&lt;img src=&quot;../img/03.jpg&quot;/&gt;&lt;img src=&quot;../img/04.jpg&quot;/&gt;</span><br><span class="line">		&lt;/div&gt;</span><br><span class="line">		&lt;div id=&quot;bannerControl&quot;&gt;</span><br><span class="line">			&lt;p id=&quot;prev&quot;&gt;前一页&lt;/p&gt;</span><br><span class="line">			&lt;ul id=&quot;btns&quot;&gt;</span><br><span class="line">				&lt;li&gt;1&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;2&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;3&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;4&lt;/li&gt;</span><br><span class="line">			&lt;/ul&gt;</span><br><span class="line">			&lt;p id=&quot;next&quot;&gt;后一页&lt;/p&gt;</span><br><span class="line">		&lt;/div&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		//找对象</span><br><span class="line">		var imgs = document.getElementById(&quot;bannerImgs&quot;);</span><br><span class="line">		var prevbtn = document.getElementById(&quot;prev&quot;);</span><br><span class="line">		var nextbtn = document.getElementById(&quot;next&quot;);</span><br><span class="line">		var lis  = document.getElementsByTagName(&quot;li&quot;);		</span><br><span class="line"></span><br><span class="line">		var timerIntCavans = &quot;&quot;;</span><br><span class="line">		// 定时器，用于控制banner移动的动画效果</span><br><span class="line">		var timerOutAutoPlay = &quot;&quot;;</span><br><span class="line">		//定时器，延时调用自动轮播</span><br><span class="line">		var timerIntAutoPlay = &quot;&quot;;</span><br><span class="line">		//定时器，用于banner自动轮播</span><br><span class="line">		var num = 0;</span><br><span class="line">		// num 用于匹配当前聚焦的 li 或者imgs所在的位置</span><br><span class="line">		</span><br><span class="line">		function clearAllTimer(argument) &#123;</span><br><span class="line">			// body...</span><br><span class="line">			// 清除定时器</span><br><span class="line">			clearInterval(timerIntCavans);</span><br><span class="line">			clearInterval(timerIntAutoPlay);</span><br><span class="line">			clearTimeout(timerOutAutoPlay);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		//为每一个 Li 按钮添加 imgs 移动事件</span><br><span class="line">		for(var i = 0; i &lt; lis.length; i++)&#123;</span><br><span class="line">			</span><br><span class="line">			lis[i].index = i;//把i的值记录一下,添加到每一个li对象的index属性里</span><br><span class="line">			lis[i].onclick = function()&#123;</span><br><span class="line">				clearAllTimer();</span><br><span class="line">				num = this.index;	</span><br><span class="line">				clickMove();			</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		function clickMove ()&#123;</span><br><span class="line">			// 控制 imgs 移动</span><br><span class="line">				var step = 30; </span><br><span class="line">				//分三十次完成移动</span><br><span class="line">				var start = 0;</span><br><span class="line">				//移动初始量</span><br><span class="line">				var targetPosition = num*1000*-1;</span><br><span class="line">				//目标位置</span><br><span class="line">				var nowPosition = imgs.offsetLeft;</span><br><span class="line">				//目标当前的位置</span><br><span class="line">				var changeDisplacement = targetPosition - nowPosition;</span><br><span class="line">				//目标需要改变的位置</span><br><span class="line">				timerIntCavans = setInterval(function()&#123;</span><br><span class="line">					//timer 设置定时器，使其每十帧移动一次</span><br><span class="line">					start ++;					</span><br><span class="line">					if( start &gt;= step)&#123;						</span><br><span class="line">						clearInterval(timerIntCavans);</span><br><span class="line">					&#125;</span><br><span class="line">					imgs.style.left = Tween.Bounce.easeInOut(start,nowPosition,changeDisplacement,step)+&quot;px&quot;;</span><br><span class="line">				&#125;,10);</span><br><span class="line">				timerOutAutoPlay = setTimeout(autoPlay,2000);</span><br><span class="line">				// 定时器，延时调用自动轮播</span><br><span class="line">				changeColors(num);		</span><br><span class="line">				// 改变 当前 li 的颜色</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		prevbtn.onclick = function () &#123;			</span><br><span class="line">			clearAllTimer();</span><br><span class="line">			num --;</span><br><span class="line">			if( num &lt; 0)&#123;</span><br><span class="line">				num = 3;</span><br><span class="line">			&#125;</span><br><span class="line">			clickMove();</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		nextbtn.onclick = function ()&#123;</span><br><span class="line">			clearAllTimer();</span><br><span class="line">			num ++;</span><br><span class="line">			if (num &gt; 3)&#123;</span><br><span class="line">				num = 0;</span><br><span class="line">			&#125;</span><br><span class="line">			clickMove();			</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		</span><br><span class="line">		function autoPlay ()&#123;			</span><br><span class="line">			clearAllTimer();</span><br><span class="line">			var x = imgs.offsetLeft;</span><br><span class="line">			timerIntAutoPlay = setInterval(function()&#123;</span><br><span class="line">				x -=1;</span><br><span class="line">				if( x%1000 == 0)&#123;</span><br><span class="line">					num ++;</span><br><span class="line">					clearInterval(timerIntAutoMove);</span><br><span class="line">					timerOutAutoPlay = setTimeout(autoPlay,2000);</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				if(num &gt; 3)&#123;</span><br><span class="line">					num = 0;</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				changeColors(num);</span><br><span class="line">				if (x &lt; -3000)&#123;</span><br><span class="line">					x = 0;</span><br><span class="line">				&#125;</span><br><span class="line">				imgs.style.left = x + &quot;px&quot;;</span><br><span class="line">			&#125;,1);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		</span><br><span class="line">		function changeColors (index)&#123;</span><br><span class="line">			for(var i = 0; i &lt; lis.length; i ++)&#123;</span><br><span class="line">				lis[i].style.backgroundColor = &quot;red&quot;;</span><br><span class="line">			&#125;</span><br><span class="line">			lis[index].style.backgroundColor = &quot;black&quot;;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		autoPlay();		</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="0x03-使用opcaity实现图片轮播"><a href="#0x03-使用opcaity实现图片轮播" class="headerlink" title="0x03 使用opcaity实现图片轮播"></a>0x03 使用opcaity实现图片轮播</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">// HTML</span><br><span class="line">&lt;div class=&quot;swiper-container&quot;&gt;</span><br><span class="line">	&lt;div class=&quot;swiper-wrapper&quot;&gt;</span><br><span class="line">		 &lt;div id=&quot;swiper-img-box&quot;&gt;</span><br><span class="line">                        &lt;img src=&quot;images/rendering/Z.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class="line">		 	&lt;img src=&quot;images/rendering/Z-1.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class="line">		 	&lt;img src=&quot;images/rendering/Z-2.jpg&quot; alt=&quot;&quot;&gt;	</span><br><span class="line">		 &lt;/div&gt;</span><br><span class="line">		  &lt;div id=&quot;swiper-controll&quot;&gt;</span><br><span class="line">		 	&lt;div class=&quot;swiper-con-item swiper-con-item-one&quot;&gt;&lt;/div&gt;</span><br><span class="line">		 	&lt;div class=&quot;swiper-con-item swiper-con-item-two&quot; &gt;&lt;/div&gt;</span><br><span class="line">		 	&lt;div class=&quot;swiper-con-item swiper-con-item-three&quot;&gt;&lt;/div&gt;</span><br><span class="line">		 &lt;/div&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//CSS</span><br><span class="line">.swiper-wrapper &#123;</span><br><span class="line">	height: 78vh;</span><br><span class="line">	width: 100%;</span><br><span class="line">	position: relative;</span><br><span class="line">	overflow: hidden;</span><br><span class="line">	border: 4px solid black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#swiper-img-box &#123;	</span><br><span class="line">	width: 100%;</span><br><span class="line">	height: 100%;</span><br><span class="line">	position: absolute;</span><br><span class="line">	left: 0;</span><br><span class="line">	top: 0;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#swiper-img-box img &#123;</span><br><span class="line">	width: 100%;</span><br><span class="line">	height: 100%;</span><br><span class="line">	position: absolute;</span><br><span class="line">	left: 0;</span><br><span class="line">	top:0;</span><br><span class="line">	transition: all 1s ease ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#swiper-controll &#123;</span><br><span class="line">	position: absolute;</span><br><span class="line">	bottom: 20px;</span><br><span class="line">	left: 50%;</span><br><span class="line">	z-index: 999;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.swiper-con-item &#123;</span><br><span class="line">	width: 10px;</span><br><span class="line">	height: 10px;</span><br><span class="line">	border-radius: 5px;</span><br><span class="line">	background: gray;</span><br><span class="line">	margin-right: 5px;</span><br><span class="line">	float: left;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.swiper-con-item:focus,</span><br><span class="line">.swiper-con-item:hover &#123;</span><br><span class="line">	background: yellowgreen;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//js</span><br><span class="line">	var swiper = document.querySelector(&quot;#swiper-img-box&quot;);</span><br><span class="line">	var imgs = document.querySelectorAll(&quot;#swiper-img-box img&quot;);</span><br><span class="line">	var controlItem = document.querySelectorAll(&quot;.swiper-con-item&quot;)</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">	function moveSwiper ()&#123;	</span><br><span class="line">		var num =0;	</span><br><span class="line">		moveSwiperTimer = setInterval(function()&#123;					</span><br><span class="line">			for(var i=0;i&lt;imgs.length;i++)&#123;</span><br><span class="line">				imgs[i].style.opacity = 0;</span><br><span class="line">			&#125;			</span><br><span class="line">			imgs[num].style.opacity = 1;</span><br><span class="line">			num ++;</span><br><span class="line">			if(num &gt; imgs.length-1)&#123;</span><br><span class="line">				num =0;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,5000);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	function SwiperClick ()&#123;</span><br><span class="line">		clearTimeout(callmoveSwiper);</span><br><span class="line">		for(var i=0;i&lt;controlItem.length;i++)&#123;</span><br><span class="line">			controlItem[i].index = i;</span><br><span class="line">			controlItem[i].onclick = function()&#123;</span><br><span class="line">				</span><br><span class="line">				clearInterval(moveSwiperTimer);</span><br><span class="line">				for(var i=0;i&lt;imgs.length;i++)&#123;</span><br><span class="line">				imgs[i].style.opacity = 0;</span><br><span class="line">			&#125;			</span><br><span class="line">				imgs[this.index].style.opacity = 1;</span><br><span class="line">				callmoveSwiper = setTimeout(moveSwiper,1000);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/16/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><span class="page-number current">17</span><a class="page-number" href="/page/18/">18</a><span class="space">&hellip;</span><a class="page-number" href="/page/33/">33</a><a class="extend next" rel="next" href="/page/18/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">onejustonee</p>
              <p class="site-description motion-element" itemprop="description">onejustone's blog</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">329</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">103</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">onejustonee</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
